sap.ui.predefine('sap/ovp/app/Component',["sap/ui/core/UIComponent","sap/ovp/cards/rta/SettingsDialogConstants","sap/ui/core/routing/Router","jquery.sap.global","sap/ui/model/json/JSONModel","sap/ovp/ui/DashboardLayoutUtil","sap/ui/core/mvc/ViewType","sap/ui/model/resource/ResourceModel","sap/ui/rta/RuntimeAuthoring"],function(U,S,R,q,J,D,V,a){"use strict";return U.extend("sap.ovp.app.Component",{metadata:{routing:{config:{routerClass:R},targets:{},routes:[]},properties:{"cardContainerFragment":{"type":"string","defaultValue":"sap.ovp.app.CardContainer"},"dashboardLayoutUtil":{"type":"sap.ovp.ui.DashboardLayoutUtil"}},version:"1.56.5",library:"sap.ovp.app",dependencies:{libs:["sap.ovp"],components:[]},config:{fullWidth:true,hideLightBackground:true}},_addModelsMeasurements:function(){var m=this.oModels;var M,s;for(s in m){M=this.getModel(s);if(M.getMetaModel()){this._addModelMeasurements(M,s);}}},_addModelMeasurements:function(m,M){var i="ovp:ModelLoading-"+M;var I="ovp:ModelBatchCall-"+M+":";q.sap.measure.start(i,"Component createContent -> MetaData loaded","ovp");var g=m.getMetaModel().loaded();g.then(function(){q.sap.measure.end(i);});m.attachBatchRequestSent(function(e){q.sap.measure.start(I+e.getParameter("ID"),"BatchRequestSent -> BatchRequestCompleted","ovp");});m.attachBatchRequestCompleted(function(e){q.sap.measure.end(I+e.getParameter("ID"));});},_getOvpCardOriginalConfig:function(c){var o=this.getOvpConfig();return o.cards[c];},getOvpConfig:function(){var o;var e=[];var m=this.getMetadata();while(m&&m.getComponentName()!=="sap.ovp.app"){o=m.getManifestEntry("sap.ovp");if(o){e.unshift(o);}m=m.getParent();}e.unshift({});e.unshift(true);o=q.extend.apply(q,e);return o;},_checkIfCardSetting:function(p){var A=S.allCardSettings,f=false;for(var i=0;i<A.length;i++){if(A[i]===p){f=true;break;}}return f;},_isEquivalent:function(o,O){var v,p,f=true;if((!o&&O)||(o&&!O)){return false;}for(p in o){if(o.hasOwnProperty(p)){v=o[p];if(typeof v=="object"){f=f&&this._isEquivalent(v,O[p]);}else{f=f&&O.hasOwnProperty(p)&&((O[p]==v)||!this._checkIfCardSetting(p));}}}for(p in O){if(O.hasOwnProperty(p)){v=O[p];if(typeof v=="object"){f=f&&this._isEquivalent(v,o[p]);}else{f=f&&o.hasOwnProperty(p)&&((o[p]==v)||!this._checkIfCardSetting(p));}}}return f;},_removeExtraArrayElements:function(s,c){var b=s["staticContent"],C=c["staticContent"],d=s["tabs"],e=c["tabs"];if(b&&C){if(b.length>C.length){s["staticContent"].splice(C.length,b.length-C.length);}}if(d&&e){if(d.length>e.length){s["tabs"].splice(e.length,d.length-e.length);}}},_emptyAllArrayElements:function(s){var b=s["staticContent"],c=s["tabs"],i;if(b){for(i=0;i<b.length;i++){s["staticContent"][i]={};}}if(c){for(i=0;i<c.length;i++){s["tabs"][i]={};}}},_mergeObjects:function(o,O){for(var p in O){if(O.hasOwnProperty(p)){var v=O[p];if(typeof v=="object"&&o[p]){if(v.operation==="DELETE"){delete o[p];}else{this._mergeObjects(o[p],v);}}else{if(typeof v=="object"&&!o[p]&&v.operation==="DELETE"){continue;}o[p]=v;}}}return o;},_mergeKeyUserChanges:function(c){if(!(c.hasOwnProperty("customer.settings")&&c.hasOwnProperty("vendor.settings"))){return c;}if(!this._isEquivalent(c["settings"],c["vendor.settings"])){delete c["customer.settings"];delete c["vendor.settings"];return c;}var s=q.extend(true,{},c["settings"]),C=q.extend(true,{},c["customer.settings"]);this._removeExtraArrayElements(s,C);this._emptyAllArrayElements(s);c["settings"]=this._mergeObjects(s,C);return c;},_getFullyQualifiedNameForEntity:function(e,f){var n,r;if(!e){return"";}if(e.indexOf(".")>-1){return e;}var d=f&&f.getODataEntityContainer();n=d&&d.namespace;if(n&&!(e.indexOf(n)>-1)){r=n+"."+e;}else{r=e;}return r;},createXMLView:function(o){q.sap.measure.start("ovp:AppCreateContent","OVP app Component createContent","ovp");this._addModelsMeasurements();if(this.getRouter()){this.getRouter().initialize();}var b=this.getMetadata().getManifestEntry("sap.app");var u=this.getMetadata().getManifestEntry("sap.ui");var i=q.sap.getObject("icons.icon",undefined,u);var c=this.getMetadata().getComponentName();o.baseUrl=q.sap.getModulePath(c);if(o.smartVariantRequired===undefined||o.smartVariantRequired===null){o.smartVariantRequired=true;}if(o.enableLiveFilter===undefined||o.enableLiveFilter===null){o.enableLiveFilter=true;}if(o.showDateInRelativeFormat===undefined||o.showDateInRelativeFormat===null){o.showDateInRelativeFormat=true;}if(o.useDateRangeType||o.useDateRangeType===undefined||o.useDateRangeType===null){o.useDateRangeType=false;}var f=this.getModel(o.globalFilterModel);var F=f&&f.getMetaModel();this.setModel(f);if(o.globalFilterEntitySet&&o.globalFilterEntitySet!==" "){var e=F&&F.getODataEntitySet(o.globalFilterEntitySet);o.globalFilterEntityType=e&&e.entityType;}if(o.globalFilterEntityType&&o.globalFilterEntityType!==" "&&o.globalFilterEntityType.length>0){o.globalFilterEntityType=this._getFullyQualifiedNameForEntity(o.globalFilterEntityType,F);o.globalFilterEntityTypeNQ=o.globalFilterEntityType.split(".").pop();}var d=new J(o);d.setProperty("/applicationId",q.sap.getObject("id",undefined,b));d.setProperty("/title",q.sap.getObject("title",undefined,b));d.setProperty("/description",q.sap.getObject("description",undefined,b));if(i){if(i.indexOf("sap-icon")<0&&i.charAt(0)!=='/'){i=o.baseUrl+"/"+i;}d.setProperty("/icon",i);}var C=o.cards;var g=[];var h;for(var j in C){if(C.hasOwnProperty(j)&&C[j]){h=this._mergeKeyUserChanges(C[j]);h.id=j;g.push(h);}}g.sort(function(m,n){if(m.id<n.id){return-1;}else if(m.id>n.id){return 1;}else{return 0;}});d.setProperty("/cards",g);if(this.inResizableTestMode()===true){o.containerLayout="resizable";}if(o.containerLayout&&o.containerLayout==="resizable"){d.setProperty("/cardContainerFragment","sap.ovp.app.DashboardCardContainer");d.setProperty("/dashboardLayout",o.resizableLayout);var k=new D(d);this.setDashboardLayoutUtil(k);}else{d.setProperty("/cardContainerFragment",this.getCardContainerFragment());}this.setModel(d,"ui");var l=this._getOvpLibResourceBundle();this.setModel(l,"ovplibResourceBundle");var E=F&&F.getODataEntityType(o.globalFilterEntityType,true);var v=sap.ui.view("mainView",{height:"100%",preprocessors:{xml:{bindingContexts:{ui:d.createBindingContext("/"),meta:F.createBindingContext(E)},models:{ui:d,meta:F}}},type:V.XML,viewName:"sap.ovp.app.Main"});q.sap.measure.end("ovp:AppCreateContent");return v;},_showErrorPage:function(){var v=sap.ui.view({height:"100%",type:V.XML,viewName:"sap.ovp.app.Error"});var o=this._getOvpLibResourceBundle();v.setModel(o,"ovplibResourceBundle");this.setAggregation("rootControl",v);this.oContainer.invalidate();},_formParamString:function(p){var k=Object.keys(p);var i;var P="?";for(i=0;i<k.length;i++){P=P+k[i]+"="+p[k[i]]+"&";}return P.slice(0,-1);},_checkForAuthorizationForLineItems:function(){return new Promise(function(r,b){var A=[],c=[];var o=this.getOvpConfig();var C=o["cards"];for(var s in C){if(C.hasOwnProperty(s)&&C[s]){var d=C[s];var e=d.settings;if(d.template==="sap.ovp.cards.linklist"&&e.listFlavor==="standard"&&e.staticContent){var f=e.staticContent;for(var i=0;i<f.length;i++){if(f[i].semanticObject||f[i].action){var I="#"+f[i].semanticObject+"-"+f[i].action;if(f[i].params){var p=this._formParamString(f[i].params);I=I+p;}if(c.indexOf(s)===-1){c.push(s);}if(A.indexOf(I)===-1){A.push(I);}}}}}}this._oCardsWithStaticContent=c;sap.ushell.Container.getService('CrossApplicationNavigation').isIntentSupported(A).done(function(g){var o=this.getOvpConfig();for(var k in g){if(g.hasOwnProperty(k)&&g[k].supported===false){for(var i=0;i<this._oCardsWithStaticContent.length;i++){var f=o["cards"][this._oCardsWithStaticContent[i]].settings.staticContent;for(var j=f.length-1;j>=0;j--){var I="#"+f[j].semanticObject+"-"+f[j].action;if(f[j].params){var p=this._formParamString(f[j].params);I=I+p;}if(k===I){f.splice(j,1);}}o["cards"][this._oCardsWithStaticContent[i]].settings.staticContent=f;}}}delete this._oCardsWithStaticContent;r(o);}.bind(this)).fail(function(E){q.sap.log.error(E);b(E);});}.bind(this));},setContainer:function(){var o=this.getOvpConfig();var f=this.getModel(o.globalFilterModel);U.prototype.setContainer.apply(this,arguments);if(f&&!this.getAggregation("rootControl")){Promise.all([f.getMetaModel().loaded(),this._checkForAuthorizationForLineItems(o)]).then(function(r){this.oOvpConfig=r[1];this.runAsOwner(function(){var v=this.createXMLView(this.oOvpConfig);this.setAggregation("rootControl",v);this.oContainer.invalidate();}.bind(this));}.bind(this));f.attachMetadataFailed(function(){this._showErrorPage();}.bind(this));}},_getOvpLibResourceBundle:function(){if(!this.ovplibResourceBundle){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");this.ovplibResourceBundle=r?new a({bundleUrl:r.oUrlInfo.url,bundle:r}):null;}return this.ovplibResourceBundle;},createMapForEntityContainer:function(e){var E={};var o=e.entitySet;for(var i=0;i<o.length;i++){E[o[i].name]=o[i].entityType;}return E;},inResizableTestMode:function(){return this._getQueryParamUpToTop('resizableTest')=='true';},_getQueryParamUpToTop:function(n){var w=window;var v=this.getQueryParam(w.location.search,n);if(v!=null){return v;}if(w==w.parent){return null;}w=w.parent;return null;},getQueryParam:function(b,n){var v=null;if(!b){return v;}if(b.indexOf('?')!=-1){b=b.substring(b.indexOf('?'));}if(b.length>1&&b.indexOf(n)!=-1){b=b.substring(1);var p=b.split('&');for(var i=0;i<p.length;i++){var c=p[i].split('=');if(c[0]==n){v=c[1];break;}}}return v;}});});
sap.ui.predefine('sap/ovp/app/Main.controller',["sap/ui/core/mvc/Controller","sap/m/library","sap/ui/model/odata/ODataUtils","sap/ovp/cards/generic/Component","sap/ui/generic/app/navigation/service/NavigationHandler","sap/m/MessageBox","sap/ovp/cards/CommonUtils","sap/ovp/cards/PersonalizationUtils","sap/ovp/cards/charts/VizAnnotationManager","sap/m/BusyDialog","sap/ui/model/Filter","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/comp/state/UIState","sap/m/ColumnListItem","sap/m/Text","sap/m/Switch","sap/m/Table","sap/m/Column","sap/m/Button","sap/m/Dialog","sap/ui/model/json/JSONModel","jquery.sap.global","sap/ui/Device","sap/ovp/ui/SmartphoneHeaderToggle","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/ODataMetadata","sap/ui/fl/FlexControllerFactory","sap/ui/thirdparty/hasher","sap/m/BackgroundDesign","sap/m/ListSeparators","sap/ui/core/TextAlign"],function(C,S,O,a,N,M,b,P,V,B,F,c,U,d,T,e,f,g,h,D,J,q,m,n,o,p,r,s,t,L,u){"use strict";return C.extend("sap.ovp.app.Main",{getCustomAppStateDataExtension:function(i){},restoreCustomAppStateDataExtension:function(i){},getCustomFilters:function(){},onCustomActionPress:function(i){},onCustomParams:function(i){},oRefreshTimer:null,nRefreshInterval:0,filterItemInFocus:null,bFinishedCardsCreationProcess:false,storeIncomingDeltaChanges:function(i){this.deltaCardsInfo=i?i:[];},appendIncomingDeltaChange:function(i){this.deltaChanges.push(i);},onInit:function(){this.oContainer=sap.ushell.Container;this.aErrorCards=[];this.bDeltaChangesEnabled=false;this.deltaChanges=[];this.oCardsModels={};this.aFilters=[];this.errorHandlingObject={atLeastOneRequestSuccess:false,errorLoadingTimeout:{}};this.sPreviousEntityType="";this.sCurrentEntityType="";this.oLoadedComponents={};this.bGlobalFilterLoaded=false;this.bGoButtonPressed=false;this.bSearchButtonPressed=false;q.sap.measure.start("ovp:GlobalFilter","Main Controller init -> Global Filter loaded","ovp");q.sap.measure.start("ovp:Personalization","Main Controller init -> Personalization loaded","ovp");this.isInitialLoading=true;var i=this.getUIModel();this.bDisableErrorPage=i&&i.getProperty("/disableErrorPage");this.oNavigationHandler=this.oNavigationHandler||new N(this);this._initFlexibilityPersonalization();this.getLayout().addStyleClass("ovpLayoutElement");this.oState={};this.oState.oSmartFilterbar=this.byId("ovpGlobalFilter");this._initGlobalFilter();this._createModelForTile();this._checkJamAuth();b.enable(this,this.oNavigationHandler);},performRecreationOfCard:function(i){this.createLoadingCard(i);i.settings.baseUrl=this._getBaseUrl();this._clearStoredEntities();this._initCardModel(i.model);i=this._getTemplateForChart(i);this._loadCardComponent(i.template);this._createModelViewMap(i);q.when(this.createCard(i)).then(function(){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var j=this.getLayout().getDashboardLayoutUtil();if(j){var k=j.getDashboardLayoutModel();var l=k.getCardById(i.id);j._sizeCard(l);k.extractCurrentLayoutVariant();}}}.bind(this));},recreateCard:function(i){var j=this._getCardFromManifest(i.cardId);if(j.template=="sap.ovp.cards.charts.analytical"||j.template=="sap.ovp.cards.charts.smart.chart"){j.settings.chartAnnotationPath=i.chartAnnotationPath;j.settings.navigation=i.navigation;}j.settings.annotationPath=i.annotationPath;j.settings.dynamicSubtitleAnnotationPath=i.dynamicSubtitleAnnotationPath;j.settings.presentationAnnotationPath=i.presentationAnnotationPath;j.settings.selectionAnnotationPath=i.selectionAnnotationPath;j.settings.selectionPresentationAnnotationPath=i.selectionPresentationAnnotationPath;j.settings.kpiAnnotationPath=i.kpiAnnotationPath;j.settings.dataPointAnnotationPath=i.dataPointAnnotationPath;j.settings.identificationAnnotationPath=i.identificationAnnotationPath;j.settings.headerAnnotationPath=i.headerAnnotationPath;var k=j.settings.selectedKey;j.settings.selectedKey=i.selectedKey;if(j){this.performRecreationOfCard(j);}var l={changeType:"viewSwitch",content:{cardId:i.cardId,selectedKey:i.selectedKey,oldKey:k},isUserDependent:true};this.savePersonalization(l);},recreateRTAClonedCard:function(i){var j=this._getCardFromManifest(i.id);if(j){j.settings=i.settings;this.performRecreationOfCard(j);}},onBeforeRendering:function(){},getErrorCardsAsArray:function(){var k;var E=[];for(k in this.aOrderedCards){if(this.aOrderedCards[k].visibility){var i=this.aOrderedCards[k].id;var j=this.getView().byId(i);var l=j&&j.getComponentInstance();var v=l&&l.getComponentData();var w=v&&v.settings&&v.settings.template;if(w==="sap.ovp.cards.error"){E.push(i);}}}return E;},verifyAndSetErrorCard:function(R){var k;for(k in this.aOrderedCards){var i=this.getView().byId(this.aOrderedCards[k].id);var j=i&&i.getComponentInstance();var l=j&&j.getComponentData();var v=j&&j.getRootControl();var w=v&&v.getController();var x=w&&w.getCardItemsBinding();if(x){var y=R.getParameters().url;var z=x.sCustomParams;var A=x.sFilterParams;var E=x.sPath.replace("/","");var G=x.sRangeParams;var I=x.sCountMode&&x.sCountMode.indexOf("Inline");var H=x.sSortParams;var K=R.getSource().sServiceUrl;var Q=R.oSource&&R.oSource.oMetadata;var W=w.getEntityType();var X=sap.ui.model.odata.ODataUtils.createFilterParams(this.aFilters,Q,W);y=y.split(E).join("").split(z).join("").split(A).join("").split(G).join("").split(H).join("").split(K).join("").split(X).join("").split("?").join("").split("&").join("").split("/").join("");if(!I){y=y.split("$inlinecount=allpages").join("");}var Y=l&&l.cardId;var Z=this._getCardFromManifest(Y);var $=this.getErrorCardsAsArray();if(Z&&$.indexOf(Y)==-1&&!y){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var _=this.getLayout();var a1=_.getDashboardLayoutModel();var b1=a1.getCardById(Z.id);Z=b1;}this.createErrorCard(Z,R);}}}},onAfterRendering:function(){this.oModelViewMap={};this.oAppStatePromise=null;if(this.getView().getModel("ui").getProperty("/refreshIntervalInMinutes")){this.nRefreshInterval=this.getView().getModel("ui").getProperty("/refreshIntervalInMinutes");this.nRefreshInterval=(this.nRefreshInterval<=1?1:this.nRefreshInterval)*60000;}var i=this._getCardsModel();var j=[];var k;for(k in i){if(j.indexOf(i[k].model)==-1){j.push(i[k].model);}}var l=this.getOwnerComponent();if(l){for(k in j){var v=l.getModel(j[k]);if(v){v.attachRequestFailed(this.verifyAndSetErrorCard.bind(this));v.attachRequestSent(this.destroyErrorCardsAndReplaceWithOriginal.bind(this));}}}if(this.initialized){return;}this.initialized=true;this.oFlexibilityPersonalizationPromise.then(function(){q.sap.measure.end("ovp:Personalization");this.persistencyVariantLoaded=true;var w;var x=[],y=[];this.aManifestOrderedCards=this._getCardArrayAsVariantFormat(this.getLayout().getContent());for(var z=0;z<this.aManifestOrderedCards.length;z++){w=this._getCardFromManifest(this.aManifestOrderedCards[z].id);if(w&&w.settings&&w.settings.requireAppAuthorization){x.push({id:w.id,cardIntent:w.settings.requireAppAuthorization});y.push(w.settings.requireAppAuthorization);}}if(y.length>0){this._checkForAuthorization(x,y);}else{this.aOrderedCards=this._mergeLREPContent(this.aManifestOrderedCards);this.organizeCards(this.aOrderedCards);}}.bind(this),function(w){q.sap.log.error("Could not load information from LREP Persistency");q.sap.log.error(w);});if(m.system.phone){n.enable(this);}setTimeout(function(){if(!this.persistencyVariantLoaded){this.busyDialog=new B({text:this._getLibraryResourceBundle().getText("loading_dialog_text")});this.busyDialog.open();this.busyDialog.addStyleClass('sapOVPBusyDialog');}}.bind(this),500);},organizeCards:function(k){var l;var v=[];this._updateLayoutWithOrderedCards();this._updateDashboardLayoutCards(k);if(this.isDragAndDropEnabled()){this._initShowHideCardsButton();}this._clearStoredEntities();for(var i=0;i<this.aOrderedCards.length;i++){if(this.aOrderedCards[i].visibility){l=this._getCardFromManifest(this.aOrderedCards[i].id);if(l){v.push(l);}}}for(var i=0;i<v.length;i++){this._initCardModel(v[i].model);this._loadCardComponent(v[i].template);this._createModelViewMap(v[i]);}q.sap.measure.start("ovp:CreateLoadingCards","Create Loading cards","ovp");for(var i=0;i<v.length;i++){this.createLoadingCard(v[i]);}q.sap.measure.end("ovp:CreateLoadingCards");setTimeout(function(){this.getLayout().addStyleClass("ovpLayoutElementShow");}.bind(this),0);setTimeout(function(){q.sap.measure.start("ovp:CreateCards","Create cards loop","ovp");for(var i=0,j=0;j<v.length;i++,j++){while(v[j].id!==k[i].id){i++;}l=v[j];if(!l.settings.title){q.sap.log.error("title is mandatory for card ID : "+l.id);}if(l.settings.tabs){var I=0;if(this.aOrderedCards[i].selectedKey&&l.settings.tabs.length>=this.aOrderedCards[i].selectedKey){I=this.aOrderedCards[i].selectedKey-1;}this.initializeTabbedCard(l,I);}l=this._getTemplateForChart(l);this._loadCardComponent(l.template);l.settings.baseUrl=this._getBaseUrl();this.createCard(l);}this.bFinishedCardsCreationProcess=true;q.sap.measure.end("ovp:CreateCards");}.bind(this),10);if(this.busyDialog){this.busyDialog.close();}},_getTemplateForChart:function(i){if(i.template==="sap.ovp.cards.charts.smart.chart"){var v=this.getView();var j=v.getModel(i.model);var k=j.getMetaModel();var E=k.getODataEntitySet(i.settings.entitySet);var l=k.getODataEntityType(E.entityType);var w;var x;var y;var z=false;var A;if(i&&i.settings){if(!z&&i.settings.kpiAnnotationPath){var K=l[i.settings.kpiAnnotationPath];A=K.Detail.DefaultPresentationVariant&&K.Detail.DefaultPresentationVariant.Path;if(A){y=this._getTemplateForChartFromVisualization(A,i,j,E,l);z=y.bTemplateUpdated;if(z){i=y.oCard;return i;}}}if(!z&&i.settings.selectionPresentationAnnotationPath){var G=l[i.settings.selectionPresentationAnnotationPath];if(G){A=G.PresentationVariant&&G.PresentationVariant.Path;if(A){y=this._getTemplateForChartFromVisualization(A,i,j,E,l);z=y.bTemplateUpdated;if(z){i=y.oCard;return i;}}}}if(!z&&i.settings.presentationAnnotationPath){A=i.settings.presentationAnnotationPath;y=this._getTemplateForChartFromVisualization(A,i,j,E,l);z=y.bTemplateUpdated;if(z){i=y.oCard;return i;}}if(!z&&i.settings.chartAnnotationPath){w=l[i.settings.chartAnnotationPath];x=w&&w.ChartType&&w.ChartType.EnumMember;if(x&&x.split("/")[1]==="Donut"){i.template="sap.ovp.cards.charts.analytical";}else{i.template="sap.ovp.cards.charts.smart.chart";}}}}return i;},_getTemplateForChartFromVisualization:function(i,j,k,E,l){if(/^@/.test(i)){i=i.slice(1);}j.settings.presentationAnnotationPath=i;var v=l[i]&&l[i].Visualizations;var w;var x;var y;var z=false;if(v&&v.length>0){for(w=0;w<v.length;w++){var A=v[w].AnnotationPath;if(!A){return{oCard:j,bTemplateUpdated:z};}A.trim();if(A.startsWith("@")){A=A.slice(1);}if(A.indexOf("Chart")!=-1){j.settings.chartAnnotationPath=A;x=l[A];y=x&&x.ChartType&&x.ChartType.EnumMember;if(y&&y.split("/")[1]==="Donut"){j.template="sap.ovp.cards.charts.analytical";}else{j.template="sap.ovp.cards.charts.smart.chart";}}z=true;}}return{oCard:j,bTemplateUpdated:z};},_createModelViewMap:function(i){if(!i||!i.settings||!i.model){return;}if(!i.settings.entitySet||i.settings.entitySet===""){return;}if(!(i.template.startsWith("sap.ovp.cards"))){return;}var j=i.model;if(!this.oModelViewMap[j]){this.oModelViewMap[j]={};}this.oModelViewMap[j][i.id]=true;},initializeTabbedCard:function(i,I){if(i.template=="sap.ovp.cards.charts.analytical"||i.template=="sap.ovp.cards.charts.smart.chart"){i.settings.chartAnnotationPath=i.settings.tabs[I].chartAnnotationPath;i.settings.navigation=i.settings.tabs[I].navigation;}i.settings.annotationPath=i.settings.tabs[I].annotationPath;i.settings.dynamicSubtitleAnnotationPath=i.settings.tabs[I].dynamicSubtitleAnnotationPath;i.settings.presentationAnnotationPath=i.settings.tabs[I].presentationAnnotationPath;i.settings.selectionAnnotationPath=i.settings.tabs[I].selectionAnnotationPath;i.settings.selectionPresentationAnnotationPath=i.settings.tabs[I].selectionPresentationAnnotationPath;i.settings.kpiAnnotationPath=i.settings.tabs[I].kpiAnnotationPath;i.settings.dataPointAnnotationPath=i.settings.tabs[I].dataPointAnnotationPath;i.settings.identificationAnnotationPath=i.settings.tabs[I].identificationAnnotationPath;i.settings.params=i.settings.tabs[I].params;i.settings.selectedKey=I+1;},_getLibraryResourceBundle:function(){if(!this.oLibraryResourceBundle){this.oLibraryResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");}return this.oLibraryResourceBundle;},_getOvplibResourceBundle:function(){return this.getOwnerComponent()._getOvpLibResourceBundle();},_getCardsModel:function(){if(!this.oCards){var i=this.getUIModel();this.oCards=i.getProperty("/cards");}return this.oCards;},_getBaseUrl:function(){var i=this.getUIModel();if(!this.sBaseUrl){this.sBaseUrl=i.getProperty("/baseUrl");}return this.sBaseUrl;},_getApplicationId:function(){var i=this.getUIModel();return i.getProperty("/applicationId");},_getCardFromManifest:function(j){var k=this._getCardsModel();for(var i=0;i<k.length;i++){if(k[i].id===j){return k[i];}}return null;},_getCardArrayAsVariantFormat:function(j){var k=[];for(var i=0;i<j.length;i++){var I=this._getCardId(j[i].getId());k.push({id:I,visibility:j[i].getVisible()});var l;if(this.getView()&&this.getView().byId){if(this.getView().byId(I).getComponentInstance()){l=this.getView().byId(I).getComponentInstance().getComponentData().settings.selectedKey;}}if(l){k[k.length-1].selectedKey=l;}}return k;},_checkForAuthorization:function(v,w){if(!this.oContainer){return;}var x=this;var y=[];var z=b.getNavigationHandler();if(z&&z.oCrossAppNavService){z.oCrossAppNavService.isIntentSupported(w).done(function(R){for(var i=0;i<v.length;i++){if(R[v[i].cardIntent].supported===false){y.push(v[i].id);for(var j=0;j<x.aManifestOrderedCards.length;j++){if(v[i].id===x.aManifestOrderedCards[j].id){x.aManifestOrderedCards.splice(j,1);break;}}}}x.aOrderedCards=x._mergeLREPContent(x.aManifestOrderedCards);function A(E,G,H){if(E.id===y[this.unsupportedCardIndex]){H.splice(G,1);}}for(var k=0;k<y.length;k++){for(var l=0;l<x.aOrderedCards.length;l++){if(x.aOrderedCards[l].id==y[k]){x.aOrderedCards.splice(l,1);if(x.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){x.getLayout().dashboardLayoutUtil.aCards.map(A,{unsupportedCardIndex:k});x.getLayout().dashboardLayoutUtil.dashboardLayoutModel.oLayoutVars.map(A,{unsupportedCardIndex:k});}break;}}}x.organizeCards(x.aOrderedCards);}).fail(function(){q.sap.log.error("Could not get authorization from isIntentSupported");x.aOrderedCards=x._mergeLREPContent(x.aOrderedCards);x.organizeCards(x.aOrderedCards);});}},_mergeLREPContent:function(l){var i=[];var j=false;if(this.bDeltaChangesEnabled&&Array.isArray(this.deltaCardsInfo)&&this.deltaCardsInfo.length>0){l=P.addMissingCardsFromManifest(l,this.deltaCardsInfo);j=true;}if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(!j){l=this.getLayout().getLayoutDataJSON();}i=P.mergeChanges(l,this.deltaChanges);this._bDashboardLayoutLrepActive=true;this.getLayout().getDashboardLayoutModel().setLayoutVars(i);}else{i=P.mergeChanges(l,this.deltaChanges);}return i?i:[];},_updateLayoutWithOrderedCards:function(){var l=this.getLayout();var k=this.aOrderedCards;l.removeAllContent();var v,w=false;if(this.getView().getModel("ui")&&this.getView().getModel("ui").getProperty("/cards")){v=this.getView().getModel("ui").getProperty("/cards");for(var i=0;i<v.length;i++){w=false;for(var j=0;j<k.length;j++){if(v[i].id==k[j].id){w=true;break;}}if(!w&&this.getView().byId(v[i].id)){this.getView().byId(v[i].id).destroy();}}}for(var i=0;i<k.length;i++){var x=this.getView().byId(k[i].id);if(x){x.setVisible(k[i].visibility);l.addContent(x);}}},_updateErrorCardsArray:function(i){var j;for(j=0;j<i.length;j++){var k=this.aErrorCards.indexOf(i[j].id);if((k>-1)&&i[j].visibility==false){this.aErrorCards.splice(k,1);}}},_updateDashboardLayoutCards:function(i){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(this.getLayout().getDashboardLayoutUtil()){this.getLayout().getDashboardLayoutUtil().updateCardVisibility(i);}}},_resetDashboardLayout:function(){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(this.getLayout().getDashboardLayoutUtil()){this.getLayout().getDashboardLayoutUtil().resetToManifest();}this.getLayout().rerender();}},_getCardArrayAsVariantFormatDashboard:function(){var i=[];var l=this.getLayout();var j=l.dashboardLayoutUtil.aCards;l.dashboardLayoutUtil.dashboardLayoutModel._sortCardsByRow(j);j.forEach(function(k){i.push({id:k.id,visibility:k.dashboardLayout.visible});});return i;},verifyGlobalFilterLoaded:function(){var G=this.getGlobalFilter();if(G.search()){if(G.validateMandatoryFields()){return true;}}this.getView().byId("ovpMain").setHeaderExpanded(true);return false;},onGlobalFilterChange:function(){this.filterChanged=true;if(this.bGlobalFilterInitialized){var G=this.getGlobalFilter();var l=G.getLiveMode();var i=this.getLayout();if(!l&&i){i.setActive(false);}}},destroyErrorCardsAndReplaceWithOriginal:function(){if(this.isModelRefreshTriggered||this.filterChanged||this.bGoButtonPressed||this.bSearchButtonPressed){var k;var E=this.getErrorCardsAsArray();for(k in E){var i=this.getView().byId(E[k]);var j=i&&i.getComponentInstance();var l=j&&j.getComponentData();var v=l&&l.cardId;var w=this._getCardFromManifest(v);j.destroy();this.createCard(w);}this.isModelRefreshTriggered=false;}},onGlobalFilterSearch:function(){if(this.filterChanged||this.bGoButtonPressed||this.bSearchButtonPressed){var G=this.getGlobalFilter();var E=this.getErrorCardsAsArray();if(E.length>0){this.destroyErrorCardsAndReplaceWithOriginal();}if(G&&!G.isDialogOpen()){this._storeCurrentAppStateAndAdjustURL();}this._clearStoredEntities();var k=[];if(this.oGlobalFilter['_aFields'].length>0){k=this.oGlobalFilter["_aFields"];}else{var l=this.oGlobalFilter['_aFilterBarViewMetadata'];for(var i=0;i<l.length;i++){var v=l[i];for(var j=0;j<v.fields.length;j++){k.push(v.fields[j]);}}}for(var i=0;i<k.length;i++){if(k[i].control){var w=document.getElementById(k[i].control.sId);if(q(w).hasClass('sapMFocus')){this.filterItemInFocus=k[i].control;break;}}}var x="ovp-"+new Date().getTime();for(var y in this.oCardsModels){if(this.oCardsModels.hasOwnProperty(y)){try{this.oCardsModels[y].refresh(false,false,x);}catch(z){q.sap.log.warning(z);}}}this.filterChanged=false;this.bGoButtonPressed=false;this.bSearchButtonPressed=false;this._clearStoredEntities();}},_clearStoredEntities:function(){if(this.sPreviousEntityType){this.sPreviousEntityType="";}if(this.sCurrentEntityType){this.sCurrentEntityType="";}},_processFilters:function(){this.aFilters=[];var G=this.getGlobalFilter();if(!G){return;}var i=G.getFilters();var j=this.getCustomFilters();if(j&&(j instanceof F)){if(j){var k=[];if(i&&i.length>0){k.push(new F([i[0],j],true));}else{k.push(j);}if(k.length>0){i=k;}}}this.aFilters=i;},_processSearch:function(){var i,j;var G=this.getGlobalFilter();if(!G){return;}var k=G.getParameters();var j=k&&k["custom"];if(!j){return;}for(var l in j){i=l+"="+q.sap.encodeURL(j[l]);}return i;},_initGlobalFilter:function(){var G=this.getGlobalFilter();if(!G){this.bGlobalFilterLoaded=true;this._parseNavigationVariant();q.sap.measure.end("ovp:GlobalFilter");return;}G.attachFiltersDialogClosed(this._storeCurrentAppStateAndAdjustURL.bind(this));var v=G.getVariantManagement();if(v){v.attachAfterSave(function(E){this._storeCurrentAppStateAndAdjustURL();}.bind(this));}this.oGlobalFilterLoadedPromise=new Promise(function(i,j){G.attachInitialized(function(){this._parseNavigationVariant();if(this.oParseNavigationPromise){this.oParseNavigationPromise.done(function(A,k,l){if(A){this._setNavigationVariantToGlobalFilter(A,k,l);this.filterChanged=false;}}.bind(this));this.oParseNavigationPromise.fail(function(){q.sap.log.error("Could not parse navigation variant from URL");});this.oParseNavigationPromise.always(function(){this.bGlobalFilterInitialized=true;if(G&&this.verifyGlobalFilterLoaded()){i();}}.bind(this));}else{if(G&&this.verifyGlobalFilterLoaded()){i();}}},this);G.attachSearch(function(){if(!this.bGlobalFilterLoaded){i();this.bGlobalFilterLoaded=true;if(!G.isDialogOpen()){this._storeCurrentAppStateAndAdjustURL();}var k=this.getLayout();if(k){k.setActive(true);}return;}this.onGlobalFilterSearch();},this);G.attachFilterChange(this.onGlobalFilterChange,this);G._oSearchButton&&G._oSearchButton.attachPress(function(){this.bGoButtonPressed=true;var k=this.getLayout();if(k){k.setActive(true);}}.bind(this));}.bind(this));this.oGlobalFilterLoadedPromise.then(function(i){this.bGlobalFilterLoaded=true;q.sap.measure.end("ovp:GlobalFilter");G._oBasicSearchField&&G._oBasicSearchField.attachSearch(function(){this.bSearchButtonPressed=true;}.bind(this));}.bind(this));},onShareButtonPress:function(E){var l=this._getLibraryResourceBundle();var i=this.getUIModel();var j=i&&i.getProperty("/title");if(!this._oShareActionButton){this._oShareActionButton=sap.ui.xmlfragment("sap.ovp.app.SharePage",{shareEmailPressed:function(){S.URLHelper.triggerEmail(null,l.getText("Email_Subject",[j]),document.URL);},shareJamPressed:function(){var k=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:j}}});k.open();}});this.getView().addDependent(this._oShareActionButton);}this._oShareActionButton.openBy(E.getSource());},_checkJamAuth:function(){var G=q.sap.getObject("sap.ushell.Container.getUser");var i=this.getUIModel();if(i){i.setProperty("/jamVisible",!!G&&G().isJamActive());}},_createModelForTile:function(){var i=this.getUIModel();var H,j=i&&i.getProperty("/title");var k={tileTitle:j,tileCustomURL:function(){H=s.getHash();return H?("#"+H):window.location.href;}};if(i){i.setProperty("/tileInfo",k);}},_loadCardComponent:function(i){if(!this.oLoadedComponents[i]){q.sap.measure.start("ovp:CardComponentLoad:"+i,"Card Component load","ovp");this.oLoadedComponents[i]=sap.ui.component.load({name:i,url:q.sap.getModulePath(i),async:true});this.oLoadedComponents[i].then(function(){q.sap.measure.end("ovp:CardComponentLoad:"+i);});}},_initCardModel:function(i){var j=false;if(this.oCardsModels[i]||!i){return;}this.oCardsModels[i]=this.getView().getModel(i);if(!this.oCardsModels[i].bUseBatch){this.oCardsModels[i].setUseBatch(false);}else{this.oCardsModels[i].setUseBatch(true);}if(this.getGlobalFilter()){j=true;}this._overrideCardModelRead(this.oCardsModels[i],j);},getVisibleCustomFields:function(){var G=this.getGlobalFilter();var i=G.getAllFilterItems(true);var l,I,v=[];if(i){l=i.length;while(l--){I=i[l];if(I&&I.getVisibleInFilterBar()){v.push(I.getName());}}}var j,k,w,x=G.getFilterBarViewMetadata();var y=[];if(x){j=x.length;while(j--){w=x[j].fields;if(w){k=w.length;while(k--){if(w[k].isCustomFilterField&&v.indexOf(w[k].fieldName)>-1){y.push({name:w[k].fieldName});}}}}}return y;},_showErrorPage:function(i){if(this.bDisableErrorPage){return;}var j=this.getView().byId('ovpErrorPage');var k=this.getView().byId('ovpMain');if(i){j.setVisible(true);k.setVisible(false);return;}j.setVisible(false);k.setVisible(true);},_isValueHelpCall:function(j,E){var G=this.getGlobalFilter();if(!j||!G||!G._oFilterProvider){return false;}if(j.getId()!==G.getModel().getId()){return false;}var k=G._oFilterProvider;var v=k.getAssociatedValueHelpProviders().concat(k.getAssociatedValueListProviders());var l;for(var i=0;i<v.length;i++){l=v[i]&&v[i].oPrimaryValueListAnnotation;if(l&&l.valueListEntitySetName===E){return true;}}return false;},_overrideCardModelRead:function(j,k){var l=j.read;var v=this;j.read=function(){var w=arguments[1];if(!w){w={};Array.prototype.push.call(arguments,w);}var E=v._getEntityTypeFromPath(j,arguments[0],w.context,false);var x=v._getEntitySetFromEntityType(j,E);if(v._isValueHelpCall(j,x.name)){return l.apply(j,arguments);}if(k){v._processFilters();var G=v.getGlobalFilter();if(!v.aFilters){v.aFilters=[];}var y=false;var z;var A=x["Org.OData.Capabilities.V1.SearchRestrictions"];if(x["sap:searchable"]==="true"||(A&&A.Searchable&&A.Searchable.Bool&&A.Searchable.Bool==="true")){z=v._processSearch();}v.sCurrentEntityType=E.entityType;if(v.sPreviousEntityType!==v.sCurrentEntityType){v.sPreviousEntityType=v.sCurrentEntityType;y=true;}if(!v.aRelevantFilters){v.aRelevantFilters=[];y=true;}if(y){v.aRelevantFilters=[];if(E){v.aRelevantFilters=v._getEntityRelevantFilters(E,v.aFilters,j,G.getModel());}}var H=w.urlParameters;if(v.aRelevantFilters&&v.aRelevantFilters.length>0){var I=-1;if(H){for(var K=0;K<H.length;K++){if((H[K]).lastIndexOf("$filter=",0)===0){I=K;break;}}}if(I>=0){H[I]=H[I]+"%20and%20"+O.createFilterParams(v.aRelevantFilters,j.oMetadata,E).substr(8);}else{w.filters=v.aRelevantFilters;}}if(z){H[H.length]=z;}if(G&&G.getConsiderAnalyticalParameters()){var Q=G.getAnalyticBindingPath();var R,W,X;if(Q&&Q.length>0){if(E.entityType===G.getEntityType()){W=arguments[0];R=arguments[0].indexOf('$');if(R>0){W=arguments[0].substring(0,R-1);}X=Q;if(W!==X){arguments[0]=arguments[0].replace(W,X);}}else{var Y=v._getParametersFromEntityPath(arguments[0]);var Z=v._getParametersFromEntityPath(Q);var $,_,a1;if(Y&&Y.length>0){var b1=v._getEntityTypeFromPath(j,arguments[0],w.context,true);for(var i=0;i<Z.length;i++){$=v._getPropertyMapping(Y,Z[i].name,b1.name,G.getEntityType(),j,G.getModel());if($){_=$+"=.*?[,\)]";a1=arguments[0].match(new RegExp(_));if(a1&&a1.length>0){W=a1[0].slice(0,-1);X=$+"="+Z[i].sValue;if(W!==X){arguments[0]=arguments[0].replace(W,X);}}}}}}}}}var c1=j.getMetaModel();var d1=c1.getODataEntityType(x.entityType);H=v._getExpandPropertiesForSmartCharts(H,c1,d1);var e1=arguments[1].success;arguments[1].success=(function(g1,v){return function(){if(!v.errorHandlingObject.atLeastOneRequestSuccess){v.errorHandlingObject.atLeastOneRequestSuccess=true;v._showErrorPage(false);}if(v.filterItemInFocus!=null){v.filterItemInFocus.focus();v.filterItemInFocus=null;}if(v.nRefreshInterval!==0){if(v.oRefreshTimer!==null){clearTimeout(v.oRefreshTimer);}v.attachRefreshInterval(v.nRefreshInterval);}return g1.apply(this,arguments);};})(e1,v);var f1=arguments[1].error;arguments[1].error=(function(g1,v){return function(){if(!v.errorHandlingObject.atLeastOneRequestSuccess){clearTimeout(v.errorHandlingObject.errorLoadingTimeout);v.errorHandlingObject.errorLoadingTimeout=setTimeout(function(){if(!v.errorHandlingObject.atLeastOneRequestSuccess){v._showErrorPage(true);}},9000);}return g1.apply(this,arguments);};})(f1,v);return l.apply(j,arguments);};},_getExpandPropertiesForSmartCharts:function(i,v,w){var x;var y="";var z;var A;var E;var G="$expand";var H=false;var I=false;var K;var Q;var R;var W="com.sap.vocabularies.Common.v1.Text";var X=w&&w.property;if(!i||!(i.length>0)){return i;}for(var l=0;l<i.length;l++){if(i[l].indexOf("$expand")>-1){return i;}}for(var Y=0;Y<i.length;Y++){if(i[Y].indexOf("$select")>-1){I=true;Q=i[Y];E=i[Y].split("$select=");if(E&&E[1]){K=decodeURIComponent(E[1]);x=K.split(",");if(!x||!(x.length>1)){return i;}}break;}}if(!I){return i;}if(!x||!(x.length>0)||!X||!(X.length>0)){return i;}for(var j=0;j<x.length;j++){for(var k=0;k<X.length;k++){if(x[j]==(X[k]&&X[k].name)){if(X[k]&&X[k]["sap:aggregation-role"]&&X[k]["sap:aggregation-role"]=="dimension"){if(!X[k][W]||!X[k][W].Path||!(X[k][W].Path.indexOf("/")>0)){break;}y=X[k][W].Path;z=y.split("/");if(!z.length){break;}A=v.getODataAssociationEnd(w,z[0]);if(!A){break;}if(!H){G=G+"="+z[0];H=true;}else if(H){G=G+","+z[0];}R=Q+","+y;}break;}}}if(R&&G){i[Y]=R;i.push(G);}return i;},attachRefreshInterval:function(i){this.oRefreshTimer=setTimeout(function(){var l=this.getLayout();if(l&&l.getActive()){for(var j in this.oCardsModels){this.isModelRefreshTriggered=true;this.oCardsModels[j].refresh(false,false);}}}.bind(this),i);},_getEntityTypeFromPath:function(i,j,k,I){var l=o.prototype._normalizePath.apply(i,[j,k]);if(I){l=j.replace(/^\/|\/$/g,"").split("/")[0];if(l.indexOf("(")!=-1){l=l.substring(0,l.indexOf("("));}}var E=p.prototype._getEntityTypeByPath.apply(i.oMetadata,[l]);return E;},_getEntitySetFromEntityType:function(j,E){if(!j||!E){return;}var k=j.getMetaModel();var l=k&&k.getODataEntityContainer();var v=l&&l.entitySet;if(!v||!q.isArray(v)){return;}var w=v.length;for(var i=0;i<w;i++){if(v[i].entityType===E.entityType){return v[i];}}},_getPropertyMapping:function(E,j,k,l,v,w){var i,x;for(i=0;i<E.length;i++){if(E[i].name===j){x=E[i].name;return x;}if((("P_"+E[i].name)===j)||(E[i].name===("P_"+j))){x=E[i].name;return x;}}if(!k||!l||!v||!w){return;}var y=v.oMetadata._getEntityTypeByName(k);var z=w.oMetadata._getEntityTypeByName(l);if(!y||!z){return;}var A="com.sap.vocabularies.Common.v1.SemanticObject";var G="com.sap.vocabularies.Common.v1.SemanticObjectMapping";var H=v.oAnnotations.getAnnotationsData();if(!H||!H.propertyAnnotations){return;}var I=H.propertyAnnotations[y.namespace+"."+y.name];var K=w.oAnnotations.getAnnotationsData();if(!K||!K.propertyAnnotations){return;}var Q=K.propertyAnnotations[z.namespace+"."+z.name];var R=Q&&Q[j];if(!R||!R[A]){return;}var W,X,Y,Z,$;for(W in I){X=I[W];if(X[A]&&X[A].String===R[A].String){Y=X[G];if(!Y){continue;}Z=Y.length;$="";while(Z--){if(Y[Z].SemanticObjectProperty.String===j){$=Y[Z].LocalProperty.PropertyPath;break;}}if($!==""){for(i=0;i<E.length;i++){if(E[i].name===$){x=E[i].name;return x;}}}}}return x;},_getParametersFromEntityPath:function(E){E=E.split("?")[0];var j=E.match(/\(.*=.*\)/);var k=[];if(!j){return k;}var l=j[0].slice(1,-1).trim().split(/\=|\,/);for(var i=0;i<l.length;i=i+2){k.push({name:l[i],sValue:l[i+1]});}return k;},_checkRelevantFiltersRecursive:function(E,j,k,l,v,w){if(!j._bMultiFilter){j.sPath=j.sPath.split('/').pop();var x=this._getPropertyMapping(E,j.sPath,k,l,v,w);if(x){j.sPath=x;return j;}}else{var y=j.aFilters;var z,A=[];if(y){for(var i=0;i<y.length;i++){z=this._checkRelevantFiltersRecursive(E,y[i],k,l,v,w);if(z){A.push(z);}}if(A.length>0){return(new F(A,j.bAnd));}}}},_getEntityRelevantFilters:function(E,i,j,k){var R=[];if(i.length>0&&E){var l=this._checkRelevantFiltersRecursive(E.property,i[0],E.name,this.getGlobalFilter().getEntityType(),j,k);if(l){R.push(l);}}return R;},_checkIsCardValid:function(i){var j=i+".Component";var k,l;q.sap.require(j);var v=q.sap.getObject(j);if(!v){return false;}if((v!==a)&&!(v.prototype instanceof a)){return false;}if((k=v.getMetadata())&&(l=k.getCustomizing())){if(l["sap.ui.viewReplacements"]&&l["sap.ui.viewReplacements"]["sap.ovp.cards.generic.Card"]){return false;}}if(v.prototype.createContent!=a.prototype.createContent){return false;}if(v.prototype.getPreprocessors!=a.prototype.getPreprocessors){return false;}return true;},_createCardComponent:function(v,i,j){var I="ovp:CreateCard-"+j.template+":"+j.id;q.sap.measure.start(I,"Create Card","ovp");var k=v.getModel("@i18n");if(j.template&&this._checkIsCardValid(j.template)){var l={async:true,name:j.template,componentData:{model:i,modelName:j.model,i18n:k,cardId:j.id,settings:j.settings,appComponent:this.getOwnerComponent(),mainComponent:this}};var G=this.getGlobalFilter();if(j.errorReason){l.componentData.errorReason=j.errorReason;}if(G){l.componentData.globalFilter={getUiState:G.getUiState.bind(G)};}var w=v;sap.ui.component(l).then(function(x){var y=w.byId(x.getComponentData().cardId);y.setPropagateModel(true);var z=y.getComponentInstance();y.setComponent(x);if(z){setTimeout(function(){z.destroy();},0);}});}else{q.sap.log.error("Could not create Card from '"+j.template+"' template. Card is not valid.");}q.sap.measure.end(I);},createErrorCard:function(i,j){var k=q.extend(true,{},i,{template:"sap.ovp.cards.error"});k.errorReason=q.extend({},j);k.settings.oldTemplate=i.template;k.settings.template="sap.ovp.cards.error";this._createCardComponent(this.getView(),undefined,k);},createLoadingCard:function(i){var l=q.extend(true,{},i,{template:"sap.ovp.cards.loading"});this._createCardComponent(this.getView(),undefined,l);},createCard:function(i){var v=this.getView();var j=v.getModel(i.model);Promise.all([j.getMetaModel().loaded(),this.oGlobalFilterLoadedPromise,this.oLoadedComponents[i.template]]).then(function(){this._createCardComponent(v,j,i);}.bind(this),function(k){q.sap.log.error("Can't load card with id:'"+i.id+"' and type:'"+i.template+"', reason:"+k);});},_getCardId:function(i){var j=this.getView().getId()+"--";if(i.indexOf(j)!=-1){var k=i.indexOf(j)+j.length;return i.substr(k);}return i;},_initFlexibilityPersonalization:function(){this.oFlexibilityPersonalizationPromise=new Promise(function(i,j){var l=this.getLayout();this.oFlexController=r.createForControl(l);this.oFlexController.getComponentChanges().then(function(k){if(k.length>0){this.bDeltaChangesEnabled=true;}i();}.bind(this),function(E){i();});}.bind(this));},layoutChanged:function(E){var j=E.getParameter("positionChanges");var k=[],l=[];var v,w;if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var x=this.getLayout().dashboardLayoutUtil.dashboardLayoutModel.iColCount;if(j){for(var i=j.length-1;i>=0;i--){v=j[i];w=v.content.cardId;if(v.content.dashboardLayout.oldRow&&v.content.dashboardLayout.oldRow===v.content.dashboardLayout.row&&v.content.dashboardLayout.oldColumn&&v.content.dashboardLayout.oldColumn===v.content.dashboardLayout.column){continue;}if(l[w]){if(v.content.dashboardLayout.oldRow){l[w].content.dashboardLayout.oldRow=v.content.dashboardLayout.oldRow;}continue;}l[w]=v;}Object.keys(l).forEach(function(K){var v=l[K];if(v.content.dashboardLayout.oldRow&&v.content.dashboardLayout.oldRow===v.content.dashboardLayout.row&&v.content.dashboardLayout.oldColumn&&v.content.dashboardLayout.oldColumn===v.content.dashboardLayout.column){return;}k.push(l[K]);});k.forEach(function(v){var z=v.content.dashboardLayout;v.content.dashboardLayout={};v.content.dashboardLayout["C"+x]=z;});}}else{var y=this.getLayout().getContent();this.aOrderedCards=this._getCardArrayAsVariantFormat(y);k=j;}this.savePersonalization(k);},saveVariant:function(E){var i=this;this.smartVariandManagement.getVariantsInfo(function(v){var j=null;if(v&&v.length>0){j=v[0].key;}var k=j!==null;var l={name:"Personalisation",global:false,overwrite:k,key:j,def:true};i.smartVariandManagement.fireSave(l);});},savePersonalization:function(i){var l=this.getLayout();if(l){if(i){if(!Array.isArray(i)){this.oFlexController.createAndApplyChange(i,l);}else{i.forEach(function(v){this.oFlexController.createAndApplyChange(v,l);}.bind(this));}this.oFlexController.saveAll();return;}var j,k;if(l.getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){j={cards:l.getLayoutDataJSON()};k="manageCardsForDashboardLayout";}else{j=this._getCardArrayAsVariantFormat(l.getContent());k="manageCardsForEasyScanLayout";}this.oFlexController.createAndApplyChange({changeType:k,content:j,isUserDependent:true},l);this.oFlexController.saveAll();}},getLayout:function(){return this.getView()?this.getView().byId("ovpLayout"):null;},_initShowHideCardsButton:function(){var R=sap.ushell.Container.getRenderer("fiori2"),i={controlType:"sap.ushell.ui.launchpad.ActionItem",bCurrentState:false,oControlProperties:{icon:"sap-icon://dimension",text:this._getLibraryResourceBundle().getText("hideCardsBtn_title"),tooltip:this._getLibraryResourceBundle().getText("hideCardsBtn_tooltip"),press:this._onCardMenuButtonPress.bind(this)},bIsVisible:true,aStates:["app"]};R.addUserAction(i);},_onCardMenuButtonPress:function(){var j,l=this.getLayout().getMetadata().getName();this.visibilityChanges=[];function k(H,I){for(var i=0;i<H.length;i++){if(H[i].id==I){return i;}}return-1;}function v(H,I,K){var Q=-1;for(var i=0;i<I.length;i++){if(H[i].id==I[i].id){Q=i;}else{Q=k(H,I[i].id);}var W=this.getView().byId(I[i].id);var X=W.getComponentInstance();if(K){if(X){X.destroy();}}if(I[i].visibility!=H[Q].visibility||K){if(I[i].visibility===true){var Y=this._getCardFromManifest(I[i].id);if(Y){this.createLoadingCard(Y);Y.settings.baseUrl=this._getBaseUrl();this._clearStoredEntities();this._initCardModel(Y.model);Y=this._getTemplateForChart(Y);this._loadCardComponent(Y.template);this._createModelViewMap(Y);if(Y.settings.tabs){var Z=0;if(this.aOrderedCards[i].selectedKey&&Y.settings.tabs.length>=this.aOrderedCards[i].selectedKey){Z=this.aOrderedCards[i].selectedKey-1;}this.initializeTabbedCard(Y,Z);}this.createCard(Y);}}else{if(X){X.destroy();}}}}}function w(i){var H=this._getCardFromManifest(i);if(H){var I=H.settings;if(I.title){return I.title;}else if(I.category){return(I.category);}else if(I.subTitle){return I.subTitle;}return i;}else{q.sap.log.error("Card id "+i+" is not available in the manifest");return"";}}var x=new d({cells:[new T({text:{path:"id",formatter:w.bind(this)}}),new e({state:"{visibility}",customTextOff:" ",customTextOn:" ",change:function(i){var H=i.oSource.getParent();H.toggleStyleClass('sapOVPHideCardsTableItem');H.getCells()[0].toggleStyleClass('sapOVPHideCardsDisabledCell');var I=i.getSource().getBindingContext().getObject();var K=this.visibilityChanges.findIndex(function(Q,W,X){return Q.content.cardId===I.id;});if(K>-1){this.visibilityChanges.splice(K,1);}else{this.visibilityChanges.push({changeType:"visibility",content:{cardId:I.id,visibility:i.getParameter("state")},isUserDependent:true});}}.bind(this),tooltip:this._getLibraryResourceBundle().getText("hideCards_switchTooltip")})]});var y=new f("sapOVPHideCardsTable",{backgroundDesign:t.Transparent,showSeparators:L.Inner,columns:[new g({vAlign:"Middle"}),new g({hAlign:u.Right,vAlign:"Middle",width:"4.94rem"})]});y.addStyleClass('sapOVPHideCardsTable');y.bindItems({path:"/cards",template:x});var z=y.onAfterRendering;y.onAfterRendering=function(H){z.apply(y,arguments);var I=H.srcControl.mAggregations.items;if(I){for(var i=0;i<I.length;i++){if(!I[i].getCells()[1].getState()){I[i].addStyleClass('sapOVPHideCardsTableItem');I[i].getCells()[0].addStyleClass('sapOVPHideCardsDisabledCell');}}}setTimeout(function(){q('.sapMListTblRow').first().focus();},200);};var A=new h("manageCardsokBtn",{text:this._getLibraryResourceBundle().getText("okBtn"),type:"Emphasized",press:function(){var i=this.oDialog.getModel().getProperty('/cards');v.apply(this,[this.aOrderedCards,i,false]);this.aOrderedCards=i;this._updateDashboardLayoutCards(this.aOrderedCards);this._updateLayoutWithOrderedCards();this.savePersonalization(this.visibilityChanges);this.oDialog.close();}.bind(this)});var E=new h("manageCardsCancelBtn",{text:this._getLibraryResourceBundle().getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});var R=new h("manageCardsResetBtn",{text:this._getLibraryResourceBundle().getText("resetBtn"),enabled:((l==="sap.ovp.ui.DashboardLayout")?true:this.isValidForReset()),press:function(){M.show(this._getLibraryResourceBundle().getText("reset_cards_confirmation_msg"),{id:"resetCardsConfirmation",icon:M.Icon.QUESTION,title:this._getLibraryResourceBundle().getText("reset_cards_confirmation_title"),actions:[M.Action.OK,M.Action.CANCEL],onClose:function(i){if(i===M.Action.OK){this.oDialog.setBusy(true);v.apply(this,[this.aOrderedCards,this.aManifestOrderedCards,(l==="sap.ovp.ui.DashboardLayout")?true:false]);this.aOrderedCards=this.aManifestOrderedCards;this._resetDashboardLayout();this._updateDashboardLayoutCards(this.aOrderedCards);this._updateLayoutWithOrderedCards();this.oFlexController.discardChangesForId(this.getLayout().getId(),true).then(function(H){this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));}}.bind(this)});}.bind(this)});this.oDialog=new D({title:this._getLibraryResourceBundle().getText("hideCardsBtn_title"),contentWidth:"29.6rem",contentHeight:"50%",stretch:m.system.phone,content:y,buttons:[A,E,R],afterClose:function(){this.visibilityChanges=[];this.oDialog.destroy();}.bind(this)}).addStyleClass("sapOVPCardsVisibilityDialog");this.oDialog.setBusyIndicatorDelay(0);var G;if(l==="sap.ovp.ui.DashboardLayout"){G=q.extend(true,[],this._getCardArrayAsVariantFormatDashboard());}else{G=q.extend(true,[],this.aOrderedCards);}j=new J({cards:G});this.oDialog.setModel(j);this.oDialog.open();},isValidForReset:function(){for(var i=0;i<this.aManifestOrderedCards.length;i++){if(this.aManifestOrderedCards[i].id!==this.aOrderedCards[i].id||this.aManifestOrderedCards[i].visibility!==this.aOrderedCards[i].visibility){return true;}}return false;},isDragAndDropEnabled:function(){return!m.system.phone;},getGlobalFilter:function(){if(!this.oGlobalFilter){this.oGlobalFilter=this.getView().byId("ovpGlobalFilter");}return this.oGlobalFilter;},getUIModel:function(){if(!this.oUIModel){var i=this.getOwnerComponent();this.oUIModel=i&&i.getModel("ui");}return this.oUIModel;},_parseNavigationVariant:function(){if(!this.oContainer){this.oParseNavigationPromise=q.Deferred().resolve();return;}this.oParseNavigationPromise=this.oNavigationHandler.parseNavigation();},_setNavigationVariantToGlobalFilter:function(A,j,k){var G=this.getGlobalFilter();if(!G){return;}switch(k){case"iAppState":if(A.selectionVariant){var l,v,w,x=false;var y,z,E,H;var I,K,Q;G.clearVariantSelection();l=JSON.parse(A.selectionVariant);G.setCurrentVariantId(l.SelectionVariantID);K=G.getUiState({allFilters:false});z=K&&JSON.stringify(K.getSelectionVariant());H=G.getFilterData()._CUSTOM;H=((typeof H=='undefined')?{}:H);I=new U({selectionVariant:A.oSelectionVariant.toJSONObject()});G.setUiState(I,{replace:true,strictMode:false});v=new c(A.selectionVariant);w=v.getParameterNames().concat(v.getSelectOptionsPropertyNames());for(var i=0;i<w.length;i++){G.addFieldToAdvancedArea(w[i]);}Q=G.getUiState({allFilters:false});y=Q&&JSON.stringify(Q.getSelectionVariant());if(z!==y){x=true;}if(A.customData&&Object.keys(A.customData).length>0){var E=A.customData;this.restoreCustomAppStateDataExtension(E);if(JSON.stringify(H)!==JSON.stringify(E)){x=true;}}G.getSmartVariant().currentVariantSetModified(x);G._updateToolbarText();}break;case"xAppState":case"URLParams":var I,R=[];var W=new c(A.oSelectionVariant.toJSONObject());var X=new c(A.oDefaultedSelectionVariant.toJSONObject());if(!A.bNavSelVarHasDefaultsOnly&&!W.isEmpty()){I=new U({selectionVariant:W.toJSONObject()});G.clearVariantSelection();G.clear();G.setUiState(I,{replace:true,strictMode:false});R=R.concat(W.getParameterNames().concat(W.getSelectOptionsPropertyNames()));}if(A.bNavSelVarHasDefaultsOnly&&!X.isEmpty()&&G.getCurrentVariantId()===""){I=new U({selectionVariant:X.toJSONObject()});G.setUiState(I,{replace:false,strictMode:false});R=R.concat(X.getParameterNames().concat(X.getSelectOptionsPropertyNames()));}var Y;if(R&&R.length>0){Y=R.length;while(Y--){G.addFieldToAdvancedArea(R[Y]);}}if(G.getCurrentVariantId()!==""){this._setDisplayCurrency(X);}break;}},_setDisplayCurrency:function(i){var G=this.getGlobalFilter();if(!G){return;}var l,j;var k=G.getAnalyticalParameters();if(k&&k.length>0){l=k.length;while(l--){if((k[l].name==="P_DisplayCurrency")||(k[l].name==="DisplayCurrency")){j=k[l];break;}}}if(!j){return;}var v=G.getFilters([j.fieldName]);var w=v&&v[0]&&v[0].oValue1;if(w&&w!==" "){return;}var x,y;if(j.name.indexOf("P_")===0){y=j.name;x=j.name.substr(2);}else{y="P_"+j.name;x=j.name;}if(i&&!i.isEmpty()){var z;w=i.getParameter(x);if(!w||w===" "){w=i.getParameter(y);}if(!w||w===" "){z=i.getSelectOption(x);w=z&&z[0]&&z[0].Low;}if(!w||w===" "){z=i.getSelectOption(y);w=z&&z[0]&&z[0].Low;}}if(!w||w===" "){w=j.defaultPropertyValue;}if(!w||w===" "){return;}var A=new c();A.addParameter(j.name,w);var E=new U({selectionVariant:A.toJSONObject()});G.setUiState(E,{replace:false,strictMode:false});},_enhanceVariant:function(v,i,j){var k=v.getParameter(i);var l=v.getSelectOption(i);if(k){v.renameParameter(i,j);}else if(l){var w=l[0]&&l[0].Low;if(w&&w!==""){w+="";v.addParameter(j,w);v.removeSelectOption(i);}}return v;},_getCustomAppState:function(){var i={};var j=this.getCustomAppStateDataExtension(i);if(j){i=j;}return i;},onBeforeSFBVariantSave:function(){this.getGlobalFilter().setFilterData({_CUSTOM:this._getCustomAppState()});},onAfterSFBVariantLoad:function(){var i=this.getGlobalFilter().getFilterData();if(i._CUSTOM){this.restoreCustomAppStateDataExtension(i._CUSTOM);}},onAssignedFiltersChanged:function(E){if(E.getSource()&&this.getView().byId("ovpFilterText")){this.getView().byId("ovpFilterText").setText(E.getSource().retrieveFiltersWithValuesAsText());}},_getCurrentAppState:function(){var G=this.getGlobalFilter();if(!G){return;}var i=G.getUiState({allFilters:false});var j=i&&i.getSelectionVariant();if(G.getSmartVariant().currentVariantGetModified()){j.SelectionVariantID="";}var k=j&&JSON.stringify(j);var l=new c(k);var v=this._getCustomAppState();return{selectionVariant:l.toJSONString(),customData:v};},_storeCurrentAppStateAndAdjustURL:function(E){if(E&&!E.oSource._bDirtyViaDialog){return;}if(!this.bGlobalFilterLoaded){return;}if(!this.oNavigationHandler){return;}if(this.oAppStatePromise){this.rejectPreviousPromise&&this.rejectPreviousPromise("skip");}this.oAppStatePromise=new Promise(function(j,k){this.rejectPreviousPromise=k;var A=this._getCurrentAppState();var l=this.oNavigationHandler.storeInnerAppStateWithImmediateReturn(A);l.promise.then(function(v){j(v);},function(v){k(v.getErrorCode());});}.bind(this));var i=function(A){this.oAppStatePromise=null;if(A&&A.length>0){this.oNavigationHandler.replaceHash(A);return;}throw"AppState key is empty";};var R=function(j){this.oAppStatePromise=null;if(j==="skip"){throw j;}throw("Something went wrong while storing AppState - "+j);};this.oAppStatePromise.then(i.bind(this),R.bind(this)).catch(function(j){if(j==="skip"){return;}q.sap.log.error(j);});}});});
sap.ui.predefine('sap/ovp/cards/ActionUtils',["jquery.sap.global","sap/ui/layout/form/SimpleForm","sap/ui/comp/smartfield/SmartField","sap/ui/comp/smartfield/SmartLabel","sap/ui/comp/smartfield/JSONType"],function(q,S,a,b,J){"use strict";return{getActionInfo:function(c,d,e){var m=c.getModel().getMetaModel();var f=d.action.split('/')[1];var C=c.getObject();var g={oContext:c,sFunctionImportPath:d.action,sFunctionLabel:d.label,oFunctionImport:m.getODataFunctionImport(f),parameterData:{},allParameters:[]};var p;if(g.oFunctionImport.parameter){var k=this._getKeyProperties(e);for(var i=0;i<g.oFunctionImport.parameter.length;i++){var P=g.oFunctionImport.parameter[i];this._addParamLabel(P,e,m);if(k[P.name]){P.isKey=true;}if(typeof P.nullable==='undefined'){P.nullable=true;}if(C.hasOwnProperty(P.name)){p=C[P.name];}else{p="";}g.parameterData[P.name]=p;g.allParameters.push(P);}}return g;},_getKeyProperties:function(e){var k={};if(e&&e.key&&e.key.propertyRef){for(var i=0;i<e.key.propertyRef.length;i++){var K=e.key.propertyRef[i].name;k[K]=true;}}return k;},_addParamLabel:function(p,e,m){if(e&&p&&!p["com.sap.vocabularies.Common.v1.Label"]){var P=m.getODataProperty(e,p.name,false);if(P&&P["com.sap.vocabularies.Common.v1.Label"]){p["com.sap.vocabularies.Common.v1.Label"]=P["com.sap.vocabularies.Common.v1.Label"];}else if(P&&P["sap:label"]){p["sap:label"]=P["sap:label"];}}},buildParametersForm:function(c,o){function g(p){var L="";if(p["com.sap.vocabularies.Common.v1.Label"]){L=p["com.sap.vocabularies.Common.v1.Label"].String;}else if(p["sap:label"]){L=p["sap:label"];}else{L=p.name;}return L;}var f=new S({editable:true});var F=[];for(var i=0;i<c.allParameters.length;i++){var p=c.allParameters[i];var P=g(p);var B='{/'+p.name+'}';var j=null;var e=p.type;var m=p.maxLength?parseInt(p.maxLength,10):undefined;if(e==='Edm.Boolean'){j=J.Boolean;}else if(e==='Edm.Byte'||e==='Edm.SByte'||e==='Edm.Int16'||e==='Edm.Int32'){j=J.Integer;}else{j=J.String;}var d=this._isMandatoryParameter(p);var h=new a({value:B,mandatory:d,jsontype:j,maxLength:m,editable:!p.isKey});h.attachChange(o);F.push(h);var l=new b();l.setRequired(d&&!p.isKey);l.setText(P);l.setLabelFor(h);f.addContent(l);f.addContent(h);}return f;},getParameters:function(p,f){var c=this._validateParametersValue(p,f);return c.preparedParameterData;},mandatoryParamsMissing:function(p,f){var v=this._validateParametersValue(p,f);return v.missingMandatoryParameters&&v.missingMandatoryParameters.length>0;},_validateParametersValue:function(p,f){var m=[];var M=p.getObject('/');var P={};var v,c;for(var i=0;i<f.parameter.length;i++){var o=f.parameter[i];var s=o.name;if(M.hasOwnProperty(s)){v=M[s];c=this._isMandatoryParameter(o);if(v===undefined||v===""){if(c){if(o.type==='Edm.Boolean'){P[s]=false;}else{m.push(o);}}}else{P[s]=v;}}else{throw new Error("Unknown parameter: "+s);}}return{preparedParameterData:P,missingMandatoryParameters:m};},_isMandatoryParameter:function(p){return!this._toBoolean(p.nullable);},_toBoolean:function(p){if(typeof p==="string"){var v=p.toLowerCase();return!(v=="false"||v==""||v==" ");}return!!p;}};},true);
sap.ui.predefine('sap/ovp/cards/AnnotationHelper',["jquery.sap.global","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/ovp/cards/CommonUtils","sap/ui/model/odata/AnnotationHelper","sap/ui/core/ValueState","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/model/analytics/odata4analytics","sap/ui/vbm/library","sap/ui/generic/app/navigation/service/SelectionVariant"],function(q,N,D,C,O,V,F,a,o,b,S){"use strict";var f={count:0};var c={};var d={};var e={};var g={StateValues:{None:"None",Negative:"Error",Critical:"Warning",Positive:"Success"},ColorValues:{None:"Neutral",Negative:"Error",Critical:"Critical",Positive:"Good"}};var A={TEXT:"com.sap.vocabularies.Common.v1.Text",TEXT_ARRANGEMENT:"com.sap.vocabularies.UI.v1.TextArrangement"};var T={TEXT_LAST:"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast",TEXT_FIRST:"com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst",TEXT_ONLY:"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly",TEXT_SEPARATE:"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"};var I={"List_condensed":{phone:5,tablet:5,desktop:5},"List_extended":{phone:3,tablet:3,desktop:3},"List_condensed_bar":{phone:5,tablet:5,desktop:5},"List_extended_bar":{phone:3,tablet:3,desktop:3},"Table":{phone:5,tablet:5,desktop:5},"Stack_simple":{phone:20,tablet:20,desktop:20},"Stack_complex":{phone:5,tablet:5,desktop:5}};
function h(i,j){var k=j.Longitude.Path;var X2=j.Latitude.Path;return"{path:'"+k+"'}; {path:'"+X2+"'}"+";0";}
h.requiresIContext=true;
function l(i,j){return"{path:'"+j.CountryCode.Path+"'}";}
l.requiresIContext=true;
function m(i,j){var k=j.Criticality.Path;return"{path:'"+k+"', formatter: 'sap.ovp.cards.AnnotationHelper.getCriticalityStateFromValue' }";}
m.requiresIContext=true;
function n(i){var j;switch(i){case"0":j=b.SemanticType.Default;break;case"1":j=b.SemanticType.Error;break;case"2":j=b.SemanticType.Warning;break;case"3":j=b.SemanticType.Success;break;default:j=b.SemanticType.None;break;}return j;}
function p(i,j){var k=i.getSetting('ovpCardProperties');var X2=k.getProperty('/showLabelText');if(X2==="true"){var Y2=j.Address[0];if(typeof Y2.country!=="undefined"){return"{path:'"+Y2.country.Path+"'}";}else if(typeof Y2.locality!=="undefined"){return"{path:'"+Y2.locality.Path+"'}";}else if(typeof Y2.street!=="undefined"){return"{path:'"+Y2.street.Path+"'}";}else if(typeof Y2.code!=="undefined"){return"{path:'"+Y2.code.Path+"'}";}}else{return null;}}
p.requiresIContext=true;
function r(i,j){if(!j){return"";}if(j.Label){return j.Label.String;}var k=i.getSetting&&i.getSetting('ovpCardProperties');var X2=k&&k.getProperty("/metaModel");var Y2=k&&k.getProperty("/entityType");if(!X2||!Y2){return"";}var Z2;if(j.Value){Z2=j.Value.Path;}if(j.Target){var $2=K(Y2.$path,j);var _2=$2&&X2.getProperty($2);Z2=_2&&_2.Value.Path;}if(!Z2||!Z2.length>0||Z2===" "){return"";}var a3=X2.getODataProperty(Y2,Z2);if(!a3){return"";}var b3=a3["sap:label"]||(a3["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return b3;}
r.requiresIContext=true;
function s(i,k){if(i.getSetting){var j=i.getSetting("_ovpCache");if(j){return j[k];}}return undefined;}
function t(i,k,j){if(i.getSetting){var X2=i.getSetting("_ovpCache");if(X2){X2[k]=j;}}}
function u(i,j){if(!f[j]){f[j]=0;}f[j]++;var k=j+f[j];f[k]=i;return"sap.ovp.cards.AnnotationHelper.formatFunctions."+k;}
function v(i,j){var k;if(j){k=j.None;if(i&&i.EnumMember){var X2=i.EnumMember;if(x(X2,'Negative')){k=j.Negative;}else if(x(X2,'Critical')){k=j.Critical;}else if(x(X2,'Positive')){k=j.Positive;}}}return k;}
function w(i){if(i=="Error"){i=1;}else if(i=="Warning"){i=2;}else if(i=="Success"){i=3;}else{i=0;}return i;}
function x(i,j){return i&&i.indexOf(j,i.length-j.length)!==-1;}
function y(i,j,k,X2,Y2,Z2,$2){var _2={};_2.EnumMember="None";var a3=Number.NEGATIVE_INFINITY;var b3=Number.POSITIVE_INFINITY;if(!Y2&&k){Y2=k;}if(!Z2&&X2){Z2=X2;}if(!k){k=a3;}if(!X2){X2=b3;}if(i!==undefined){i=Number(i);if(x(j,"Minimize")||x(j,"Minimizing")){if(Z2&&X2){if(i<=parseFloat(Z2)){_2.EnumMember="Positive";}else if(i>parseFloat(X2)){_2.EnumMember="Negative";}else{_2.EnumMember="Critical";}}}else if(x(j,"Maximize")||x(j,"Maximizing")){if(Y2&&k){if(i>=parseFloat(Y2)){_2.EnumMember="Positive";}else if(i<parseFloat(k)){_2.EnumMember="Negative";}else{_2.EnumMember="Critical";}}}else if(x(j,"Target")){if(Z2&&X2&&Y2&&k){if(i>=parseFloat(Y2)&&i<=parseFloat(Z2)){_2.EnumMember="Positive";}else if(i<parseFloat(k)||i>parseFloat(X2)){_2.EnumMember="Negative";}else{_2.EnumMember="Critical";}}}}return v(_2,$2);}
function z(i,j,k,X2){if(!i||!j){return;}i=Number(i);if(!X2&&(i-j>=0)){return"sap-icon://trend-up";}if(!k&&(i-j<=0)){return"sap-icon://trend-down";}if(j&&X2&&(i-j>=X2)){return"sap-icon://trend-up";}if(j&&k&&(i-j<=k)){return"sap-icon://trend-down";}}
function B(i,j){var k=i.getPath(0)+"-DataFields-Sorted";var X2=s(i,k);if(!X2){var Y2=E(i,j);var Z2=Y2.map(function($2){return $2.Value.Path;});Z2=Z2.filter(function($2){return!!$2;});X2=j.filter(function($2){if($2.RecordType==="com.sap.vocabularies.UI.v1.DataField"&&Z2.indexOf($2.Value.Path)===-1){return true;}return false;});X2=M(X2);t(i,k,X2);}return X2;}
B.requiresIContext=true;
function E(j,k,X2){var Y2=j.getPath(0)+"-DataPoints-Sorted";var Z2=s(j,Y2);if(!Z2){if(X2){Z2=k.filter(H);}else{Z2=k.filter(G);}Z2=M(Z2);var $2;for(var i=0;i<Z2.length;i++){$2=j.getPath(0).substr(0,j.getPath(0).lastIndexOf("/")+1);Z2[i]=j.getModel(0).getProperty(K($2,Z2[i]));$2="";}t(j,Y2,Z2);}return Z2;}
E.requiresIContext=true;
function G(i){if(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.UI.v1.DataPoint.*/)){return true;}return false;}
function H(i){if((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.UI.v1.DataPoint.*/))||(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.Communication.v1.Contact.*/))){return true;}return false;}
function J(i){if(!i||!i.Criticality||!i.Criticality.Path){return;}return"{path:'"+i.Criticality.Path+"'}";}
function K(i,j){if(i&&!x(i,'/')){i+='/';}return i+j.Target.AnnotationPath.slice(1);}
function L(i){var j,k;if(i["com.sap.vocabularies.UI.v1.Importance"]){j=i["com.sap.vocabularies.UI.v1.Importance"].EnumMember;switch(j){case"com.sap.vocabularies.UI.v1.ImportanceType/High":k=1;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Medium":k=2;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Low":k=3;break;}}else{k=4;}return k;}
function M(i){if(i.length<2){return i;}var j=parseInt(i.length/2,10);var k=i.slice(0,j);var X2=i.slice(j,i.length);return P(M(k),M(X2));}
function P(i,j){var k=[];while(i.length&&j.length){var X2=L(i[0]),Y2=L(j[0]);if(X2<=Y2){k.push(i.shift());}else{k.push(j.shift());}}while(i.length){k.push(i.shift());}while(j.length){k.push(j.shift());}return k;}
function Q(i,j,k){var X2=B(i,j)[k];if(X2){return $(i,X2);}return"";}
function R(i,j,k){var X2=B(i,j)[k];return r(i,X2);}
function U(i,j,k){var X2=E(i,j)[k];if(X2&&X2.Title){return X2.Title.String;}return"";}
function W(i,j,k){var X2=j.filter(G);X2=M(X2);if(!X2||!X2.length||!X2.length>0){return"";}return r(i,X2[0]);}
function X(i,j,k,X2){var Y2=E(i,j)[k];if(!Y2){return"";}var Z2=i.getSetting('ovpCardProperties');var $2=Z2.getProperty("/entityType");var _2=Z2.getProperty("/metaModel");return _(i,Y2,$2,_2,X2);}
function Y(i,j,k){var X2=E(i,j)[k];if(X2&&X2.Criticality){return true;}}
function Z(i,j,k){var X2=E(i,j)[k];var Y2=X2.Criticality.Path;return"{path:'"+Y2+"'}";}
function _(i,j,k,X2,Y2){if(!j||!j.Value){return"";}var Z2=i.getSetting('ovpCardProperties');var $2=false;if(Z2){var _2=Z2.getProperty("/ignoreSapText");$2=_2==undefined?$2:_2;}var a3=X2.getODataProperty(k,j.Value.Path);var b3=false;if($2==true){if(a3&&(a3["com.sap.vocabularies.Analytics.v1.Measure"]||a3["sap:aggregation-role"]=="measure")){b3=true;}}if(!b3&&a3){var c3;if(a3["com.sap.vocabularies.Common.v1.Text"]){c3=a3["com.sap.vocabularies.Common.v1.Text"].String?a3["com.sap.vocabularies.Common.v1.Text"].String:a3["com.sap.vocabularies.Common.v1.Text"].Path;}else if(a3["sap:text"]){c3=a3["sap:text"];}if(c3){a3=X2.getODataProperty(k,c3);j={Value:{Path:a3.name}};}}return $(i,j,Y2);}
function $(i,j,k,X2){if(j.Value.Apply){return O.format(i,j.Value);}var Y2=i.getSetting('ovpCardProperties');var Z2=Y2.getProperty("/entityType");var $2=Y2.getProperty("/metaModel");return b1(i,j,Z2,$2,k,X2);}
$.requiresIContext=true;
function a1(i,j,k,X2){if((!k)||(typeof X2!=='string')){return X2;}var Y2=k[A.TEXT];if(!Y2){return X2;}var Z2,$2;Z2=k[A.TEXT_ARRANGEMENT];$2=Z2&&Z2.EnumMember;if(!$2){Z2=Y2&&Y2[A.TEXT_ARRANGEMENT];$2=Z2&&Z2.EnumMember;}if(!$2){Z2=j&&j[A.TEXT_ARRANGEMENT];$2=Z2&&Z2.EnumMember;}if(!$2){return X2;}var _2=O.format(i,Y2);if(!_2||_2===" "){return X2;}var a3;switch($2){case T.TEXT_FIRST:a3=_2+" ("+X2+")";break;case T.TEXT_LAST:a3=X2+" ("+_2+")";break;case T.TEXT_ONLY:a3=_2;break;case T.TEXT_SEPARATE:a3=X2+" ("+_2+")";break;default:a3=X2;break;}return a3;}
function b1(i,j,k,X2,Y2,Z2,$2){if(j.Value.Apply){return O.format(i,j.Value);}var _2=X2.getODataProperty(k,j.Value.Path),a3="",b3;var c3=i.getSetting("ovpCardProperties");var d3=c3&&c3.getProperty("/contentFragment");if(!Z2){if(j.Value.Path.split("/").length>1){_2=i1(X2,k,j.Value.Path);}if(!_2){return"";}if(_2["type"]==='Edm.DateTime'||_2["type"]==='Edm.DateTimeOffset'){var e3=c3&&c3.getProperty("/showDateInRelativeFormat");b3=f1("dateFormatFunction",e3);a3=c1([j.Value.Path?j.Value.Path:_2.name],b3);}else if((j.ValueFormat&&j.ValueFormat.NumberOfFractionalDigits)||_2["scale"]){var f3=(j.ValueFormat&&j.ValueFormat.NumberOfFractionalDigits)?j.ValueFormat.NumberOfFractionalDigits.Int:0,g3;if(_2["Org.OData.Measures.V1.ISOCurrency"]){g3=_2["Org.OData.Measures.V1.ISOCurrency"].Path?_2["Org.OData.Measures.V1.ISOCurrency"].Path:_2["Org.OData.Measures.V1.ISOCurrency"].String;}else if(_2["Org.OData.Measures.V1.Unit"]){g3=_2["Org.OData.Measures.V1.Unit"].Path?_2["Org.OData.Measures.V1.Unit"].Path:_2["Org.OData.Measures.V1.Unit"].String;}else if(_2["sap:unit"]){g3=_2["sap:unit"];}var h3=g3?X2.getODataProperty(k,g3):null,i3=[j.Value.Path?j.Value.Path:_2.name];if(f3>2){f3=2;}if(_2["Org.OData.Measures.V1.ISOCurrency"]){var j3=_2["Org.OData.Measures.V1.ISOCurrency"];if(j3.Path){b3=g1(f3);i3.push(j3.Path);}else if(j3.String){b3=g1(f3,j3.String);}}else if(h3&&(h3["Org.OData.Measures.V1.ISOCurrency"]||h3["sap:semantics"]==="currency-code")){b3=g1(f3);i3.push(g3);}else{b3=d1(f3);}a3=c1(i3,b3);}else{if($2){a3=O.simplePath(i,j.Value);}else{a3=O.format(i,j.Value);}}if(d3&&(d3==="sap.ovp.cards.table.Table"||d3==="sap.ovp.cards.list.List")){a3=a1(i,k,_2,a3);}if(_2["Org.OData.Measures.V1.Unit"]){var k3=_2["Org.OData.Measures.V1.Unit"];if(k3.Path){a3+=(" "+c1([k3.Path]));}else if(k3.String){if(k3.String!=="%"){a3+=" ";}a3+=k3.String;}}}if(!Y2){if(_2["Org.OData.Measures.V1.ISOCurrency"]){var j3=_2["Org.OData.Measures.V1.ISOCurrency"];if(j3.Path){a3+=(" "+c1([j3.Path]));}else if(j3.String){a3+=(" "+j3.String);}}}if(a3[0]===" "){a3=a3.substring(1);}return a3;}
function c1(j,k){var X2="",Y2=j.length;if(Y2>1){X2="{parts:[";for(var i=0;i<Y2;i++){X2+=("{path: '"+j[i]+"'}"+((i===Y2-1)?"]":", "));}}else{X2="{path: '"+j[0]+"'";}X2+=(k?(", formatter: '"+k+"'"):"")+"}";return X2;}
function d1(i){var j="formatNumberCalculation"+i;if(!c[j]){c[j]=e1(Number(i));}return"sap.ovp.cards.AnnotationHelper.NumberFormatFunctions."+j;}
function e1(i){return function(j){var k=N.getFloatInstance({style:'short',showMeasure:false,minFractionDigits:i,maxFractionDigits:i});return k.format(Number(j));};}
function f1(i,j){var k={'relative':true,'relativeScale':'auto'};if(j!==undefined&&!j){k={'style':'medium'};}if(!d[i]){d[i]=function(X2){var Y2=D.getInstance(k);if(!X2){X2="";return X2;}return Y2.format(new Date(X2));};}return"sap.ovp.cards.AnnotationHelper.DateFormatFunctions."+i;}
function g1(i,j){var k="formatCurrencyCalculation"+(j?j+i:i);if(!e[k]){e[k]=h1(i,j);}return"sap.ovp.cards.AnnotationHelper.CurrencyFormatFunctions."+k;}
function h1(i,j){return function(k,X2){var Y2="";var Z2=N.getCurrencyInstance({style:'short',showMeasure:false,minFractionDigits:i,maxFractionDigits:i});if(X2){Y2=Z2.format(k,X2);}else{Y2=j?Z2.format(k,j):Z2.format(k);}return Y2;};}
function i1(j,k,X2){var Y2=X2.split("/");if(Y2.length>1){for(var i=0;i<(Y2.length-1);i++){var Z2=j.getODataAssociationEnd(k,Y2[i]);if(Z2){k=j.getODataEntityType(Z2.type);}}return j.getODataProperty(k,Y2[Y2.length-1]);}}
function j1(i,j,k){var X2=E(i,j);var Y2=g.StateValues;var Z2=X2[k];if(!Z2){return Y2.None;}if(Z2.Criticality){return n1(i,Z2,Y2);}return p1(i,Z2,Y2);}
function k1(i,j,k){var X2=E(i,j);if(X2&&X2.length){var Y2=X2[0];if(Y2&&(Y2.Criticality||Y2.CriticalityCalculation)){return true;}}return false;}
function l1(i,j,k){if(k1(i,j,k)){return'';}return'#5cbae6';}
l1.requiresIContext=true;
function m1(i,j,k){var X2=E(i,j),Y2="None",Z2=g.ColorValues;if(X2.length>k){var $2=X2[k];if($2&&$2.Criticality){Y2=n1(i,$2,Z2);}else{Y2=p1(i,$2,Z2);}}return Y2;}
function n1(i,j,k){var X2=V.None;var Y2;var Z2=j.Criticality;if(Z2){Y2="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+k.Negative+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+k.Critical+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+k.Positive+"'' : "+"''"+k.None+"'' '}'";if(Z2.Path){var $2='$'+O.simplePath(i,Z2);X2=q.sap.formatMessage(Y2,$2);}else if(Z2.EnumMember){var _2="'"+Z2.EnumMember+"'";X2=q.sap.formatMessage(Y2,_2);}else{q.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{q.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return X2;}
function o1(i,j,k){var X2=E(i,j);var Y2="None";if(X2.length>k){var Z2=X2[k];if(Z2&&Z2.Criticality&&Z2.Criticality.Path){Y2=Z(i,j,k);}else{Y2=p1(i,Z2,g.StateValues);Y2=w(Y2);}}return Y2;}
function p1(i,j,k){var X2=k.None;if(j.Criticality){X2=v(j.Criticality,k);}else if(j.CriticalityCalculation&&j.Value&&j.Value&&j.Value.Path){X2=q1(i,j,k);}return X2;}
function q1(i,j,k){var X2=F1(j.Value);var Y2=j.CriticalityCalculation.ImprovementDirection.EnumMember;var Z2=F1(j.CriticalityCalculation.DeviationRangeLowValue);var $2=F1(j.CriticalityCalculation.DeviationRangeHighValue);var _2=F1(j.CriticalityCalculation.ToleranceRangeLowValue);var a3=F1(j.CriticalityCalculation.ToleranceRangeHighValue);var b3=r1(Z2);var c3=r1($2);var d3=r1(_2);var e3=r1(a3);var f3="parts: ["+X2;f3+=b3?","+Z2:"";f3+=c3?","+$2:"";f3+=d3?","+_2:"";f3+=e3?","+a3:"";f3+="]";var g3=function(){var i3=1;return y(arguments[0],Y2,b3?arguments[i3++]:Z2,c3?arguments[i3++]:$2,d3?arguments[i3++]:_2,e3?arguments[i3++]:a3,k);};var h3=u(g3,"formatCriticalityCalculation");return"{"+f3+", formatter: '"+h3+"'}";}
function r1(i){return(typeof i==="string")&&i.charAt(0)==="{";}
function s1(j,k,X2){var Y2="";var Z2=X2.split("/");if(Z2.length>1){for(var i=0;i<(Z2.length-1);i++){var $2=j.getODataAssociationEnd(k,Z2[i]);if($2){k=j.getODataEntityType($2.type);if(Y2){Y2=Y2+"/";}Y2=Y2+Z2[i];}else{return Y2;}}}return Y2;}
function t1(i,j){var k=i.getSetting('ovpCardProperties');var X2=k.getProperty("/addODataSelect");var Y2=k.getProperty("/metaModel");var Z2=Y2.getODataEntityType(j.entityType);var $2=Z2[k.getProperty('/selectionAnnotationPath')];var _2=Z2[k.getProperty('/presentationAnnotationPath')];var a3="/"+j.name;var b3=Array.prototype.slice.call(arguments,2);var c3=i.getSetting('ovpCardProperties'),d3=c3.getProperty('/parameters');if($2||!!d3){if(($2&&$2.Parameters&&$2.Parameters.length>0)||!!d3){a3=x2(i.getSetting('dataModel'),j,$2,d3);}}if(k.getProperty("/cardLayout")&&k.getProperty("/cardLayout/noOfItems")){var e3="{path: '"+a3+"', length: "+ +(k.getProperty("/cardLayout/noOfItems"));}else{var e3="{path: '"+a3+"', length: "+G1(k);}var f3=[];if(X2){f3=v1(i,Y2,Z2,b3);}var g3=u1(Y2,Z2,b3);if(f3.length>0||g3.length>0){e3=e3+", parameters: {";if(f3.length>0){e3=e3+"select: '"+f3.join(',')+"'";}if(g3.length>0){if(f3.length>0){e3=e3+", ";}e3=e3+"expand: '"+g3.join(',')+"'";}e3=e3+"}";}var h3=x1(k,_2);if(h3.length>0){e3=e3+", sorter:"+JSON.stringify(h3);}var i3=B1(k,$2);if(i3.length>0){e3=e3+", filters:"+JSON.stringify(i3);}e3=e3+"}";return e3;}
t1.requiresIContext=true;
function u1(k,X2,Y2){var Z2=[];var $2,_2,a3,b3;for(var i=0;i<Y2.length;i++){if(!Y2[i]){continue;}$2=X2.$path+"/"+Y2[i];_2=k.createBindingContext($2);a3=_2.getObject();a3=a3?a3:[];for(var j=0;j<a3.length;j++){if(a3[j].Value&&a3[j].Value.Path){b3=s1(k,X2,a3[j].Value.Path);if(b3&&Z2.indexOf(b3)===-1){Z2.push(b3);}}}}return Z2;}
function v1(X2,Y2,Z2,$2){var _2=[];var a3,b3,c3;for(var i=0;i<$2.length;i++){if(!$2[i]){continue;}a3=Z2.$path+"/"+$2[i];b3=Y2.createBindingContext(a3);var d3={};if(X2&&X2.bDummyContext){q.extend(d3,X2,b3,true);}else{d3=X2;}c3=b3.getObject();if(!c3){c3=[];}else if(q.isPlainObject(c3)){if(c3.Data){c3=c3.Data;}else{c3=[];}}var e3;var f3;var g3;var h3;for(var j=0;j<c3.length;j++){f3=[];e3=c3[j];g3="";h3=e3.RecordType;if(h3==="com.sap.vocabularies.UI.v1.DataField"){g3=b1(d3,e3,Z2,Y2,undefined,undefined,true);}else if(h3==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var i3=K(Z2.$path,e3);g3=_(d3,Y2.getProperty(i3),Z2,Y2);var j3=J(Y2.getProperty(i3));if(j3&&j3.length>0){g3+=j3;}}else if(h3==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&e3.Url){var k3;if(!e3.Url.UrlRef){k3=O.format(d3,e3.Url);}if(k3&&k3.substring(0,2)==="{="){g3=k3;}}if(g3){var l3=O.simplePath(d3,e3.Value);if(g3.indexOf("(")<0&&g3!==l3){g3=[].concat(l3,g3).join(" ");}f3=w1(g3);}if(f3&&f3.length>0){var m3;for(var k=0;k<f3.length;k++){m3=f3[k];if(!_2[m3]){_2[m3]=true;var n3=C.getUnitColumn(m3,Z2);if(n3&&n3!==m3){_2[n3]=true;}var o3=V2(Y2,Z2,m3);if(o3&&o3!==m3){_2[o3]=true;}}}}}}return Object.keys(_2);}
function w1(j){var i,k=0,X2=j.length,Y2="",Z2;for(i=0;i<X2;i++){Z2=j.charAt(i);if(!Z2){return;}switch(Z2){case"{":k++;break;case"}":k--;break;default:if(k<=0){continue;}break;}Y2+=Z2;}j=Y2;var $2=/\${([a-zA-Z0-9\_|\/]*)/g;var _2=/[^[{]*[a-zA-Z0-9\_]/g;var a3=/path *\: *\'([a-zA-Z0-9\_]+)*\'/g;var b3,c3,d3=[];if(j.indexOf("{parts:[")!==-1){j=j.replace("{parts:[","");}if(j.substring(0,2)==="{="){b3=$2;c3=1;}else if(j.indexOf("path")!==-1){var e3=_2.exec(j);while(e3){if(e3[0].indexOf("path")===-1&&e3[0].indexOf("@i18n")!==0){d3.push(e3[0]);}e3=_2.exec(j);}b3=a3;c3=1;}else{b3=_2;c3=0;}var f3=b3.exec(j);while(f3){if(f3[c3]&&f3[c3].indexOf("@i18n")!==0){d3.push(f3[c3]);}f3=b3.exec(j);}return d3;}
function x1(j,k){var X2=[];var Y2,Z2;var $2=j.getProperty("/sortBy");if($2){var _2=j.getProperty('/sortOrder');if(_2&&_2.toLowerCase()!=='descending'){Z2=false;}else{Z2=true;}Y2={path:$2,descending:Z2};X2.push(Y2);}var a3=k&&k.SortOrder||undefined;var b3,$2;if(a3){for(var i=0;i<a3.length;i++){b3=a3[i];$2=b3.Property.PropertyPath;Z2=C1(b3.Descending,true);Y2={path:$2,descending:Z2};X2.push(Y2);}}return X2;}
function y1(i){var j=i.getProperty('/entityType');var k=j[i.getProperty('/selectionAnnotationPath')];return{filters:B1(i,k),parameters:A1(k)};}
function z1(j){if(!j){return;}var k=j.getProperty('/entityType');var X2=k[j.getProperty('/presentationAnnotationPath')];var Y2=x1(j,X2);var Z2=[];var i,$2=Y2.length;for(i=0;i<$2;i++){if(!Y2[i].path){continue;}Z2.push({Property:Y2[i].path,Descending:Y2[i].descending});}if(Z2.length>0){return{SortOrder:Z2};}}
function A1(j){var k,X2=[];if(!j||!j.Parameters){return X2;}var Y2=j.Parameters.length;for(var i=0;i<Y2;i++){k=j.Parameters[i];if(!k.PropertyName||!k.PropertyName.PropertyPath){continue;}if(!k.PropertyValue){q.sap.log.error("Missing value for parameter "+k.PropertyName.PropertyPath);continue;}X2[X2.length]={path:k.PropertyName.PropertyPath,value:E1(k.PropertyValue)};}return X2;}
function B1(k,X2){var Y2=[];var Z2;var $2=k.getProperty("/filters");if($2){Y2=Y2.concat($2);}if(X2&&X2.SelectOptions){Z2=X2.SelectOptions;}else{Z2=X2;}var _2,a3,b3;if(Z2){for(var i=0;i<Z2.length;i++){_2=Z2[i];a3=_2.PropertyName.PropertyPath;for(var j=0;j<_2.Ranges.length;j++){b3=_2.Ranges[j];if(b3.Sign.EnumMember){var c3={path:a3,operator:b3.Option.EnumMember.split("/")[1],value1:E1(b3.Low),value2:E1(b3.High),sign:b3.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"?"I":"E"};if(c3.sign==="E"&&c3.operator!==F.EQ){q.sap.log.error("Exclude sign is supported only with EQ operator");continue;}if(c3.sign==="E"&&c3.operator===F.EQ){c3.operator=F.NE;c3.sign="I";}if(c3.operator==="CP"&&c3.sign==="I"){var d3=F.Contains;var e3=c3.value1;if(e3){var f3=e3.indexOf('*');var g3=e3.lastIndexOf('*');if(f3>-1){if((f3===0)&&(g3!==(e3.length-1))){d3=F.EndsWith;e3=e3.substring(1,e3.length);}else if((f3!==0)&&(g3===(e3.length-1))){d3=F.StartsWith;e3=e3.substring(0,e3.length-1);}else{e3=e3.substring(1,e3.length-1);}}}c3.operator=d3;c3.value1=e3;}Y2.push(c3);}}}}return Y2;}
function C1(i,j){if(i&&i.Boolean){if(i.Boolean.toLowerCase()==="true"){return true;}else if(i.Boolean.toLowerCase()==="false"){return false;}}else if(i&&i.Bool){if(i.Bool.toLowerCase()==="true"){return true;}else if(i.Bool.toLowerCase()==="false"){return false;}}return j;}
function D1(i){var j;if(i){if(i.String){j=Number(i.String);}else if(i.Int){j=Number(i.Int);}else if(i.Decimal){j=Number(i.Decimal);}else if(i.Double){j=Number(i.Double);}else if(i.Single){j=Number(i.Single);}}return j;}
function E1(i){var j;if(i){if(i.String||i.String===""){j=i.String;}else if(i.Boolean||i.Bool){j=C1(i);}else{j=D1(i);}}return j;}
function F1(i){if(i){if(i.Path){return"{path:'"+i.Path+"'}";}else{return E1(i);}}else{return"";}}
function G1(i){var j=i.getProperty('/contentFragment');var k=i.getProperty('/listType');var X2=i.getProperty('/listFlavor');var Y2;var Z2="desktop";if(a.system.phone){Z2="phone";}else if(a.system.tablet){Z2="tablet";}if(j=="sap.ovp.cards.list.List"){if(k=="extended"){if(X2=="bar"){Y2=I["List_extended_bar"];}else{Y2=I["List_extended"];}}else if(X2=="bar"){Y2=I["List_condensed_bar"];}else{Y2=I["List_condensed"];}}else if(j=="sap.ovp.cards.table.Table"){Y2=I["Table"];}else if(j=="sap.ovp.cards.stack.Stack"){if(i.getProperty('/objectStreamCardsNavigationProperty')){Y2=I["Stack_complex"];}else{Y2=I["Stack_simple"];}}if(Y2){return Y2[Z2];}return 5;}
function H1(i){var j=i.getObject();var k=E(i,j,true);var X2=k.map(function(Y2){if(Y2&&Y2.Value&&Y2.Value.Path){return Y2.Value.Path;}else if(Y2&&Y2.fn&&Y2.fn.Path){return Y2.fn.Path;}});j.filter(function(Y2,Z2){if(Y2.RecordType==="com.sap.vocabularies.UI.v1.DataField"&&X2.indexOf(Y2.Value.Path)>-1){j.splice(Z2,1);}});}
H1.requiresIContext=true;
function I1(i,j){if(j.charAt(0)==='/'||j.indexOf("http")===0){return j;}var k=i.getModel(0).getProperty("/baseUrl");if(k){return k+"/"+j;}return j;}
I1.requiresIContext=true;
function J1(i,j){var k=E(i,j);return k.length;}
J1.requiresIContext=true;
function K1(i,j){return M1(i,j,0);}
K1.requiresIContext=true;
function L1(i,j){return M1(i,j,1);}
L1.requiresIContext=true;
function M1(i,j,k){var X2=E(i,j),Y2=X2[k];if(Y2&&Y2.Value&&Y2.Value.Path){return Y2.Value.Path;}return"";}
function N1(i,j){return R(i,j,0);}
N1.requiresIContext=true;
function O1(i,j){return R(i,j,1);}
O1.requiresIContext=true;
function P1(i,j){return R(i,j,2);}
P1.requiresIContext=true;
function Q1(i,j){return R(i,j,3);}
Q1.requiresIContext=true;
function R1(i,j){return R(i,j,4);}
R1.requiresIContext=true;
function S1(i,j,k){return Q(i,j,k);}
S1.requiresIContext=true;
function T1(i,j,k){return X(i,j,k);}
T1.requiresIContext=true;
function U1(i,j,k,X2){var Y2=J1(i,j);if(Y2>0){return T1(i,j,k);}else{return S1(i,j,X2);}}
U1.requiresIContext=true;
function V1(i,j,k){return o2(i,j,k);}
V1.requiresIContext=true;
function W1(i,j){return U(i,j,0);}
W1.requiresIContext=true;
function X1(i,j){return U(i,j,1);}
X1.requiresIContext=true;
function Y1(i,j){return U(i,j,2);}
Y1.requiresIContext=true;
function Z1(i,j){return W(i,j,0);}
Z1.requiresIContext=true;
function $1(j,k){for(var i=0;i<k.length;i++){var X2=k[i];if(X2.RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(X2.IconUrl&&X2.IconUrl.String){return X2.IconUrl.String;}if(X2.IconUrl&&X2.IconUrl.Path){return O.simplePath(j,X2.IconUrl);}}}}
$1.requiresIContext=true;
function _1(i,j,k){var X2="";var Y2;if(q.isArray(j)){Y2=E(i,j)[k];}else{var Z2=q.extend({},j);var $2=q.extend({},i);Y2=m2($2,Z2);}if(!Y2||!Y2.Value){return X2;}var _2=i.getSetting('ovpCardProperties');var a3=_2&&_2.getProperty("/entityType");var b3=_2&&_2.getProperty("/metaModel");var c3=b3&&b3.getODataProperty(a3,Y2.Value.Path);var d3=c3&&c3["Org.OData.Measures.V1.ISOCurrency"];if(d3&&d3.Path){X2+=(" "+c1([d3.Path]));}else if(d3&&d3.String){X2+=(" "+d3.String);}return X2;}
_1.requiresIContext=true;
function a2(i,j,k,X2){return X(i,j,k,X2);}
a2.requiresIContext=true;
function b2(i,j){return j1(i,j,0);}
b2.requiresIContext=true;
function c2(i,j){return m1(i,j,0);}
c2.requiresIContext=true;
function d2(i,j){return j1(i,j,1);}
d2.requiresIContext=true;
function e2(i,j){return j1(i,j,2);}
e2.requiresIContext=true;
function f2(i,j){return o1(i,j,0);}
f2.requiresIContext=true;
function g2(i){var j={};j.EnumMember="None";if(Number(i)===1){j.EnumMember="Negative";}else if(Number(i)===2){j.EnumMember="Critical";}else if(Number(i)===3){j.EnumMember="Positive";}return v(j,g.ColorValues);}
function h2(i,j){if(j&&j.Criticality&&j.Criticality.Path){return"{parts: [{path:'"+j.Criticality.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.kpiValueCriticality'}";}else{return p1(i,j,g.ColorValues);}}
h2.requiresIContext=true;
function i2(i,j){return Y(i,j,0);}
i2.requiresIContext=true;
function j2(i,j){var k=E(i,j)[0];if(k&&(k.Criticality||k.CriticalityCalculation)){return true;}return false;}
j2.requiresIContext=true;
function k2(i,j){return Y(i,j,1);}
k2.requiresIContext=true;
function l2(i,j){return Y(i,j,2);}
l2.requiresIContext=true;
function m2(i,j){var k=i.getPath(0);var X2=k.slice(0,k.lastIndexOf("/"));X2=X2.slice(0,X2.lastIndexOf("/"));var Y2=K(X2,j);j=i.getModel(0).getProperty(Y2);return j;}
function n2(i,j){if(!j){return"";}return $(i,j);}
n2.requiresIContext=true;
function o2(j,k,X2,Y2){var Z2;var $2=Y2==undefined?X2:B(j,X2)[Y2];var _2=j.getSetting('ovpCardProperties');var a3=_2.getProperty("/metaModel");var b3=a3.getODataEntityType(k.entityType);var c3=b3.property;if(c3){for(var i=0;i<c3.length;i++){if($2.Value.Path===c3[i].name){Z2=c3[i]["com.sap.vocabularies.Common.v1.SemanticObject"];if(Z2){return O.format(j,Z2);}else{return"";}}}}}
function p2(i,j,k){if(!j){return"";}var X2=i.getSetting('ovpCardProperties');var Y2=X2.getProperty("/entityType");var Z2=X2.getProperty("/metaModel");var $2=q.extend({},j);var _2=q.extend({},i);j=m2(_2,$2);return _(i,j,Y2,Z2,k);}
p2.requiresIContext=true;
function q2(i,j){var k=q.extend({},j);var X2=q.extend({},i);var Y2="None",Z2=g.StateValues;j=m2(X2,k);if(j&&j.Criticality){Y2=n1(i,j,Z2);}else{Y2=p1(i,j,Z2);}return Y2;}
q2.requiresIContext=true;
function r2(i,j){var k=q.extend({},j);var X2=q.extend({},i);j=m2(X2,k);if(j&&j.Criticality){return true;}}
r2.requiresIContext=true;
function s2(i,j){var k=q.extend({},j);var X2=q.extend({},i);var Y2=i.getSetting('ovpCardProperties');var Z2=Y2.getProperty("/entityType");var $2=Y2.getProperty("/metaModel");j=m2(X2,k);if(!j){return;}var _2=$2.getODataProperty(Z2,j.Value.Path);if(j&&_2&&_2.type=="Edm.String"&&(j.Criticality||j.CriticalityCalculation)){return true;}}
s2.requiresIContext=true;
function t2(i,j){var k=q.extend({},j);var X2=q.extend({},i);j=m2(X2,k);var Y2="None";if(j&&j.Criticality&&j.Criticality.Path){Y2="{path:'"+j.Criticality.Path+"'}";}else{Y2=p1(i,j,g.StateValues);Y2=w(Y2);}return Y2;}
t2.requiresIContext=true;
function u2(j,k){var X2;for(var i=0;i<k.length;i++){X2=k[i];if(X2.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||X2.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||X2.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){return 1;}}return 0;}
u2.requiresIContext=true;
function v2(i,j){var k=E(i,j)[0];if(k&&k.Value&&k.Value.Path){var X2=i.getPath(0).substr(0,i.getPath(0).lastIndexOf("/")+1);var Y2=i.getModel(0);var Z2=Y2.getProperty(X2);var $2=Y2.getODataProperty(Z2,k.Value.Path);if($2&&$2["Org.OData.Measures.V1.Unit"]){return $2["Org.OData.Measures.V1.Unit"].String==="%";}}return false;}
v2.requiresIContext=true;
function w2(i){var j=i.getObject();var k=i.getModel();var X2=k.getProperty("/metaModel");var Y2=X2.getODataEntitySet(k.getProperty("/entitySet"));var Z2=X2.getODataEntityType(Y2.entityType);j=Z2.$path+"/"+j;return X2.createBindingContext(j);}
function x2(j,k,X2,Y2,Z2){var $2="";var _2=new o.Model(o.Model.ReferenceByModel(j));var a3=_2.findQueryResultByName(k.name);if(!a3){$2="/"+k.name;return $2;}var b3=new o.QueryResultRequest(a3);var c3=a3.getParameterization();if(!c3){$2="/"+k.name;return $2;}if(Z2){var d3=Z2.getAnalyticalParameters();}if(c3){var e3;b3.setParameterizationRequest(new o.ParameterizationRequest(c3));if(X2&&X2.Parameters){q.each(X2.Parameters,function(){if(this.RecordType==="com.sap.vocabularies.UI.v1.IntervalParameter"){e3=this.PropertyNameFrom.PropertyPath.split("/");b3.getParameterizationRequest().setParameterValue(e3[e3.length-1],this.PropertyValueFrom.String,this.PropertyValueTo.String);}else{e3=this.PropertyName.PropertyPath.split("/");b3.getParameterizationRequest().setParameterValue(e3[e3.length-1],this.PropertyValue.String);}});}else if(Y2){q.each(Y2,function(){b3.getParameterizationRequest().setParameterValue(this.path,this.value);});}else if(d3&&d3.length>0){var f3=Z2&&Z2.getUiState({allFilters:false});var g3=f3?JSON.stringify(f3.getSelectionVariant()):"{}";var X2=new S(g3);for(var h3 in c3.getAllParameters()){for(var i=0;i<d3.length;i++){if(d3[i]&&(d3[i].name==h3)){var i3=d3[i].name;var j3=X2.getParameter(i3);if(!j3){var k3=X2.getSelectOption(i3);j3=k3&&k3[0]&&k3[0].Low;}b3.getParameterizationRequest().setParameterValue(h3,j3);}}}}else{$2="/"+k.name;q.sap.log.error("SelectionParameters","There are no parameters to resolve");return $2;}}try{$2=b3.getURIToQueryResultEntitySet();}catch(l3){a3=b3.getQueryResult();$2="/"+a3.getEntitySet().getQName();q.sap.log.error("getEntitySetPathWithParameters","binding path with parameters failed - "+l3||l3.message);}return $2;}
function y2(j,k,ns){var X2=j.getServiceMetadata().dataServices.schema[0].association;for(var i=0;i<X2.length;i++){if(ns+"."+X2[i].name===k){return X2[i];}}}
function z2(i,j){var k=i.filter(function(Y2){if(Y2.RecordType==="com.sap.vocabularies.UI.v1.DataField"){return true;}return false;});var X2=M(k);if(X2){return X2[j];}return;}
function A2(i,j,k){if(!k||!k.length||k.length===0){return false;}k=z2(k,0);return o2(i,j,k);}
A2.requiresIContext=true;
function B2(i,j,k){if(!k||!k.length||k.length===0){return false;}k=z2(k,1);return o2(i,j,k);}
B2.requiresIContext=true;
function C2(i,j){var k=i.filter(function(Y2){if(Y2.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&Y2.Target.AnnotationPath.indexOf("@com.sap.vocabularies.Communication.v1.Contact")!==-1){return true;}return false;});var X2=M(k);if(X2){return X2[j];}return;}
function D2(i){if(!i||!i.length||i.length===0){return false;}var j=C2(i,0);if(j){return true;}return false;}
function E2(i,j,k,X2){var Y2,Z2,$2;if(k&&k.Value&&k.Value.Path){Y2=k.Value.Path;}else if(k&&k.Description&&k.Description.Value&&k.Description.Value.Path){Y2=k.Description.Value.Path;}if(k&&k.Description&&k.Description.Path){Z2=k.Description.Path;}else if(k&&k.Title&&k.Title.Path){$2=k.Title.Path;}var _2="";var a3=X2&&X2.Parameters;var b3="";var c3=i.getSetting('ovpCardProperties'),d3=c3.getProperty('/parameters');a3=a3||!!d3;if(a3){var e3=i.getSetting("dataModel");var f3=x2(e3,j,X2,d3);_2+="{path: '"+f3+"'";}else{_2+="{path: '/"+j.name+"'";}_2+=", length: 1";var g3=i.getSetting('ovpCardProperties');var h3=g3.getProperty("/entityType");var i3=C.getUnitColumn(Y2,h3);var j3=B1(g3,X2);if(j3.length>0){b3+=", filters: "+JSON.stringify(j3);}var k3=[];k3.push(Y2);if(Z2){k3.push(Z2);}else if($2){k3.push($2);}if(k&&k.Criticality&&k.Criticality.Path){k3.push(k.Criticality.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.DeviationRangeLowValue&&k.CriticalityCalculation.DeviationRangeLowValue.Path){k3.push(k.CriticalityCalculation.DeviationRangeLowValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.ToleranceRangeLowValue&&k.CriticalityCalculation.ToleranceRangeLowValue.Path){k3.push(k.CriticalityCalculation.ToleranceRangeLowValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.DeviationRangeHighValue&&k.CriticalityCalculation.DeviationRangeHighValue.Path){k3.push(k.CriticalityCalculation.DeviationRangeHighValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.ToleranceRangeHighValue&&k.CriticalityCalculation.ToleranceRangeHighValue.Path){k3.push(k.CriticalityCalculation.ToleranceRangeHighValue.Path);}if(i3){k3.push(i3);}if(k&&k.TrendCalculation&&k.TrendCalculation.ReferenceValue&&k.TrendCalculation.ReferenceValue.Path){k3.push(k.TrendCalculation.ReferenceValue.Path);}return _2+", parameters:{select:'"+k3.join(",")+"'}"+b3+"}";}
E2.requiresIContext=true;
function F2(k){if(isNaN(k)){return k;}var i,j,X2=false;if(this.oPropagatedProperties.oModels.ovpCardProperties.oData.NumberOfFractionalDigits){i=Number(this.oPropagatedProperties.oModels.ovpCardProperties.oData.NumberOfFractionalDigits);}if(this.oPropagatedProperties.oModels.ovpCardProperties.oData.percentageAvailable){X2=true;}if(!i||i<0){i=0;}else if(i>2){i=2;}j=k;if(k){var Y2=N.getFloatInstance({minFractionDigits:i,maxFractionDigits:i,style:"short",showScale:true,shortRefNumber:j});if(X2){return Y2.format(Number(k))+" %";}else{return Y2.format(Number(k));}}}
function G2(i){if(!i||!i.Value||!i.Value.Path){return"";}if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){this.getModel("ovpCardProperties").oData.NumberOfFractionalDigits=i.ValueFormat.NumberOfFractionalDigits.Int;}var j=this.getModel('ovpCardProperties');var k=j.getProperty("/entityType");var X2=j.getProperty("/metaModel");var Y2=X2.getODataProperty(k,i.Value.Path);if(Y2["Org.OData.Measures.V1.Unit"]){var Z2=Y2["Org.OData.Measures.V1.Unit"];if(Z2.String=="%"){this.getModel("ovpCardProperties").oData.percentageAvailable=true;}}return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.KpiValueFormatter'}";}
function H2(i,j){if(!j||!j.Value||!j.Value.Path||!j.TrendCalculation){return"";}var k=F1(j.Value);var X2=F1(j.TrendCalculation.ReferenceValue);var Y2=F1(j.TrendCalculation.DownDifference);var Z2=F1(j.TrendCalculation.UpDifference);var $2=r1(X2);var _2=r1(Y2);var a3=r1(Z2);var b3="parts: ["+k;b3+=$2?","+X2:"";b3+=_2?","+Y2:"";b3+=a3?","+Z2:"";b3+="]";var c3=function(){var e3=1;return z(arguments[0],$2?arguments[e3++]:X2,_2?arguments[e3++]:Y2,a3?arguments[e3++]:Z2);};var d3=u(c3,"formatTrendDirection");return"{"+b3+", formatter: '"+d3+"'}";}
H2.requiresIContext=true;
function I2(i){if(!i||!i.TrendCalculation||!i.TrendCalculation.ReferenceValue){return"";}if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){this.getModel("ovpCardProperties").oData.NumberOfFractionalDigits=i.ValueFormat.NumberOfFractionalDigits.Int;}if(i.TrendCalculation.ReferenceValue.Path){return"{parts: [{path:'"+i.Value.Path+"'}, {path:'"+i.TrendCalculation.ReferenceValue.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.returnPercentageChange'}";}else{return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.returnPercentageChange'}";}}
function J2(k,i){var j,X2,Y2,Z2,$2=false;if(isNaN(+k)){return"";}if(k==0){Z2=i;}else{Z2=k;}X2=this.getModel('ovpCardProperties');if(X2.getProperty("/iNumberOfFractionalDigits")){Y2=+(X2.getProperty("/iNumberOfFractionalDigits"));}if(X2.getProperty("/bPercentageAvailableForTarget")){$2=true;}if(i){j=i;}else{if(X2.getProperty("/sManifestTargetValue")){j=X2.getProperty("/sManifestTargetValue");}}if(!Y2||Y2<0){Y2=0;}else if(Y2>2){Y2=2;}if(j){var _2=N.getFloatInstance({minFractionDigits:Y2,maxFractionDigits:Y2,style:"short",showScale:true,shortRefNumber:Z2});if($2){return _2.format(+(j))+" %";}else{return _2.format(+(j));}}}
function K2(i){if(!i||!i.TrendCalculation||!i.TrendCalculation.ReferenceValue){return"";}if(!i||!i.Value||!i.Value.Path){return"";}var j=this.getModel('ovpCardProperties');var k=j.getProperty("/entityType");var X2=j.getProperty("/metaModel");if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){j.setProperty("/iNumberOfFractionalDigits",i.ValueFormat.NumberOfFractionalDigits.Int);}if(i.TrendCalculation.ReferenceValue){if(i.TrendCalculation.ReferenceValue.String){j.setProperty("/sManifestTargetValue",i.TrendCalculation.ReferenceValue.String);return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.TargetValueFormatter'}";}if(i.TrendCalculation.ReferenceValue.Path){var Y2=X2.getODataProperty(k,i.TrendCalculation.ReferenceValue.Path);if(Y2["Org.OData.Measures.V1.Unit"]){var Z2=Y2["Org.OData.Measures.V1.Unit"];if(Z2.String=="%"){j.setProperty("/bPercentageAvailableForTarget",true);}}return"{parts: [{path:'"+i.Value.Path+"'},{path:'"+i.TrendCalculation.ReferenceValue.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.TargetValueFormatter'}";}}}
function L2(k,i){var j,X2,Y2;if(isNaN(+k)){return"";}k=+(k);Y2=this.getModel('ovpCardProperties');if(Y2.getProperty("/iNumberOfFractionalDigits")){j=+(Y2.getProperty("/iNumberOfFractionalDigits"));}if(i){X2=+(i);}else{if(Y2.getProperty("/sManifestTargetValue")){X2=+(Y2.getProperty("/sManifestTargetValue"));}}if(!j||j<0){j=0;}else if(j>2){j=2;}if(X2){var Z2=((k-X2)/X2);var $2=N.getPercentInstance({style:'short',minFractionDigits:j,maxFractionDigits:j,showScale:true});return $2.format(Z2);}}
function M2(i){if(i&&i.GroupBy&&!(q.isEmptyObject(i.GroupBy))&&i.GroupBy[0].hasOwnProperty('PropertyPath')){return true;}else{return false;}}
function N2(i){var j="";var k=i&&i.GroupBy;if(!k){return j;}var X2=this.getModel('ovpCardProperties').getProperty("/metaModel");var Y2=this.getModel('ovpCardProperties').getProperty("/entityType");var Z2;if(i.GroupBy.constructor===Array){Z2=i.GroupBy;}else if(!i.GroupBy.Collection){return j;}else{Z2=i.GroupBy.Collection;}var $2;q.each(Z2,function(){$2=U2(X2,Y2,this.PropertyPath);if(!$2){return;}j+=$2;j+=", ";});if(j[j.length-1]===" "&&j[j.length-2]===","){j=j.substring(0,j.length-2);}return j==""?"":sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("By",[j]);}
function O2(i,j,k){var X2=true;var Y2=k["SelectOptions"].length-1;if(j.PropertyName.PropertyPath===k["SelectOptions"][Y2].PropertyName.PropertyPath){X2=false;}j=[j];var Z2=i.getSetting('ovpCardProperties');var $2=Z2.getProperty("/entityType");var _2=Z2.getProperty("/metaModel");var a3=B1(Z2,j);if(a3.length==0){return"";}var b3;var c3;b3=a3[0].path;c3=V2(_2,$2,b3);if(c3!==b3){return"";}var d3=S2(a3);if(X2===true){return d3+", ";}return d3;}
O2.requiresIContext=true;
function P2(i,j,k){var X2=!(j.index===(k.length-1));var Y2=S2([k[j.index]]);if(X2===true){return Y2+", ";}return Y2;}
P2.requiresIContext=true;
function Q2(i){return i.id;}
function R2(i){return i.id;}
function S2(j){var k=[];for(var i=0;i<j.length;i++){k.push(T2(j[i]));}return k.join(', ');}
function T2(i){var j=false;var k=i.value1;if(i.operator[0]==="N"){j=true;}if(i.value2){k+=" - "+i.value2;}if(j){k=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("kpiHeader_Filter_NotOperator",[k]);}return k;}
function U2(i,j,k){return W2(i,j,k,"com.sap.vocabularies.Common.v1.Label");}
function V2(i,j,k){return W2(i,j,k,"sap:text");}
function W2(i,j,k,X2){var Y2=i.getODataProperty(j,k);if(!Y2){q.sap.log.error("No Property Found for with Name '"+k+" For Entity-Type '"+j.name+"'");return;}var Z2=Y2[X2];if(Z2){if(X2==="com.sap.vocabularies.Common.v1.Label"){return Z2.String;}return Z2;}return Y2.name;}
return{NumberFormatFunctions:c,DateFormatFunctions:d,CurrencyFormatFunctions:e,formatFunctions:f,criticalityConstants:g,TextArrangementType:T,formatterGeo:h,criticalityType:m,getCriticalityStateFromValue:n,getLabelForDataItem:r,colorPaletteForComparisonMicroChart:l1,formatField:$,formatItems:t1,getCardSelections:y1,getCardSorters:z1,getFilters:B1,getPrimitiveValue:E1,removeDuplicateDataField:H1,formatUrl:I1,getDataPointsCount:J1,getFirstDataPointValue:K1,getFirstDataFieldName:N1,getSecondDataFieldName:O1,getThirdDataFieldName:P1,formatDataFieldValueOnIndex:S1,formatDataPointValueOnIndex:T1,formatDataPointOrField:U1,formatsemanticObjectOfDataFieldGeneric:V1,getLabelForFirstDataPoint:Z1,formatImageUrl:$1,formatUnit:_1,formatObjectNumber:a2,formatFirstDataPointState:b2,formatFirstDataPointColor:c2,formatSecondDataPointState:d2,formatThirdDataPointState:e2,formatFirstDataPointStateForSmartField:f2,formatKPIHeaderState:h2,isFirstDataPointCriticality:i2,isFirstDataPointCriticalityForTableStatus:j2,getSortedDataFields:B,getSortedDataPoints:E,formatDataFieldValueGeneric:n2,formatDataPointValue:p2,formatDataPointStateGeneric:q2,checkCriticalityGeneric:r2,checkCriticalityGenericForTableStatus:s2,formatDataPointStateForSmartFieldGeneric:t2,hasActions:u2,isFirstDataPointPercentageUnit:v2,resolveEntityTypePath:w2,resolveParameterizedEntitySet:x2,getAssociationObject:y2,semanticObjectOfFirstDataField:A2,semanticObjectOfSecondDataField:B2,isFirstContactAnnotation:D2,getAggregateNumber:E2,KpiValueFormatter:F2,kpiValueCriticality:g2,formThePathForAggregateNumber:G2,formThePathForTrendIcon:H2,formPathForPercentageChange:I2,TargetValueFormatter:J2,formPathForTargetValue:K2,returnPercentageChange:L2,isPresentationVarientPresent:M2,listGroupBy:N2,formTheFilterByString:O2,formTheFilterByStringNotFromSelVar:P2,formTheIdForFilter:Q2,formTheIdForFilterNotFromSelVar:R2,_criticality2state:v,_calculateCriticalityState:y,_calculateTrendDirection:z,_getPropertiesFromBindingString:w1,sortCollectionByImportance:M};},true);
sap.ui.predefine('sap/ovp/cards/AppSettingsUtils',['jquery.sap.global',"sap/m/Dialog","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/core/mvc/ViewType","sap/ui/model/resource/ResourceModel"],function(q,D,B,J,V,R){"use strict";var a={dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oOvpResourceBundle:sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),getDialogBox:function(c){return new Promise(function(r,b){var o,A,d,e;if(!this.dialogBox){this.oSaveButton=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("save"),type:"Emphasized"});var C=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.oResetButton=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("resetButton")});this.dialogBox=new D({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("settingsDialogTitle"),buttons:[this.oSaveButton,C,this.oResetButton],afterClose:function(f){this.dialogBox.destroyContent();}.bind(this)});this.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.dialogBox.setBusyIndicatorDelay(0);C.attachPress(function(f){this.dialogBox.close();}.bind(this));}if(c.getParent()){o=c.getParent().getModel("ui").getData();A=q.extend(true,{},o);var m=c.getModel(A.globalFilterModel),M=m.getMetaModel(),E=M.getODataEntityContainer().entitySet;A["allEntityTypes"]=[];for(var i=0;E&&i<E.length;i++){var s=E[i].entityType;A["allEntityTypes"].push({name:M.getODataEntityType(s).name});}if(A.globalFilterEntityType){A.showGlobalFilters=true;}else{A.showGlobalFilters=false;}if(!A.containerLayout){A.containerLayout="fixed";}e=new J(A);d=new sap.ui.view("appSettingsView",{viewName:"sap.ovp.cards.rta.AppSettingsDialog",type:V.XML});d.setModel(e);var O=this.oOvpResourceBundle?new R({bundleUrl:this.oOvpResourceBundle.oUrlInfo.url}):null;d.setModel(O,"ovpResourceModel");this.dialogBox.addContent(d);d.loaded().then(function(v){r(this.dialogBox);}.bind(this));}}.bind(this));}};return a;},true);
sap.ui.predefine('sap/ovp/cards/CommonUtils',["sap/ovp/cards/OVPCardAsAPIUtils","jquery.sap.global","sap/ui/Device"],function(O,q,D){"use strict";return{app:undefined,navigationHandler:undefined,enable:function(a,n){this.app=a;this.navigationHandler=n;},getApp:function(){return this.app;},getNavigationHandler:function(){return this.navigationHandler;},createKeyForCB:function(t,T){return t.indexOf(T)+1;},createCardComponent:function(v,m,c,s){return O.createCardComponent(v,m,c,s);},getUnitColumn:function(m,e,f){var t,p=e.property;var P,s;for(var i=0,l=p.length;i<l;i++){if(p[i].name!==m){continue;}if(p[i].hasOwnProperty("Org.OData.Measures.V1.ISOCurrency")){P=p[i]["Org.OData.Measures.V1.ISOCurrency"].Path;s=p[i]["Org.OData.Measures.V1.ISOCurrency"].String;if(P){return P;}else{return(f?s:"");}}if(p[i].hasOwnProperty("Org.OData.Measures.V1.Unit")){P=p[i].hasOwnProperty("Org.OData.Measures.V1.Unit").Path;s=p[i]["Org.OData.Measures.V1.Unit"].String;if(P){t=P;}else{t=f?s:"";}if(t&&t!="%"){return t;}else{return null;}}if(p[i].hasOwnProperty("sap:unit")){return p[i]["sap:unit"];}break;}return null;},onHeaderClicked:function(){},onContentClicked:function(e){},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(q(document.body).hasClass("sapUiSizeCozy")||q(document.body).hasClass("sapUiSizeCompact")){if(q(document.body).hasClass("sapUiSizeCozy")===true){this._sContentDensityClass="sapUiSizeCozy";}else if(q(document.body).hasClass("sapUiSizeCompact")===true){this._sContentDensityClass="sapUiSizeCompact";}else{this._sContentDensityClass="";}}else if(!D.support.touch){this._sContentDensityClass="sapUiSizeCompact";}else{this._sContentDensityClass="sapUiSizeCozy";}}return this._sContentDensityClass;},_setCardpropertyDensityAttribute:function(){var c=this.getContentDensityClass();if(c==="sapUiSizeCompact"){return"compact";}else if(c==="sapUiSizeCozy"){return"cozy";}else if(!D.support.touch){return"compact";}else{return"cozy";}},getPixelPerRem:function(){var f=parseFloat(getComputedStyle(document.documentElement).fontSize);return f;},showODataErrorMessages:function(e){var m=[],E,r,a="";if(e&&e.responseText){var R=e.responseText;if(R){try{r=JSON.parse(R);}catch(b){q.sap.log.error("Failed parsing response as JSON: "+R);}if(r&&r.error){E=r.error;}}}if(E&&E.innererror&&E.innererror.errordetails){m=E.innererror.errordetails;}if(E&&E.message&&q.isArray(m)){m.unshift({message:E.message.value,severity:"error"});}if(m&&m.length>0){var A={};q.each(m,function(i,M){var s=M.message;if(q.sap.endsWith(s,".")){s=s.substr(0,s.length-1);}if(!A[s]){A[s]=true;a=a+s+" ";}});}return a;}};},true);
sap.ui.predefine('sap/ovp/cards/LoadingUtils',["jquery.sap.global"],function(){"use strict";return{bAnimationStarted:false,aCanvas:[],bPageAndCardLoading:false,bAnimationStop:false,startAnimation:function(){var a=jQuery(window).width();var W={speed:(0.02*a),currentPosition:0.01,width:0.2,backgroundColor:"#f5f5f0",waveColor:"#e6e6e6"};var u=function(){W.currentPosition+=W.speed;if(W.currentPosition>a){W.currentPosition=0.01;}};var r=function(d){var p=jQuery(d).parentsUntil(".sapUiComponentContainer");if(p.length===0){return;}var P=p[p.length-1].parentNode.parentNode;if(!P||P.offsetLeft==undefined){return;}var e=P.offsetLeft;var f=d.offsetWidth;var C=d.getContext("2d");var g=C.createLinearGradient(0,0,d.width,0);g.addColorStop(0,W.backgroundColor);if(W.currentPosition>e&&W.currentPosition<(e+f)){var h=(W.currentPosition-e)/f;g.addColorStop(Math.max(h-W.width,0.01),W.backgroundColor);g.addColorStop(h,W.waveColor);g.addColorStop(Math.min(h+W.width,0.99),W.backgroundColor);}g.addColorStop(1,W.backgroundColor);C.fillStyle=g;C.fillRect(0,0,d.width,d.height);};var b=function(){if(!this.bAnimationStop){u();var C=this.aCanvas;for(var i=0;i<C.length;i++){r(C[i]);}c(b);}};var w=window,c=w.requestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame||w.mozRequestAnimationFrame;b();}};},true);
sap.ui.predefine('sap/ovp/cards/OVPCardAsAPIUtils',["jquery.sap.global"],function(q){"use strict";var s=["sap.ovp.cards.list","sap.ovp.cards.table","sap.ovp.cards.stack","sap.ovp.cards.linklist","sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.smart.chart","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];
function g(){return s;}
function e(m,d,E){var f={};f.message=m;if(E){f._oError=E;f.getActualError=function(){return f._oError;};}q.sap.log.error(f.message);d(f);}
function c(C){var d=false;var O=C.getOwnerComponent();if(!!O){var f=O.getComponentData();if(!!f&&f.ovpCardsAsApi){d=true;}}return d;}
function r(C,d){var m=d.manifest;var f;for(var h in m.cards){f=h;}var i=m.cards[f];if(i.template==="sap.ovp.cards.charts.analytical"||i.template==="sap.ovp.cards.charts.smart.chart"){i.settings.chartAnnotationPath=C.chartAnnotationPath;i.settings.navigation=C.navigation;}i.settings.annotationPath=C.annotationPath;i.settings.dynamicSubtitleAnnotationPath=C.dynamicSubtitleAnnotationPath;i.settings.presentationAnnotationPath=C.presentationAnnotationPath;i.settings.selectionAnnotationPath=C.selectionAnnotationPath;i.settings.selectionPresentationAnnotationPath=C.selectionPresentationAnnotationPath;i.settings.kpiAnnotationPath=C.kpiAnnotationPath;i.settings.dataPointAnnotationPath=C.dataPointAnnotationPath;i.settings.identificationAnnotationPath=C.identificationAnnotationPath;i.settings.headerAnnotationPath=C.headerAnnotationPath;i.settings.selectedKey=C.selectedKey;if(i){m.cards[f]=i;b(d.parentView,m,d.containerId,d.selectionVariant);}}
function _(C){var d=true;if(C.template==="sap.ovp.cards.linklist"&&C.settings.staticContent){d=false;}return d;}
function a(C,S){var f=[],p=[],i,j;var d=S.getSelectOptionsPropertyNames();for(i=0;i<d.length;i++){var h=S.getSelectOption(d[i]);if(h&&h.length>0){for(j=0;j<h.length;j++){if(h[j]){var F={path:d[i],operator:h[j].Option,value1:h[j].Low,sign:h[j].Sign};if(h[j].High){F.value2=h[j].High;}f.push(F);}}}}var P=S.getParameterNames();for(i=0;i<P.length;i++){var k={path:P[i],value:S.getParameter(P[i])};p.push(k);}C.settings.filters=f;C.settings.parameters=p;return C;}
function b(v,m,C,S){return new Promise(function(d,f){var h,i,M="";if(!!m){for(var j in m.cards){if(m.cards.hasOwnProperty(j)){h=m.cards[j];i=j;}}if(!!h&&!!i){if(!!h.template&&!!h.settings&&(!!h.model||!_(h))){if(s.indexOf(h.template)!==-1){if(!!C&&typeof C==='string'){if(!!v){var k=(!h.model)?undefined:v.getModel(h.model);var l;if(!_(h)){l=Promise.resolve();}else{l=k.getMetaModel().loaded();}l.then(function(){var I=false;if(S){h=a(h,S);I=true;}h.settings.ignoreSelectionVariant=I;var n={async:true,name:h.template,componentData:{model:k,ovpCardsAsApi:true,parentView:v,manifest:m,containerId:C,selectionVariant:S,showDateInRelativeFormat:m.showDateInRelativeFormat,disableTableCardFlexibility:m.disableTableCardFlexibility,template:h.template,i18n:null,cardId:i,settings:h.settings,appComponent:null,mainComponent:null}};sap.ui.component(n).then(function(p){var t=v.byId(C);if(!!t){var O=t.getComponentInstance();p.setModel(k);t.setComponent(p);if(O){setTimeout(function(){O.destroy();},0);}d(true);}else{M="Component Container '"+C+"' is not present in the current View";e(M,f);}},function(E){M="Component creation failed";e(M,f,E);});},function(E){M="MetaModel was not loaded";e(M,f,E);});}else{M="First argument oView is null";e(M,f);}}else{M="ContainerId should be of type string and not null";e(M,f);}}else{M=h.template+" card type is not supported in the API";e(M,f);}}else{M="Cards template or model or settings are not defined";e(M,f);}}else{M="Cards manifest entry or cardId is null";e(M,f);}}else{M="Second argument oManifest is null";e(M,f);}});}
var o={createCardComponent:b,recreateCard:r,checkIfAPIIsUsed:c,getSupportedCardTypes:g};return o;},true);
sap.ui.predefine('sap/ovp/cards/SettingsUtils',["jquery.sap.global","sap/m/Dialog","sap/m/Button","sap/ovp/cards/PayLoadUtils","sap/ovp/cards/OVPCardAsAPIUtils","sap/ovp/cards/rta/SettingsDialogConstants","sap/ui/Device","sap/m/MessagePopover","sap/m/MessagePopoverItem","sap/m/Link","sap/ovp/cards/AnnotationHelper","sap/ui/core/mvc/ViewType","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel"],function(Q,D,B,P,O,S,a,M,b,L,A,V,J,R){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");
function c(i,q,N){var T=i.getComponentInstance(),U=T.getComponentData(),W=U.appComponent,X=U.mainComponent,Y=(N)?"":U.cardId,Z=Y+"Dialog",$=(N)?"":U.modelName,a1=(!$)?undefined:W.getModel($),b1=q.getModel().getData(),c1={cards:{}};c1.cards[Z]={template:b1.template,settings:b1};if(a1&&!!$){c1.cards[Z].model=$;q.setModel(a1,$);}c1.cards[Z]=X._getTemplateForChart(c1.cards[Z]);q.getController()._oManifest=c1;O.createCardComponent(q,c1,"dialogCard");}
function g(i){if(i.indexOf('#')!==-1){return i.split('#')[1];}else{return"Default";}}
function d(i,q){if(i){return i;}else{return q;}}
function e(i,q,N,T){if(q[i]&&q[i][N]){return d(q[i][N].String,T);}else{return T;}}
function f(i,q){var N=g(q),T=_(),U=T&&T.getText("OVP_KEYUSER_LABEL_DEFAULT_LABEL_WITH_QUALIFIER",[N]);U=(U)?U:N;if(q.indexOf(",")!==-1){q=q.split(",")[0];}if(q.indexOf(".Identification")!==-1){if(i[q]){var W=A.sortCollectionByImportance(i[q]);for(var X=0;X<W.length;X++){var Y=W[X];if(Y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(Y&&Y["Label"]){return d(Y["Label"].String,U);}else{return Y["SemanticObject"].String+"-"+Y["Action"].String;}}if(Y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(Y&&Y["Label"]){return d(Y["Label"].String,U);}else{return Y["Url"].String;}}}}return"No Navigation";}else if(q.indexOf(".HeaderInfo")!==-1){if(i[q]&&i[q]["Description"]&&i[q]["Description"].Label){return d(i[q]["Description"].Label.String,U);}else{return U;}}else if(q.indexOf(".PresentationVariant")!==-1||q.indexOf(".SelectionVariant")!==-1||q.indexOf(".SelectionPresentationVariant")!==-1){return e(q,i,"Text",U);}else if(q.indexOf(".DataPoint")!==-1){return e(q,i,"Title",U);}else if(q.indexOf(".Chart")!==-1){return e(q,i,"Description",U);}else if(q.indexOf(".FieldGroup")!==-1){return e(q,i,"Label",U);}else{var Z="";if(N!=="Default"){Z="#"+N;}var $="com.sap.vocabularies.Common.v1.Label"+Z;if(i[q]&&i[q][$]){return d(i[q][$].String,U);}else{return U;}}}
function h(T,i){switch(i){case"cardPreview":return(O.getSupportedCardTypes().indexOf(T)!==-1);case"noOfRows":case"noOfColumns":case"stopResizing":var q=["sap.ovp.cards.stack"];return(q.indexOf(T)===-1);case"listType":case"listFlavor":var N=["sap.ovp.cards.list"];return(N.indexOf(T)!==-1);case"listFlavorForLinkList":var U=["sap.ovp.cards.linklist"];return(U.indexOf(T)!==-1);case"isViewSwitchSupportedCard":case"kpiHeader":var W=["sap.ovp.cards.list","sap.ovp.cards.table","sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.smart.chart","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];return(W.indexOf(T)!==-1);case"chart":var X=["sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.smart.chart","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];return(X.indexOf(T)!==-1);case"sortOrder":case"sortBy":case"lineItem":var Y=["sap.ovp.cards.list","sap.ovp.cards.table"];return(Y.indexOf(T)!==-1);case"identification":var Z=["sap.ovp.cards.stack"];return(Z.indexOf(T)!==-1);default:break;}}
function j(i){return!!i.kpiAnnotationPath;}
function k(i){return!!i.selectionPresentationAnnotationPath;}
function l(i){return k(i)||j(i);}
function m(i,q,N,T){var U=true;var W=true;if(N){if(i.mainViewSelected){W=false;}else{U=false;}}switch(q){case"cardPreview":return h(i.template,"cardPreview");case"noOfRows":case"noOfColumns":case"stopResizing":return U&&h(i.template,q);case"title":return U;case"dynamicSwitchSubTitle":return U&&!!i.dynamicSubTitle;case"dynamicSwitchStateSubTitle":return!!i.dynamicSubtitleAnnotationPath;case"subTitle":if(!i.subTitle){i.subTitle=" ";return true;}else{return U&&!i.dynamicSubtitleAnnotationPath;}break;case"dynamicSubTitle":return W&&!!i.dynamicSubtitleAnnotationPath;case"valueSelectionInfo":if(!i.valueSelectionInfo){i.valueSelectionInfo=" ";}return U&&(h(i.template,"kpiHeader")&&!!i.dataPointAnnotationPath);case"dataPoint":return W&&!j(i)&&(h(i.template,"kpiHeader")&&!!i.dataPointAnnotationPath);case"listType":case"listFlavor":case"listFlavorForLinkList":return U&&h(i.template,q);case"sortOrder":return U&&(!i.staticContent)&&h(i.template,q)&&!!i.sortBy;case"sortBy":return U&&(!i.staticContent)&&h(i.template,q);case"identification":return W&&!j(i)&&(!i.staticContent)&&!h(i.template,q);case"selectionPresentationVariant":return W&&k(i)&&!j(i)&&h(i.template,"kpiHeader");case"presentationVariant":case"selectionVariant":return W&&!l(i)&&(!i.staticContent)&&h(i.template,"kpiHeader");case"kpiHeader":return U&&!j(i)&&h(i.template,q);case"lineItem":case"chart":return W&&!l(i)&&h(i.template,q);case"showViewName":return N&&W;case"showDefaultView":if(N&&W){if(i.defaultViewSelected!=i.selectedKey){return true;}}return false;case"showMore":case"removeVisual":case"lineItemSubTitle":case"lineItemTitle":case"staticLink":case"links":var X=(i.template==="sap.ovp.cards.linklist"&&!!i.staticContent);if(q==="staticLink"){return(X&&!!i.staticContent[T].targetUri);}else if(q==="links"){return(X&&!!i.staticContent[T].semanticObject);}else if(q==="removeVisual"){return(X&&(!!i.staticContent[T].targetUri||!!i.staticContent[T].semanticObject));}else{return X;}break;default:break;}}
function s(i){var q=false;this.oVisibility.viewSwitchEnabled=false;this.oVisibility.showViewSwitch=false;if(h(i.template,"isViewSwitchSupportedCard")){if(i.tabs&&i.tabs.length){q=true;this.oVisibility.showViewSwitch=true;}this.oVisibility.viewSwitchEnabled=true;}this.oVisibility.cardPreview=m(i,"cardPreview");this.oVisibility.stopResizing=m(i,"stopResizing",q);this.oVisibility.noOfRows=m(i,"noOfRows",q);this.oVisibility.noOfColumns=m(i,"noOfColumns",q);this.oVisibility.title=m(i,"title",q);this.oVisibility.subTitle=m(i,"subTitle",q);this.oVisibility.valueSelectionInfo=m(i,"valueSelectionInfo",q);this.oVisibility.listType=m(i,"listType",q);this.oVisibility.listFlavor=m(i,"listFlavor",q);this.oVisibility.listFlavorForLinkList=m(i,"listFlavorForLinkList",q);this.oVisibility.sortOrder=m(i,"sortOrder",q);this.oVisibility.sortBy=m(i,"sortBy",q);if(i.template==="sap.ovp.cards.linklist"&&!!i.staticContent){var N=i.staticContent,T={},U={},W={},X={};for(var Y=0;Y<N.length;Y++){var Z=N[Y].index;T[Z]=m(i,"staticLink",null,Y);U[Z]=m(i,"links",null,Y);W[Z]=m(i,"removeVisual",null,Y);X[Z]=m(i,"showMore",null,Y);}this.oVisibility.staticLink=T;this.oVisibility.links=U;this.oVisibility.removeVisual=W;this.oVisibility.showMore=X;}this.oVisibility.lineItemTitle=m(i,"lineItemTitle");this.oVisibility.lineItemSubTitle=m(i,"lineItemSubTitle");this.oVisibility.showViewName=m(i,"showViewName",q);this.oVisibility.showDefaultView=m(i,"showDefaultView",q);this.aVariantNames.forEach(function($){this.oVisibility[$.sPath]=m(i,$.sPath,q)&&!!i[$.sPath]&&!!i[$.sPath].length;}.bind(this));this.oVisibility.kpiHeader=m(i,"kpiHeader",q)&&!!i["dataPoint"]&&!!i["dataPoint"].length;this.oVisibility.dynamicSwitchSubTitle=m(i,"dynamicSwitchSubTitle",q);this.oVisibility.dynamicSwitchStateSubTitle=m(i,"dynamicSwitchStateSubTitle",q);this.oVisibility.moveToTheTop=false;this.oVisibility.moveUp=false;this.oVisibility.moveDown=false;this.oVisibility.moveToTheBottom=false;this.oVisibility.delete=false;}
function _(){if(r){return r;}r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");return r;}
function n(i){var q=i.getProperty("/staticContent");for(var N=0;N<q.length;N++){q[N].index="Index--"+(N+1);}i.setProperty("/staticContent",q);}
function o(q){var N=0;for(var i=q.length-1;i>=0;i--){if(/^\d+$/.test(q[i])){N=parseInt(q[i],10);break;}}return N;}
function p(i){if(i.lineItem){i.lineItem.forEach(function(N){if(N.value===i.annotationPath){i.lineItemQualifier=N.name;}});}if(i.tabs&&i.tabs.length&&i.selectedKey){i.viewName=i.tabs[i.selectedKey-1].value;i.isDefaultView=false;if(i.selectedKey===i.defaultViewSelected){i.isDefaultView=true;}}var q=i.sortOrder;i.sortOrder="descending";if(q&&q.toLowerCase()!=="descending"){i.sortOrder="ascending";}i.isExtendedList=false;if(i.listType==="extended"){i.isExtendedList=true;}i.isBarList=false;if(i.listFlavor==="bar"){i.isBarList=true;}i.hasKPIHeader=false;if(i.dataPointAnnotationPath){i.hasKPIHeader=true;}return i;}
function t(i){var q=i.entityType;this.aVariantNames.forEach(function(W){var X=[];for(var Y in q){if(q.hasOwnProperty(Y)&&Y.indexOf(W.sVariant)!==-1){if(W.sVariant===".LineItem"){var Z={name:f(q,Y),value:Y,fields:A.sortCollectionByImportance(q[Y])};X.push(Z);}else{X.push({name:f(q,Y),value:Y});}}}if(X.length!==0){i[W.sPath]=X;}});if(i.entityType&&i.entityType.property){i["modelProperties"]=i.entityType.property.map(function(W){return{name:W.name,value:W.name};});}if(!!i.tabs&&i.tabs.length){var N=false,T=i.tabs[i.tabs.length-1].value,U=T.split(' ');i.newViewCounter=o(U);i.defaultViewSelected=i.selectedKey;i.isViewResetEnabled=false;i.aViews=[{text:r&&r.getText("OVP_KEYUSER_LABEL_MAIN_VIEW"),key:0,isLaterAddedView:false,isViewResetEnabled:false}];N=i.tabs.some(function(W){return W.dataPointAnnotationPath;});i.tabs.forEach(function(W,X){var Y=W.value;if(N&&!W.dataPointAnnotationPath&&W.dataPoint&&W.dataPoint.length){W.dataPointAnnotationPath=W.dataPoint[0].value;}if(X+1===i.selectedKey){Y=W.value;if(r){Y+=" ("+r.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";}else{Y+=" (Default view)";}}i.aViews.push({text:Y,key:X+1,initialSelectedKey:X+1,isLaterAddedView:false,isViewResetEnabled:false});});}else if(h(i.template,"isViewSwitchSupportedCard")){i.newViewCounter=0;i.aViews=[{text:r.getText("OVP_KEYUSER_SHOWS_DIFFERENT_VIEWS"),key:0,initialSelectedKey:0,isLaterAddedView:false,isViewResetEnabled:false}];}return i;}
function u(q){var N=q.getData();sap.ushell.Container.getService("CrossApplicationNavigation").getLinks().done(function(T){var U=[],W={};for(var i=0;i<T.length;i++){U.push(T[i].intent);W[T[i].intent]=T[i].text;}sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(U).done(function(X){var T=[];for(var Y in X){if(X.hasOwnProperty(Y)&&X[Y].supported===true&&W&&W[Y]){T.push({name:W[Y],value:Y});}}var Z=N;if(T.length!==0||T.length!==0){Z["links"]=T;}q.refresh();}).fail(function(X){Q.sap.log.error(X);});}).fail(function(i){Q.sap.log.error(i);});}
function v(i){this.oResetButton.setEnabled(i);}
function w(i){this.oSaveButton.setEnabled(i);var q=this.oMessagePopOver.getModel(),N=q.getProperty("/Counter/Error");this.bError=(N>0);}
function x(i){var q=new RegExp("((http|https)(:\/\/))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(\/{1}[a-zA-Z0-9]+)*\/?","i");return q.test(i);}
function y(i,q){if(q==="targetUri"){return!x(i)&&(!!i||i==="");}else{return!(i.trim().length);}}
function z(q){var N=q.getParameter("path"),T="",U,i,W,X,Y,Z;var $=_();if(N==="/title"||N==="title"||N==="/viewName"||N==="targetUri"||N==="value"){var a1=q.getParameter("value"),b1=y(a1,N),c1,d1=q.getParameter("context");if(N==="/viewName"){c1=q.getSource().getProperty("/selectedKey");T=$&&$.getText("OVP_KEYUSER_INPUT_ERROR_VIEW_NAME");N="/tabs/"+(c1-1)+"/value";}if(N==="value"){T=$&&$.getText("OVP_KEYUSER_INPUT_ERROR_VIEW_NAME");N=d1.getPath()+"/"+N;}if(N.indexOf("/title")!==-1){T=$&&$.getText("OVP_KEYUSER_INPUT_ERROR");}if(d1&&d1.getPath().indexOf("staticContent")!==-1){U=d1.getPath().split("/");if(N==="title"){T=$.getText("OVP_KEYUSER_INPUT_ERROR_RECORD_TITLE")+(parseInt(U[U.length-1],10)+1);}else if(N==="targetUri"){T=$.getText("OVP_KEYUSER_INPUT_ERROR_RECORD_URL")+" "+(parseInt(U[U.length-1],10)+1);}N=d1.getPath()+"/"+N;}W=this.oMessagePopOver.getModel();X=W.getProperty("/Messages");Y=W.getProperty("/Counter/All");Z=W.getProperty("/Counter/Error");if(b1){w.bind(this)(true);for(i=0;i<X.length;i++){if(X[i].fieldName===N){X.splice(i,1);Y--;Z--;i--;}}X.push({"type":"Error","title":T,"fieldName":N,"counter":Z+1});Y++;Z++;}else{w.bind(this)(true);for(i=0;i<X.length;i++){if(X[i].fieldName===N){X.splice(i,1);Y--;Z--;i--;}}}W.setProperty("/Messages",X);W.setProperty("/Counter/All",Y);W.setProperty("/Counter/Error",Z);W.refresh(true);}else if(N==="/staticContent,title"||N==="/staticContent,targetUri"||N==="/tabs,value"){U=N.split(",");W=this.oMessagePopOver.getModel();X=W.getProperty("/Messages");Y=W.getProperty("/Counter/All");Z=W.getProperty("/Counter/Error");w.bind(this)(true);for(i=0;i<X.length;i++){if(X[i].fieldName.indexOf(U[0])!==-1&&X[i].fieldName.indexOf(U[1])!==-1){X.splice(i,1);Y--;Z--;i--;}}W.setProperty("/Messages",X);W.setProperty("/Counter/All",Y);W.setProperty("/Counter/Error",Z);W.refresh(true);}}
function C(){var i=this.oMessagePopOver.getModel();i.setProperty("/Messages",[]);i.setProperty("/Counter/All",0);i.setProperty("/Counter/Error",0);i.setProperty("/Counter/Success",0);i.setProperty("/Counter/Warning",0);i.setProperty("/Counter/Information",0);i.refresh(true);}
function E(){var i=new L({text:"Show more information",href:"",target:"_blank"});var q=new b({type:"{type}",title:"{title}",description:"{description}",subtitle:"{subtitle}",counter:"{counter}",fieldName:"{fieldName}",link:i});this.oMessagePopOver=new M({items:{path:"/Messages",template:q}});var N={"Counter":{"All":0,"Error":0,"Success":0,"Warning":0,"Information":0},"Messages":[]};var T=new J(N);this.oMessagePopOver.setModel(T);this.oMessagePopOverButton.setModel(T);}
function F(i,W){var q=i.byId("sapOvpSettingsForm");if(q){var N=q.getDomRef();if(N){N.style.width=W;}}}
function G(i){var q=this.dialogBox.getContent()[0],N=q.getModel(),T=q.getModel("deviceMediaProperties");switch(i.name){case"S":case"M":T.setProperty("/deviceMedia","Column");F(q,"100%");break;case"L":case"XL":default:T.setProperty("/deviceMedia","Row");F(q,"calc(100% - "+(N.getProperty("/dialogBoxWidth")+1)+"rem)");break;}T.refresh(true);}
function H(){a.media.detachHandler(G.bind(this),null,"SettingsViewRangeSet");a.media.removeRangeSet("SettingsViewRangeSet");}
function I(){a.media.initRangeSet("SettingsViewRangeSet",[520,760,960],"px",["S","M","L","XL"]);a.media.attachHandler(G.bind(this),null,"SettingsViewRangeSet");G.bind(this)(a.media.getCurrentRange("SettingsViewRangeSet"));}
var K={oOvpResourceBundle:_(),dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oMessagePopOverButton:undefined,oMessagePopOver:undefined,oAppDescriptor:undefined,oOriginalAppDescriptor:undefined,oMainComponent:undefined,sApplicationId:"",iContentHeightForDialog:38,iContentHeightForDialogWithViewSwitch:33,aVariantNames:S.aVariantNames,attachWindowResizeHandler:I,detachWindowResizeHandler:H,settingFormWidth:F,addManifestSettings:p,setVisibilityForFormElements:s,getVisibilityOfElement:m,enableResetButton:v,enableSaveButton:w,resetErrorHandling:C,getQualifier:g,oVisibility:S.oVisibility,bError:false,bNewStaticLinkListCardFlag:false,getDialogBox:function(i,N){return new Promise(function(T,U){if(!this.dialogBox){this.oSaveButton=new B("settingsSaveBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("save"),type:"Emphasized"});var W=new B("settingsCancelBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.oResetButton=new B("settingsResetBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("resetCardBtn")});this.oMessagePopOverButton=new B("settingsMessagePopOverBtn",{text:"{/Counter/All}",type:"Emphasized",icon:"sap-icon://message-popup",visible:"{= ${/Counter/All} === 0 ? false : true}"}).addStyleClass("sapOvpSettingsMessagePopOverBtn");this.dialogBox=new D("settingsDialog",{title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("settingsDialogTitle"),buttons:[this.oMessagePopOverButton,this.oSaveButton,W,this.oResetButton],afterClose:function(x1){var v1=this.dialogBox.getContent()[0],y1=v1.byId("sapOvpSettingsLineItemTitle"),z1=v1.byId("sapOvpSettingsLineItemSubTitle");if(y1){y1.destroy();}if(z1){z1.destroy();}this.dialogBox.destroyContent();this.detachWindowResizeHandler();}.bind(this)});this.dialogBox.setBusyIndicatorDelay(0);W.attachPress(function(x1){this.dialogBox.close();}.bind(this));}E.bind(this)();this.bNewStaticLinkListCardFlag=!!N;var X=i.getComponentInstance(),Y=X.getRootControl().getModel("ovpCardProperties"),Z=(N)?{"title":"New Title","subTitle":"New Subtitle","staticContent":[],"listFlavor":"standard","template":"sap.ovp.cards.linklist","layoutDetail":Y.getProperty("/layoutDetail")}:Y.getData(),$=Q.extend(true,{},Z);$=t.call(this,$);$=this.addManifestSettings($);var a1=new J($),b1=i.getDomRef().offsetHeight,c1=new J(a.system),d1=new J({"deviceMedia":"Row"}),e1=X.getComponentData(),f1=e1.mainComponent,g1=e1.appComponent,h1=(N)?"":e1.cardId;this.oAppDescriptor=f1._getCardFromManifest(h1);this.sApplicationId=f1._getApplicationId();this.oMainComponent=f1;this.oOriginalAppDescriptor=g1._getOvpCardOriginalConfig(h1);c1.setDefaultBindingMode("OneWay");$.dialogBoxHeight=b1;$.dialogBoxWidth=20;if($.template==="sap.ovp.cards.linklist"){a1.setProperty("/listFlavorName",this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_CAROUSEL"));}else{a1.setProperty("/listFlavorName",this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_BARLIST"));}if($.layoutDetail==="resizable"){if(!$.defaultSpan){$.defaultSpan={};a1.setProperty("/defaultSpan/cols",a1.getProperty("/cardLayout/colSpan"));a1.setProperty("/defaultSpan/rows",$.template==="sap.ovp.cards.list"||$.template==="sap.ovp.cards.table"?a1.getProperty("/cardLayout/noOfItems"):a1.getProperty("/cardLayout/rowSpan"));}else{if(!$.defaultSpan.rows){a1.setProperty("/defaultSpan/rows",$.template==="sap.ovp.cards.list"||$.template==="sap.ovp.cards.table"?a1.getProperty("/cardLayout/noOfItems"):a1.getProperty("/cardLayout/rowSpan"));}if(!$.defaultSpan.cols){a1.setProperty("/defaultSpan/cols",a1.getProperty("/cardLayout/colSpan"));}}$.NoOfColumns=[];var i1=1,j1=6;for(var q=i1;q<=j1;q++){$.NoOfColumns.push({value:q});}if(h($.template,'chart')||$.template==='sap.ovp.cards.linklist'){var k1=i.getComponentInstance().getComponentData().mainComponent,l1=k1.getLayout(),m1=l1.getDashboardLayoutUtil(),n1=f1._getCardId(i.getId()),o1=m1.calculateCardProperties(n1),p1=m1._getCardController(n1).getView().byId('bubbleText')?43:0,q1=o1.headerHeight+o1.dropDownHeight+p1+50,r1=Math.ceil(o1.minCardHeight/m1.getRowHeightPx())+1;$.NoOfRows=[];$.NoOfRows.push({name:"None",value:0});$.NoOfRows.push({name:"Small",value:r1});$.NoOfRows.push({name:"Standard",value:Math.ceil((q1+480)/m1.getRowHeightPx())+1});if(N){a1.setProperty("/defaultSpan/cols",1);a1.setProperty("/defaultSpan/rows",r1);}}}if($.template==="sap.ovp.cards.linklist"&&$.staticContent){var s1={};var t1=new J(s1);u(t1);n(a1);a1.setProperty("/lineItemId","linkListItem--1");a1.setProperty("/lineItemIdCounter",$.staticContent.length);}this.setVisibilityForFormElements($);var u1=new J(this.oVisibility);a1.attachPropertyChange(z.bind(this));var v1=new sap.ui.view("settingsView",{viewName:"sap.ovp.cards.rta.SettingsDialog",type:V.XML,preprocessors:{xml:{bindingContexts:{ovpCardProperties:a1.createBindingContext("/")},models:{ovpCardProperties:a1,deviceSystemProperties:c1}}}});if($.template==="sap.ovp.cards.linklist"&&$.staticContent){v1.setModel(t1,"staticCardProperties");}var w1=this.oOvpResourceBundle?new R({bundleUrl:this.oOvpResourceBundle.oUrlInfo.url}):null;v1.setModel(a1);v1.setModel(w1,"ovpResourceModel");v1.setModel(d1,"deviceMediaProperties");v1.setModel(u1,"visibility");this.dialogBox.addContent(v1);this.attachWindowResizeHandler();v1.loaded().then(function(x1){var y1=x1.byId("dialogCard");if(!y1.getVisible()){y1=x1.byId("dialogCardNoPreview");var z1=v1.getModel().getProperty("/template").split("."),A1=z1[z1.length-1],B1=this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_NO_CARD_PREVIEW_MSG",[A1]);y1.setText(B1);}else{y1.setWidth($.dialogBoxWidth+"rem");}c(i,x1,N);this.dialogBox.open();x1.getController().settingsResolve=T;}.bind(this));}.bind(this));}};
K.fnEditCardHandler=function(i,q){var N=i.getComponentInstance().getComponentData().mainComponent,T=N.getLayout(),U=N.getUIModel();return K.getDialogBox(i).then(function(W){var X=[{appComponent:i.getComponentInstance().getComponentData().appComponent,changeSpecificData:{appDescriptorChangeType:"appdescr_ovp_changeCard",content:W.appDescriptorChange}},{selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"editCardSettings",content:W.flexibilityChange}}];if(W.viewSwitchChange){X.push({selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{changeType:"viewSwitch",content:W.viewSwitchChange}});}if(U.getProperty('/containerLayout')==='resizable'){var Y=T.getDashboardLayoutModel(),Z=T.getDashboardLayoutUtil(),$=N._getCardId(i.getId()),a1=Y.getCardById($),b1=Z.calculateCardProperties($),c1=Y.getColCount(),d1='C'+c1,e1=W.flexibilityChange.newAppDescriptor.settings.defaultSpan,f1,g1=[];if(e1&&e1.cols){X.forEach(function(h1){if(h1.changeSpecificData.changeType==='editCardSettings'){var i1=h1.changeSpecificData.content.oldAppDescriptor;i1.settings.defaultSpan={rowSpan:a1.dashboardLayout.rowSpan,colSpan:a1.dashboardLayout.colSpan,showOnlyHeader:a1.dashboardLayout.showOnlyHeader};}});if(e1.rows===0){a1.dashboardLayout.autoSpan=false;f1=Math.ceil((b1.headerHeight+2*Z.CARD_BORDER_PX)/Z.getRowHeightPx());}else{a1.dashboardLayout.autoSpan=true;if(a1.template==='sap.ovp.cards.list'||a1.template==='sap.ovp.cards.table'){a1.dashboardLayout.noOfItems=e1.rows;}else{f1=e1.rows;}}Y._arrangeCards(a1,{row:f1,column:e1.cols},'resize',g1);Y._removeSpaceBeforeCard(g1);g1.forEach(function(h1){var i1={};i1.dashboardLayout={};i1.cardId=h1.content.cardId;i1.dashboardLayout[d1]=h1.content.dashboardLayout;X.push({selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{changeType:"dragOrResize",content:i1}});});}}return X;});};
K.fnCloneCardHandler=function(i,q){return P.getPayLoadForCloneCard(i).then(function(N){return[{appComponent:i.getComponentInstance().getComponentData().appComponent,changeSpecificData:{appDescriptorChangeType:"appdescr_ovp_addNewCard",content:N.appDescriptorChange}},{selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"newCardSettings",content:N.flexibilityChange}}];});};
K.fnAddStaticLinkListCardHandler=function(i,q){return K.getDialogBox(i,true).then(function(N){return[{appComponent:i.getComponentInstance().getComponentData().appComponent,changeSpecificData:{appDescriptorChangeType:"appdescr_ovp_addNewCard",content:N.appDescriptorChange}},{selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"newCardSettings",content:N.flexibilityChange}}];});};
return K;},true);
sap.ui.predefine('sap/ovp/cards/charts/OVPVizDataHandler',["sap/ui/core/Control","sap/ui/model/json/JSONModel","jquery.sap.global"],function(C,J,q){"use strict";return C.extend("sap.ovp.cards.charts.OVPVizDataHandler",{metadata:{aggregations:{data:{type:"sap.ui.core.Element"},aggregateData:{type:"sap.ui.core.Element"},content:{multiple:false}},properties:{chartType:{defaultValue:false},dependentDataReceived:{defaultValue:false},scale:{defaultValue:""},entitySet:{}}},renderer:function(r,c){r.write("<div");r.writeElementData(c);r.write(">");if(c.getContent()){r.renderControl(c.getContent());}r.write("</div>");},mergeDatasets:function(b,d,c){var t=this;var m=this.getModel();var p=b.mParameters;var D=q.extend(true,{},this.dataSet);var s=p.select.split(",");var e=b.getPath().substring(1);var a=-1;if(e){a=e.indexOf('Parameters');}if(a>=0){e=e.substr(0,e.indexOf('Parameters'));}var f=m.getMetaModel();var g=this.getEntitySet();var h=f.getODataEntitySet(g);var k=f.getODataEntityType(h.entityType);var l=[];var n=[];for(var i=0;i<k.property.length;i++){if(k.property[i]["com.sap.vocabularies.Analytics.v1.Measure"]||(k.property[i].hasOwnProperty("sap:aggregation-role")&&k.property[i]["sap:aggregation-role"]==="measure")){if(s.indexOf(k.property[i].name)!==-1){l.push(k.property[i].name);}}else{if(s.indexOf(k.property[i].name)!==-1){n.push(k.property[i].name);}}}if(D&&D.results){for(var i=0;i<D.results.length-2;i++){for(var j=0;j<l.length;j++){D.results[0][l[j]]=Number(D.results[0][l[j]])+Number(D.results[i+1][l[j]]);}}var o=D.__count-D.results.length;var r={};r.results=[];r.results[0]=D.results[0];var u;if(D.__count>D.results.length){var v=q.extend(true,{},this.aggregateSet);if(v&&v.results&&D.results.length<D.__count){q.each(l,function(i){v.results[0][l[i]]=String(Number(t.aggregateSet.results[0][l[i]])-Number(r.results[0][l[i]]));});q.each(n,function(i){v.results[0][n[i]]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS_DONUT",[o+1]);});v.results[0].$isOthers=true;u=v.results[0];if(u){d.results.splice(-1,1);}}}if(u){d.results.push(u);}}var M=new J();M.setData(d.results);c.setModel(M,"analyticalmodel");},updateBindingContext:function(){var b=this.getBinding("data");var a=this.getBinding("aggregateData");var t=this;if(this.chartBinding==b){return;}else{this.chartBinding=b;if(b){var t=this;b.attachEvent("dataReceived",function(e){t.dataSet=e&&e.getParameter("data");t.oDataClone=q.extend(true,{},t.dataSet);if(t.getChartType()=="donut"&&t.getBinding("aggregateData")!==undefined){if(t.getDependentDataReceived()===true||t.getDependentDataReceived()==="true"){t.mergeDatasets(b,t.oDataClone,t.getContent());t.setDependentDataReceived(false);}else{t.setDependentDataReceived(true);}}else{var m=new J();if(t.dataSet){m.setData(t.dataSet.results);}t.getContent().setModel(m,"analyticalmodel");}});}C.prototype.updateBindingContext.apply(this,arguments);}if(this.chartAggrBinding==a){return;}else{this.chartAggrBinding=a;if(a){var t=this;a.attachEvent("dataReceived",function(e){t.aggregateSet=e&&e.getParameter("data");if(t.getChartType()=="donut"){if(t.getDependentDataReceived()===true||t.getDependentDataReceived()==="true"){t.oDataClone=q.extend(true,{},t.dataSet);t.mergeDatasets(b,t.oDataClone,t.getContent());t.setDependentDataReceived(false);}else{t.setDependentDataReceived(true);}}else{var m=new J();m.setData(t.aggregateSet.results);t.getContent().setModel(m,"analyticalmodel");}});}C.prototype.updateBindingContext.apply(this,arguments);}}});});
sap.ui.predefine('sap/ovp/cards/charts/SmartAnnotationManager',["jquery.sap.global","sap/ovp/cards/charts/Utils","sap/ui/model/odata/CountMode","sap/ovp/cards/charts/VizAnnotationManager","sap/ovp/cards/AnnotationHelper","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/viz/ui5/api/env/Format","sap/viz/ui5/controls/VizTooltip"],function(q,U,C,V,a,N,D,b,c){"use strict";var e={LABEL_KEY:"sap:label",LABEL_KEY_V4:"com.sap.vocabularies.Common.v1.Label",TEXT_KEY:"sap:text",TEXT_KEY_V4:"com.sap.vocabularies.Common.v1.Text",TYPE_KEY:"type",DISPLAY_FORMAT_KEY:"sap:display-format",SEMANTICS_KEY:"sap:semantics",UNIT_KEY:"sap:unit",UNIT_KEY_V4_ISOCurrency:"Org.OData.Measures.V1.ISOCurrency",UNIT_KEY_V4_Unit:"Org.OData.Measures.V1.Unit",CURRENCY_CODE:"currency-code",NAME_KEY:"name",NAME_CAP_KEY:"Name",EDM_TYPE:"type",EDM_INT32:"Edm.Int32",SCATTER_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Scatter",BUBBLE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Bubble",LINE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Line"};var f={CARD_WARNING:"OVP-AC: Analytic card: Warning: ",CARD_ERROR:"OVP-AC: Analytic card Error: ",DATA_ANNO_ERROR:"OVP-AC: Analytic card Error:",CARD_ANNO_ERROR:"OVP-AC: Analytic card: Error ",CHART_ANNO_ERROR:"OVP-AC: Analytic card: Error ",INVALID_CHART_ANNO:"OVP-AC: Analytic Cards: Invalid Chart Annotation.",ANALYTICAL_CONFIG_ERROR:"Analytic card configuration error",CACHING_ERROR:"no model defined while caching OdataMetaData",INVALID_MAXITEMS:"maxItems is Invalid. ",NO_DATASET:"OVP-AC: Analytic Cards: Could not obtain dataset.",SORTORDER_WARNING:"SortOrder is present in PresentationVariant, but it is empty or not well formed.",BOOLEAN_ERROR:"Boolean value is not present in PresentationVariant.",IS_MANDATORY:"is mandatory.",IS_MISSING:"is missing.",NOT_WELL_FORMED:"is not found or not well formed)",MISSING_CHARTTYPE:"Missing ChartType in ",CHART_ANNO:"Chart Annotation.",DATA_ANNO:"Data Annotation",CARD_ANNO:"card annotation.",CARD_CONFIG:"card configuration.",CARD_CONFIG_ERROR:"Could not obtain configuration for ",CARD_CONTAINER_ERROR:"Could not obtain card container. ",DATA_UNAVAIALABLE:"No data available.",CONFIG_LOAD_ERROR:"Failed to load config.json. Reason: ",INVALID_CHARTTYPE:"Invalid ChartType given for ",INVALID_CONFIG:"No valid configuration given for ",CONFIG_JSON:"in config.json",ENTER_INTEGER:"Please enter an Integer.",NO_CARD_MODEL:"Could not obtain Cards model.",ANNO_REF:"com.sap.vocabularies.UI.v1 annotation.",INVALID_REDUNDANT:"Invalid/redundant role configured for ",CHART_IS:"chart is/are ",CARD_CONFIG_JSON:"card from config.json",ALLOWED_ROLES:"Allowed role(s) for ",DIMENSIONS_MANDATORY:"DimensionAttributes are mandatory.",MEASURES_MANDATORY:"MeasureAttributes are mandatory.",CARD_LEAST:"card: Enter at least ",CARD_MOST:"card: Enter at most ",FEEDS:"feed(s).",MIN_FEEDS:"Minimum number of feeds required for ",FEEDS_OBTAINED:"card is not configured. Obtained ",FEEDS_REQUIRED:"feed(s), Required: ",INVALID_SEMANTIC_MEASURES:"More than one measure is being semantically coloured",INVALID_IMPROVEMENT_DIR:"No Improvement Direction Found",INVALID_CRITICALITY:"Invalid criticality values",INVALID_DIMMEAS:"Invalid number of Measures or Dimensions",INVALID_FORECAST:"Invalid/Redundant Datapoint or Forecast measure",ERROR_MISSING_AXISSCALES:"Minimum and Maximum values are mandatory for AxisScale MinMax to work"};
function g(j,k,S,P,v,M,x){var O=j.getSetting("dataModel");var Q;if(x&&x.EnumMember){Q=x.EnumMember.split("/");if(Q&&(Q[1]!='Donut')&&(v===undefined)){return null;}if(Q){O.setDefaultCountMode(C.Inline);}}var R="{";var T=[];var W=[];var X=[];var Y=S&&S.SelectOptions;var Z=S&&S.Parameters;var $=P&&P.SortOrder;var _=P&&P.MaxItems,a1=null;var b1;var c1;var d1=null;var e1=e.TEXT_KEY;var f1=e.TEXT_KEY_V4;var g1=e.UNIT_KEY;var h1=e.UNIT_KEY_V4_ISOCurrency;var i1=e.UNIT_KEY_V4_Unit;if(_){a1=_.Int32?_.Int32:_.Int;}if(a1){if(a1=="0"){q.sap.log.error("OVP-AC: Analytic card Error: maxItems is configured as "+a1);R+="}";return R;}if(!/^\d+$/.test(a1)){q.sap.log.error("OVP-AC: Analytic card Error: maxItems is Invalid. "+"Please enter an Integer.");R+="}";return R;}}var j1,k1,l1,m1=o(),n1=j.getSetting('ovpCardProperties');if(v){for(var o1 in m1){if((j1=m1[o1].reference)&&m1[j1]){var p1=q.extend(true,{},m1[j1]);m1[o1]=p1;}if(m1[o1].default.type==Q[1].toLowerCase()||(m1[o1].time&&m1[o1].time.type==Q[1].toLowerCase())){k1=m1[o1];break;}}var q1=V.hasTimeSemantics(v,k1,O,d1);if(q1){k1=k1.time;}else{k1=k1.default;}l1=n1.getProperty('/dataStep');if(!l1){if(k1.resize&&k1.resize.hasOwnProperty('dataStep')){l1=k1.resize.dataStep;n1.setProperty('/dataStep',l1);}}}if(n1.getProperty('/layoutDetail')==='resizable'){var r1=n1.getProperty('/cardLayout/colSpan');a1=+a1+ +l1*(r1-1);}var s1=n1.getProperty('/parameters');Z=Z||!!s1;if(Z){var t1=a.resolveParameterizedEntitySet(O,k,S,s1);R+="path: '"+t1+"'";}else{R+="path: '/"+k.name+"'";}var u1=[];if(!j||!j.getSetting('ovpCardProperties')){q.sap.log.error(f.ANALYTICAL_CONFIG_ERROR);R+="}";return R;}d1=j.getSetting('ovpCardProperties').getProperty("/entitySet");if(!O||!d1){return R;}var v1=w(O,d1);b1=j.getSetting('ovpCardProperties').getProperty("/filters");if(Y){q.each(S.SelectOptions,function(){var d=this.PropertyName.PropertyPath;q.each(this.Ranges,function(){if(this.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"){var m=s(this.Low);var E1=this.High&&this.High.String;m=J(v1,d,m);var F1={path:d,operator:this.Option.EnumMember.split("/")[1],value1:m};if(E1){F1.value2=J(v1,d,E1);}u1.push(F1);}});});}if(b1&&b1.length>0){u1=u1.concat(b1);}if(u1.length>0){R+=", filters: "+JSON.stringify(u1);}if($){var w1=P.SortOrder;if(!w1.length){w1=U.getSortAnnotationCollection(O,P,k);}if(w1.length<1){q.sap.log.warning(f.CARD_WARNING+f.SORTORDER_WARNING);}else{var x1="";var y1;var z1;var A1;for(var i=0;i<w1.length;i++){y1=w1[i];A1=y1.Property.PropertyPath;X.push(A1);if(typeof y1.Descending=="undefined"){z1='true';}else{var B1=y1.Descending.Bool||y1.Descending.Boolean;if(!B1){q.sap.log.warning(f.CARD_WARNING+f.BOOLEAN_ERROR);z1='true';}else{z1=B1.toLowerCase()=='true'?'true':'false';}}x1=x1+"{path: '"+A1+"',descending: "+z1+"},";}R+=", sorter: ["+x1.substring(0,x1.length-1)+"]";}}var C1=j.getSetting("ovpCardProperties").getProperty("/entityType");q.each(M,function(i,m){c1=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=C1[m.DataPoint.AnnotationPath.substring(1)];if(d&&d.ForecastValue&&d.ForecastValue.PropertyPath){W.push(d.ForecastValue.PropertyPath);}if(d&&d.TargetValue&&d.TargetValue.PropertyPath){W.push(d.TargetValue.PropertyPath);}}W.push(c1);if(v1&&v1[c1]){if(v1[c1][f1]){if(v1[c1][f1].String&&c1!=v1[c1][f1].String){W.push(v1[c1][f1].String?v1[c1][f1].String:c1);}else if(v1[c1][f1].Path&&c1!=v1[c1][f1].Path){W.push(v1[c1][f1].Path?v1[c1][f1].Path:c1);}}else if(v1[c1][e1]&&c1!=v1[c1][e1]){W.push(v1[c1][e1]?v1[c1][e1]:c1);}}if(v1&&v1[c1]){var E1;if(v1[c1][h1]){E1=v1[c1][h1].Path?v1[c1][h1].Path:v1[c1][h1].String;}else if(v1[c1][i1]){E1=v1[c1][i1].Path?v1[c1][i1].Path:v1[c1][i1].String;}else if(v1[c1][g1]){E1=v1[c1][g1];}if(E1){if(q.inArray(E1,W)===-1){W.push(E1);}}}});q.each(v,function(i,d){c1=d.Dimension.PropertyPath;T.push(c1);if(v1&&v1[c1]){if(v1[c1][f1]){if(v1[c1][f1].String&&c1!=v1[c1][f1].String){T.push(v1[c1][f1].String?v1[c1][f1].String:c1);}else if(v1[c1][f1].Path&&c1!=v1[c1][f1].Path){T.push(v1[c1][f1].Path?v1[c1][f1].Path:c1);}}else if(v1[c1][e1]&&c1!=v1[c1][e1]){T.push(v1[c1][e1]?v1[c1][e1]:c1);}}});R+=", parameters: {select:'"+[].concat(T,W).join(",");if(X.length>0){R+=","+X.join(",");}R+="'";var D1=[];q.each(T,function(i,d){var m=d.indexOf("/");if(m>0){var E1=d.split("/");E1.splice(-1,1);E1=E1.join("/");D1.push(E1);}});if(D1.length>0){R+=", expand:'"+D1.join(",")+"'";}R+="}";if(Q&&(Q[1]==='Donut')&&(v===undefined)){R+=", length: 1";}else if(Q&&(Q[1]==='Donut')&&(v)&&a1){R+=", length: "+(parseInt(a1,10)+1);}else if(a1){R+=", length: "+a1;}R+="}";return R;}
g.requiresIContext=true;
function h(){var d={locale:function(){},format:function(v,i){var j="";if(i){j=i.split('/');}if(j.length>0){var m,k;if(j.length==3){m=Number(j[1]);k=Number(j[2]);if(isNaN(m)){m=-1;}if(isNaN(k)){k=0;}}else{m=2;k=0;}if(j[0]=="axisFormatter"||(j[0]=="ShortFloat")){var x;x=N.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(j[0]=="ShortFloat"){x=N.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});}if(m===-1){x=N.getFloatInstance({style:'short'});}return x.format(Number(v));}else if(j[0]==="tooltipNoScaleFormatter"){var M=N.getFloatInstance({style:'short',currencyCode:false,shortRefNumber:k,showScale:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){M=N.getCurrencyInstance({style:'short',currencyCode:false});}return M.format(Number(v));}else if(j[0]=="CURR"){var O=N.getCurrencyInstance({style:'short',currencyCode:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){O=N.getCurrencyInstance({style:'short',currencyCode:false});}return O.format(Number(v));}else if(j[0].search("%")!==-1){var P=N.getPercentInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(m===-1){P=N.getPercentInstance({style:'short',minFractionDigits:1,maxFractionDigits:1});}v=P.format(Number(v));return v;}}if(v.constructor===Date){var Q=D.getDateTimeInstance({pattern:i});if(i==="YearMonthDay"){Q=D.getDateInstance({style:"medium"});}v=Q.format(new Date(v));}return v;}};b.numericFormatter(d);}
function l(d,i,j,m,k,v){m=typeof m==="undefined"?false:m;var x=false;var M;if(!d&&m){q.sap.log.error(k+f.CARD_ERROR+j+f.IS_MANDATORY);return x;}if(!d){q.sap.log.warning(k+f.CARD_WARNING+j+f.IS_MISSING);x=true;return x;}M=i[d];if(!M||typeof M!=="object"){var O=m?q.sap.log.error:q.sap.log.warning;O(k+f.CARD_ERROR+"in "+j+". ("+d+" "+f.NOT_WELL_FORMED);return x;}if(v&&v=="sap.ovp.cards.charts.analytical.analyticalChart"&&j=="Chart Annotation"&&(!M.ChartType||!M.ChartType.EnumMember)){q.sap.log.error(k+f.CARD_ERROR+f.MISSING_CHARTTYPE+f.CHART_ANNO);return x;}x=true;return x;}
function n(d){var i=false;if(!d){return i;}var j;var k;var m;var v;var x;var P;var M;var O="";var Q;var R=d.getView();if(R){O="["+R.getId()+"] ";}if(!(Q=d.getCardPropertiesModel())){q.sap.log.error(O+f.CARD_ERROR+"in "+f.CARD_CONFIG+f.NO_CARD_MODEL);return i;}M=Q.getProperty("/entityType");if(!M||q.isEmptyObject(M)){q.sap.log.error(O+f.CARD_ERROR+"in "+f.CARD_ANNO);return i;}j=Q.getProperty("/selectionAnnotationPath");k=Q.getProperty("/chartAnnotationPath");v=Q.getProperty("/presentationAnnotationPath");x=Q.getProperty("/identificationAnnotationPath");P=Q.getProperty("/dataPointAnnotationPath");m=Q.getProperty("/contentFragment");i=l(j,M,"Selection Variant",false,O);i=l(k,M,"Chart Annotation",true,O,m)&&i;i=l(v,M,"Presentation Variant",false,O)&&i;i=l(x,M,"Identification Annotation",true,O)&&i;i=l(P,M,"Data Point",false,O)&&i;return i;}
function o(d){return U.getConfig(d);}
function p(d,j,k,m){var v=false;var M;var x;var O;var P;var Q;var R;if(!j.time||q.isEmptyObject(j.time)){return v;}if(!d){return v;}if(!d[0].Dimension||!(x=d[0].Dimension.PropertyPath)){return v;}M=w(k,m);for(var i=0;i<d.length;i++){if(d[i]&&d[i].Dimension&&d[i].Dimension.PropertyPath){x=d[i].Dimension.PropertyPath;}if(M&&M[x]){O=M[x][e.TYPE_KEY];P=M[x][e.DISPLAY_FORMAT_KEY];Q=M[x][e.SEMANTICS_KEY];R=M[x]["com.sap.vocabularies.Common.v1.IsCalendarYear"];}if(O&&P&&O.lastIndexOf("Edm.Date",0)===0&&P.toLowerCase()=="date"){v=true;return v;}if(O=="Edm.String"&&(R||Q&&Q.lastIndexOf("year",0)===0)){v=true;return v;}}return v;}
function r(i,d,j){var k="";var m=o(d);var v,x;if(!m){return k;}k=m.default.type;v=i.getSetting("dataModel");x=i.getSetting('ovpCardProperties').getProperty("/entitySet");if(p(j,m,v,x)){k=m.time.type;}return k;}
r.requiresIContext=true;
function s(v){var d;if(v){if(v.String){d=v.String;}else if(v.Boolean||v.Bool){d=t(v);}else{d=u(v);}}return d;}
function t(v,d){if(v&&v.Boolean){if(v.Boolean.toLowerCase()==="true"){return true;}else if(v.Boolean.toLowerCase()==="false"){return false;}}else if(v&&v.Bool){if(v.Bool.toLowerCase()==="true"){return true;}else if(v.Bool.toLowerCase()==="false"){return false;}}return d;}
function u(v){var d;if(v){if(v.String){d=Number(v.String);}else if(v.Int){d=Number(v.Int);}else if(v.Decimal){d=Number(v.Decimal);}else if(v.Double){d=Number(v.Double);}else if(v.Single){d=Number(v.Single);}}return d;}
function w(m,d){var i=U.cacheODataMetadata(m);if(!i){return undefined;}return i[d];}
function y(v,d){v.attachSelectData(function(m){var M=v.getModel('ovpCardProperties');var O=v.getModel();var P=M.getProperty("/entitySet");var Q=w(O,P);var R=[],S=[];var T={},W={};var X=v.getDataset().getDimensions();var Y;for(var i=0;i<X.length;i++){R.push(X[i].getIdentity());}var Z=q.map(v.getDataset()._getDataContexts(),function(x){return x.getObject();});if(m.getParameter("data")&&m.getParameter("data")[0]&&m.getParameter("data")[0].data){Y=m.getParameter("data")[0].data._context_row_number;if(Z[Y].$isOthers&&Z[Y].$isOthers==true){var $={$isOthers:true};var _={getObject:function(){return $;}};d.doNavigation(_);}else{S=Object.keys(m.getParameter("data")[0].data);for(var j=0;j<R.length;j++){for(var k=0;k<S.length;k++){if(R[j]==S[k]){T[R[j]]=Z[Y][R[j]];}for(var a1 in Z[Y]){if(Q.hasOwnProperty(a1)){W[a1]=Z[Y][a1];}}}}var _={getObject:function(){return T;},getAllData:function(){return W;}};d.doNavigation(_);}}});}
function z(d){if(d.EnumMember.endsWith("Bubble")){return true;}else{return false;}}
function A(d){var i=false;if(!d||d.constructor!=Array||d.length<1||d[0].constructor!=Object||!d[0].Dimension||!d[0].Dimension.PropertyPath){q.sap.log.error(f.CHART_ANNO_ERROR+"in "+f.CHART_ANNO+" "+f.DIMENSIONS_MANDATORY);return i;}i=true;return i;}
function B(m){var d=false;if(!m||m.constructor!=Array||m.length<1||m[0].constructor!=Object||!m[0].Measure||!m[0].Measure.PropertyPath){q.sap.log.error(f.CHART_ANNO_ERROR+"in "+f.CHART_ANNO+" "+f.MEASURES_MANDATORY);return d;}d=true;return d;}
function E(d){return d.name;}
function F(d){if(d&&d.indexOf("#")!=-1){var i=d.split("#");if(i.length>1){return i[1];}}return"";}
function G(d,k,m){function v(P1,Q1,R1){var S1=Q1.split('.');var d1=S1.pop();var T1=S1.reduce(function(U1,V1){if(U1[V1]===undefined){U1[V1]={};}return U1[V1];},P1);if(R1){T1[d1]=R1;}return T1[d1];}var x,M,O,P;var Q,R,S,T,W,X,Y;var Z;var $;var _;var a1=[],b1=[];var c1=d.getChart();Q=c1.getChartType();R=o();for(var d1 in R){if(($=R[d1].reference)&&R[$]){var e1=q.extend(true,{},R[$]);R[d1]=e1;}if(R[d1].default.type==Q||(R[d1].time&&R[d1].time.type==Q)){S=R[d1];break;}}if(!S){q.sap.log.error(f.CARD_ERROR+"in "+f.CARD_CONFIG+f.CARD_CONFIG_ERROR+Q+" "+f.CARD_CONFIG_JSON);return;}if(!(x=d.getModel('ovpCardProperties'))){q.sap.log.error(f.CARD_ERROR+"in "+f.CARD_CONFIG+f.NO_CARD_MODEL);return;}var f1=d.getModel();var g1=x.getProperty("/entitySet");if(!f1||!g1){return;}M=x.getProperty("/entityType");if(!M){q.sap.log.error(f.CARD_ANNO_ERROR+"in "+f.CARD_ANNO);return;}var h1=w(f1,g1);O=x.getProperty("/chartAnnotationPath");if(!O||!(P=M[O])){q.sap.log.error(f.CARD_ANNO_ERROR+"in "+f.CARD_ANNO);return;}if(!(T=P.DimensionAttributes)||!T.length){q.sap.log.error(f.CHART_ANNO_ERROR+"in "+f.CHART_ANNO+" "+f.DIMENSIONS_MANDATORY);return;}var i1;if(!(W=P.MeasureAttributes)||!W.length){q.sap.log.error(f.CHART_ANNO_ERROR+"in "+f.CHART_ANNO+" "+f.MEASURES_MANDATORY);return;}else{var j1=W[0].DataPoint?M[W[0].DataPoint.AnnotationPath.substring(1)]:null;var k1=j1&&j1.NumberFormat&&j1.NumberFormat.NumberOfFractionalDigits&&j1.NumberFormat.NumberOfFractionalDigits.Int;i1=k1?k1:0;}Y=T.slice();X=W.slice();var l1,m1;for(var i=0;i<Y.length;i++){var n1=Y[i];if(n1&&n1.Dimension&&n1.Dimension.PropertyPath){l1=n1.Dimension.PropertyPath;if(h1&&h1[l1]){if(h1[l1][e.LABEL_KEY_V4]){m1=h1[l1][e.LABEL_KEY_V4].String?h1[l1][e.LABEL_KEY_V4].String:h1[l1][e.LABEL_KEY_V4].Path;}else if(h1[l1][e.LABEL_KEY]){m1=h1[l1][e.LABEL_KEY];}else if(l1){m1=l1;}b1.push(m1);}}}for(var j=0;j<X.length;j++){var o1=X[j];if(o1&&o1.Measure&&o1.Measure.PropertyPath){l1=o1.Measure.PropertyPath;if(h1&&h1[l1]){if(h1[l1][e.LABEL_KEY_V4]){m1=h1[l1][e.LABEL_KEY_V4].String?h1[l1][e.LABEL_KEY_V4].String:h1[l1][e.LABEL_KEY_V4].Path;}else if(h1[l1][e.LABEL_KEY]){m1=h1[l1][e.LABEL_KEY];}else if(l1){m1=l1;}a1.push(m1);}}}Z=p(T,S,f1,g1);if(Z){S=S.time;}else{S=S.default;}var p1=false;var q1=i1>0?"tooltipNoScaleFormatter/"+i1.toString()+"/":'tooltipNoScaleFormatter/-1/';var r1=new c({formatString:q1});r1.connect(c1.getVizUid());if(c1){var s1=c1.getVizProperties();var t1=true;if(S.properties&&S.properties.hasOwnProperty("hideLabel")&&!S.properties["hideLabel"]){t1=false;}var u1=false;if(Q=='donut'){u1=true;}if(s1&&s1.plotArea&&s1.plotArea.dataLabel&&s1.plotArea.dataLabel.visible){s1.plotArea.dataLabel.visible=u1;}s1.title.visible=t1?false:true;_={legend:{isScrollable:false},valueAxis:{title:{visible:t1?false:true},label:{formatString:s1.valueAxis.label.formatString+(i1?"/"+i1+"/":"")}},categoryAxis:{title:{visible:t1?false:true}},plotArea:{window:{start:'firstDataPoint',end:'lastDataPoint'},dataLabel:{visible:u1,type:'value'}},interaction:{selectability:{legendSelection:false,axisLabelSelection:false,mode:'EXCLUSIVE',plotLassoSelection:false,plotStdSelection:true},zoom:{enablement:'disabled'}}};var v1=x.getProperty("/colorPalette");var w1;if(P.ChartType.EnumMember===V.constants.COLUMNSTACKED_CHARTTYPE&&v1&&v1.length===4){q.each(T,function(i,P1){if(P1&&P1.Role&&P1.Role.EnumMember=="com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series"){w1=P1.Dimension&&P1.Dimension.PropertyPath;return;}});var x1;if(w1){var y1=d.getChart();if(w1&&!m.bSorterSetForCustomCharts){var z1=y1.getBinding("data");if(z1){z1.sort([new sap.ui.model.Sorter(w1,true)]);m.bSorterSetForCustomCharts=true;}}if(h1&&h1[w1]){if(h1[w1][e.LABEL_KEY_V4]){x1=h1[w1][e.LABEL_KEY_V4].String?h1[w1][e.LABEL_KEY_V4].String:h1[w1][e.LABEL_KEY_V4].Path;}else if(h1[w1][e.LABEL_KEY]){x1=h1[w1][e.LABEL_KEY];}else if(w1){x1=w1;}}var A1=v1.map(function(P1){return P1.color;});var B1=v1.map(function(P1){return P1.legendText;});var C1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");var D1=B1[0]!=undefined?B1[0]:C1.getText("OTHERS");var E1=B1[1]!=undefined?B1[1]:C1.getText("BAD");var F1=B1[2]!=undefined?B1[2]:C1.getText("CRITICAL");var G1=B1[3]!=undefined?B1[3]:C1.getText("GOOD");_.plotArea.dataPointStyle={rules:[{callback:function(m){if((m&&(m[x1]==="3"||m[x1]===3))||(m&&(m[w1]==="3"||m[w1]===3))){return true;}},properties:{color:A1[3]},"displayName":G1},{callback:function(m){if((m&&(m[x1]==="2"||m[x1]===2))||(m&&(m[w1]==="2"||m[w1]===2))){return true;}},properties:{color:A1[2]},"displayName":F1},{callback:function(m){if((m&&(m[x1]==="1"||m[x1]===1))||(m&&(m[w1]==="1"||m[w1]===1))){return true;}},properties:{color:A1[1]},"displayName":E1},{callback:function(m){if((m&&(m[x1]==="0"||m[x1]===0))||(m&&(m[w1]==="0"||m[w1]===0))){return true;}},properties:{color:A1[0]},"displayName":D1}]};}}if(P.ChartType.EnumMember===e.SCATTER_CHARTTYPE||P.ChartType.EnumMember===e.BUBBLE_CHARTTYPE||P.ChartType.EnumMember===e.LINE_CHARTTYPE){if(P&&P.AxisScaling&&P.AxisScaling.EnumMember){var H1=P.AxisScaling.EnumMember.substring(P.AxisScaling.EnumMember.lastIndexOf('/')+1,P.AxisScaling.EnumMember.length);switch(H1){case"AdjustToDataIncluding0":_.plotArea.adjustScale=false;break;case"AdjustToData":_.plotArea.adjustScale=true;break;case"MinMaxValues":var I1=[];if(P["MeasureAttributes"][0]&&P["MeasureAttributes"][0].DataPoint&&P["MeasureAttributes"][0].DataPoint.AnnotationPath){var J1=P["MeasureAttributes"][0].DataPoint.AnnotationPath;var K1=J1.substring(J1.lastIndexOf('@')+1,J1.length);if(M&&M[K1]){var L1=M[K1];if(L1&&L1.MaximumValue&&L1.MaximumValue.Decimal&&L1.MinimumValue&&L1.MinimumValue.Decimal){I1.push({feed:"valueAxis",max:L1.MaximumValue.Decimal,min:L1.MinimumValue.Decimal});}else{q.sap.log.error(f.ERROR_MISSING_AXISSCALES);}}}if(P.ChartType.EnumMember!==e.LINE_CHARTTYPE&&P["MeasureAttributes"][1]&&P["MeasureAttributes"][1].DataPoint&&P["MeasureAttributes"][1].DataPoint.AnnotationPath){var J1=P["MeasureAttributes"][1].DataPoint.AnnotationPath;var K1=J1.substring(J1.lastIndexOf('@')+1,J1.length);if(M&&M[K1]){var L1=M[K1];if(L1&&L1.MaximumValue&&L1.MaximumValue.Decimal&&L1.MinimumValue&&L1.MinimumValue.Decimal){I1.push({feed:"valueAxis2",max:L1.MaximumValue.Decimal,min:L1.MinimumValue.Decimal});}else{q.sap.log.error(f.ERROR_MISSING_AXISSCALES);}}}c1.setVizScales(I1);break;default:break;}}}var M1=x.getProperty('/ChartProperties');if(S.hasOwnProperty('vizProperties')){var N1=S.vizProperties;for(var i=0;i<N1.length;i++){if(M1&&N1[i].hasOwnProperty('path')){var O1=v(M1,N1[i].path);if(undefined!==O1){v(_,N1[i].path,O1);}}}}c1.setVizProperties(_);}[S.dimensions,S.measures].forEach(function(P1,i){var Q1=i?W:T;var R1=i?"measure(s)":"dimension(s)";if(P1.min&&Q1.length<P1.min){q.sap.log.error(f.CARD_ERROR+"in "+Q+" "+f.CARD_LEAST+P1.min+" "+R1);p1=true;}if(P1.max&&Q1.length>P1.max){q.sap.log.error(f.CARD_ERROR+"in "+Q+f.CARD_MOST+P1.max+" "+R1);p1=true;}});if(p1){return;}H(a1,b1,k);if(d){if(d._headerText){d._headerText.setTooltip(d.getHeader());d._headerText.addStyleClass("ovpChartTitle");}}}
function H(m,d,j){var k="",v="",x="";if(j){k=j.getText();}if(m&&(m.length>1)){for(var i=0;i<m.length-1;i++){if(v!=""){v+=", ";}v+=m[i];}v=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[v,m[i]]);}else if(m){v=m[0];}if(d&&(d.length>1)){for(var i=0;i<d.length-1;i++){if(x!=""){x+=", ";}x+=d[i];}x=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[x,d[i]]);}else if(d){x=d[0];}if(j&&(k=="")){k=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("NO_CHART_TITLE",[v,x]);j.setText(k);j.data("aria-label",k,true);}}
function I(m,M){var d;q.each(M,function(i,v){if(v.name==m){if(v["com.sap.vocabularies.Common.v1.Label"]){d=v["com.sap.vocabularies.Common.v1.Label"].String?v["com.sap.vocabularies.Common.v1.Label"].String:v["com.sap.vocabularies.Common.v1.Label"].Path;}else if(v["sap:label"]){d=v["sap:label"];}return false;}});return d;}
function J(m,P,v){var d=e.TYPE_KEY;if(!m||!m[P]||!m[P][d]){return v;}var i=["Edm.Int","Edmt.Int16","Edm.Int32","Edm.Int64","Edm.Decimal"];var j=m[P][d];if(q.inArray(j,i)!==-1){return Number(v);}return v;}
function K(S){var d=S.getModel('ovpCardProperties'),i=d.getProperty("/entityType"),j=d.getProperty("/presentationAnnotationPath"),k=i.hasOwnProperty(j)&&i[j],m=k&&k.MaxItems;if(m){return{itemsLength:+(m.Int32?m.Int32:m.Int),dataStep:+d.getProperty("/dataStep")};}}
function L(S,d){S.attachDataReceived(function(j){var k=d.getView().byId("ovpCT1");var m=S._getVizFrame();var x=d.getView().byId("bubbleText");var M=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");if(m){if(x!=undefined){var O=m.getFeeds();q.each(O,function(i,v){if(O[i].getUid()=="bubbleWidth"){var P=d.getEntitySet()&&d.getEntitySet().name;var Q=m.getModel();var R=w(Q,P);var T=O[i].getValues()&&O[i].getValues()[0]&&O[i].getValues()[0].getName();var W=I(T,R);x.setText(M+" "+W);}});}}if(!d.isVizPropSet){G(S,k,d);d.isVizPropSet=true;}});}
return{getSapLabel:I,buildSmartAttributes:G,errorMessages:f,formatItems:g,formatChartAxes:h,checkExists:l,validateCardConfiguration:n,getConfig:o,hasTimeSemantics:p,getChartType:r,getPrimitiveValue:s,getMetadata:w,getSelectedDataPoint:y,checkBubbleChart:z,dimensionAttrCheck:A,measureAttrCheck:B,getEntitySet:E,getAnnotationQualifier:F,formatByType:J,getMaxItems:K,attachDataReceived:L};},true);
sap.ui.predefine('sap/ovp/cards/charts/Utils',["jquery.sap.global"],function(q){"use strict";var u={};var c={CHART_QUALIFIER_KEY:"chartAnnotationPath",SELVAR_QUALIFIER_KEY:"selectionAnnotationPath",PREVAR_QUALIFIER_KEY:"presentationAnnotationPath",ERROR_NO_CHART:"Analytic cards require valid \"chartAnnotationPath\" "+"configured in manifest.json",LABEL_KEY:"sap:label",TEXT_KEY:"sap:text",TYPE_KEY:"type"};var e={CONFIG_LOAD_ERROR:"Failed to load config.json. Reason: ",CARD_ERROR:"OVP-AC: Analytic card Error: ",INVALID_CHARTTYPE:"Invalid ChartType given for ",ANNO_REF:"com.sap.vocabularies.UI.v1 annotation.",INVALID_CONFIG:"No valid configuration given for ",CONFIG_JSON:"in config.json",CACHING_ERROR:"no model defined while caching OdataMetaData"};
function g(C,d){if(!d){return"";}var s=C.getSetting('ovpCardProperties');if(!s){return"";}var S=s.oData;if(!S){return"";}var i=S&&S[d]?S[d]:"";return i===""?"":i.split("#")[1];}
u.getAllColumnTexts=function(d){return a("sap:text",d);};
u.formDimensionPath=function(d){var r="{"+d+"}";var i=this.getModel('ovpCardProperties').getProperty("/entityType");if(!i){return r;}var j=f(i);if(!j||!j[d]){return r;}var t=j[d];if(t=="Edm.DateTime"){return"{path:'"+d+"', formatter: 'sap.ovp.cards.charts.VizAnnotationManager.returnDateFormat'}";}var k=u.getAllColumnTexts(i);if(!k){return r;}r="{"+(k[d]||d)+"}";return r;};
function a(p,d){var j={};var k=d.property;for(var i=0,l=k.length;i<l;i++){if(k[i].hasOwnProperty(p)&&p=="com.sap.vocabularies.Common.v1.Label"){j[k[i].name]=k[i][p].String;}else if(k[i].hasOwnProperty(p)){j[k[i].name]=k[i][p];}else{j[k[i].name]=k[i].name;}}return j;}
function b(d){return a("com.sap.vocabularies.Common.v1.Label",d);}
function f(d){return a("type",d);}
var h={};u.LineChart=(function(){function j(C,o,p){var r=k(C,p).split(",");var s=l(C,o).split(",");var v=[];q.each(r,function(i,m){v.push(m);});var w=[];q.each(s,function(i,d){w.push(d);});var D=true;var N=C.getSetting("ovpCardProperties").getProperty("/navigation");if(N=="chartNav"){D=false;}var D=D?false:true;return"{ valueAxis:{  layout: { maxWidth : 0.4 }, title:{   visible:false,   text: '"+v.join(",")+"'  },  label:{   formatString:'axisFormatter'  } }, categoryAxis:{  title:{   visible:false,   text: '"+w.join(",")+"'  },  label:{   formatString:'axisFormatter'  } }, legend: {  isScrollable: false }, title: {  visible: false }, general: { groupData: false }, interaction:{  noninteractiveMode: "+D+",  selectability: {   legendSelection: false,   axisLabelSelection: false,   mode: 'EXCLUSIVE',   plotLassoSelection: false,   plotStdSelection: true  }, zoom:{   enablement: 'disabled'} } }";}j.requiresIContext=true;function k(C,d){var o=C.getSetting('ovpCardProperties').getProperty("/entityType");if(!o){return"";}var p=b(o);var r=[];q.each(d,function(i,m){r.push(p[m.Measure.PropertyPath]||m.Measure.PropertyPath);});return r.join(",");}k.requiresIContext=true;function l(C,m){var o=C.getSetting('ovpCardProperties').getProperty("/entityType");if(!o){return"";}var p=b(o);var r=[];var s;var v;q.each(m,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Category"){v=p[d.Dimension.PropertyPath];r.push(v?v:d.Dimension.PropertyPath);}});if(r.length<1){v=p[m[0].Dimension.PropertyPath];r.push(v?v:m[0].Dimension.PropertyPath);}s=g(C,c.CHART_QUALIFIER_KEY);h[s]=r;return r.join(",");}l.requiresIContext=true;function n(C,m){var r=[];var o;var p=C.getSetting('ovpCardProperties').getProperty("/entityType");if(!p){return"";}var s=b(p);var v;q.each(m,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Series"){v=s[d.Dimension.PropertyPath];r.push(v?v:d.Dimension.PropertyPath);}});o=g(C,c.CHART_QUALIFIER_KEY);r=q.grep(r,function(d){if(!h[o]){return true;}return d!==h[o][0];});return r.join(",");}n.requiresIContext=true;function t(C,d){return n(C,d)!=="";}t.requiresIContext=true;return{getVizProperties:j,getValueAxisFeed:k,getCategoryAxisFeed:l,getColorFeed:n,testColorFeed:t};})();u.BubbleChart=(function(){function j(C,d,v){var w=l(C,v).split(",");var x=n(C,v).split(",");var y=[];q.each(w,function(i,m){y.push(m);});var z=[];q.each(x,function(i,m){z.push(m);});var D=true;var N=C.getSetting("ovpCardProperties").getProperty("/navigation");if(N=="chartNav"){D=false;}var D=D?false:true;return"{ valueAxis:{  layout: { maxWidth : 0.4 }, title:{ visible:true, text: '"+y.join(",")+"'  },  label:{ formatString:'axisFormatter'  } }, valueAxis2:{  title:{ visible:true, text: '"+z.join(",")+"'  },  label:{ formatString:'axisFormatter'  } }, categoryAxis:{  title:{ visible:true  },  label:{ formatString:'axisFormatter'  } }, legend: {  isScrollable: false }, title: {  visible: false }, interaction:{  noninteractiveMode: "+D+",  selectability: { legendSelection: false, axisLabelSelection: false, mode: 'EXCLUSIVE', plotLassoSelection: false, plotStdSelection: true  }, zoom:{   enablement: 'disabled'} } }";}j.requiresIContext=true;function k(C,d){var v;if(!C||!C.getSetting||!(v=C.getSetting('ovpCardProperties'))){return[""];}var w=v.getProperty("/entityType");if(!w){return[""];}var x=b(w);var y=[null,null,null];q.each(d,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis1"){if(y[0]===null){y[0]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[1]===null){y[1]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[2]==null){y[2]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});q.each(d,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis2"){if(y[0]===null){y[0]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[1]===null){y[1]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[2]==null){y[2]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});q.each(d,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis3"){if(y[0]===null){y[0]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[1]===null){y[1]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(y[2]==null){y[2]=x[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});return y;}k.requiresIContext=true;function l(C,m){return k(C,m)[0];}l.requiresIContext=true;function n(C,m){return k(C,m)[1];}n.requiresIContext=true;function o(C,m){return k(C,m)[2];}o.requiresIContext=true;function p(C,m){var v=C.getSetting('ovpCardProperties').getProperty("/entityType");if(!v){return"";}var w=b(v);var x=[];var y;q.each(m,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Series"){y=w[d.Dimension.PropertyPath];x.push(y?y:d.Dimension.PropertyPath);}});return x.join(",");}p.requiresIContext=true;function r(C,m){var v=C.getSetting('ovpCardProperties').getProperty("/entityType");if(!v){return"";}var w=b(v);var x=[];var y;q.each(m,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Category"){y=w[d.Dimension.PropertyPath];x.push(y?y:d.Dimension.PropertyPath);}});return x.join(",");}r.requiresIContext=true;function t(C,d){return p(C,d)!=="";}t.requiresIContext=true;function s(C,d){return r(C,d)!=="";}s.requiresIContext=true;return{getVizProperties:j,getMeasurePriorityList:k,getValueAxisFeed:l,getValueAxis2Feed:n,getBubbleWidthFeed:o,getColorFeed:p,getShapeFeed:r,testColorFeed:t,testShapeFeed:s};})();
u.validateMeasuresDimensions=function(v,t){var m=null;var d=null;if(!v.getDataset()){q.sap.log.error("OVP-AC: "+t+" Card Error: No Dataset defined for chart.");return false;}m=v.getDataset().getMeasures();d=v.getDataset().getDimensions();switch(t){case"Bubble":if(m.length!==3||d.length<1||!m[0].getName()||!m[1].getName()||!m[2].getName()||!d[0].getName()){q.sap.log.error("OVP-AC: Bubble Card Error: Enter exactly 3 measures and at least 1 dimension.");return false;}break;case"Donut":if(m.length!==1||d.length!==1||!m[0].getName()||!d[0].getName()){q.sap.log.error("OVP-AC: Donut Card Error: Enter exactly 1 measure and 1 dimension.");return false;}break;case"Line":if(m.length<1||d.length<1||!m[0].getName()||!d[0].getName()){q.sap.log.error("OVP-AC: Line Card Error: Configure at least 1 dimensions and 1 measure.");return false;}break;}return true;};
u.getSortAnnotationCollection=function(d,p,i){if(p&&p.SortOrder&&p.SortOrder.Path&&p.SortOrder.Path.indexOf('@')>=0){var s=p.SortOrder.Path.split('@')[1];var A=d.getServiceAnnotations()[i.entityType];return A[s];}return p.SortOrder;};
u.oFullConfig=null;
u.getConfig=function(C){if(!this.oFullConfig){try{this.oFullConfig=q.sap.loadResource({url:q.sap.getModulePath("sap.ovp.cards.charts")+"/config.json",dataType:"json",async:false});}catch(d){q.sap.log.error(e.CONFIG_LOAD_ERROR+d);}}if(!C){return this.oFullConfig;}var s;try{s=C.EnumMember.split("/")[1];}catch(d){q.sap.log.error(e.CARD_ERROR+e.INVALID_CHARTTYPE+e.ANNO_REF);return{};}if(!this.oFullConfig[s]){q.sap.log.error(e.INVALID_CONFIG+s+" "+e.CONFIG_JSON);return{};}var r;if((r=this.oFullConfig[s].reference)&&this.oFullConfig[r]){var v=q.extend(true,{},this.oFullConfig[r]);this.oFullConfig[s]=v;}return this.oFullConfig[s];};
u.oCachedMetaModel={};
u.cacheODataMetadata=function(m){if(!m){q.sap.log.error(e.CARD_ERROR+e.CACHING_ERROR);return;}var E=this.oCachedMetaModel[m.getId()];if(!E){E={};var M=m.getMetaModel();var o=M&&M.getODataEntityContainer();var d,p;q.each(o.entitySet,function(n,i){d=M.getODataEntityType(i.entityType);p={};q.each(d.property,function(j,P){p[P.name]=P;});E[i.name]=p;});this.oCachedMetaModel[m.getId()]=E;}return E;};
return u;},true);
sap.ui.predefine('sap/ovp/cards/charts/VizAnnotationManager',["jquery.sap.global","sap/ovp/cards/charts/Utils","sap/ui/model/odata/CountMode","sap/ovp/cards/AnnotationHelper","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/viz/ui5/api/env/Format","sap/viz/ui5/controls/VizTooltip","sap/ovp/cards/CommonUtils","sap/ovp/cards/OVPCardAsAPIUtils","sap/viz/ui5/data/DimensionDefinition","sap/viz/ui5/data/MeasureDefinition","sap/viz/ui5/controls/common/feeds/FeedItem","sap/ui/core/Element"],function(q,U,C,a,N,D,V,b,c,O,e,M,F,g){"use strict";var h={LABEL_KEY:"sap:label",LABEL_KEY_V4:"com.sap.vocabularies.Common.v1.Label",TEXT_KEY:"sap:text",TEXT_KEY_V4:"com.sap.vocabularies.Common.v1.Text",TEXT_ARRANGEMENT_ANNO:"com.sap.vocabularies.UI.v1.TextArrangement",TYPE_KEY:"type",DISPLAY_FORMAT_KEY:"sap:display-format",SEMANTICS_KEY:"sap:semantics",UNIT_KEY:"sap:unit",UNIT_KEY_V4_ISOCurrency:"Org.OData.Measures.V1.ISOCurrency",UNIT_KEY_V4_Unit:"Org.OData.Measures.V1.Unit",CURRENCY_CODE:"currency-code",NAME_KEY:"name",NAME_CAP_KEY:"Name",EDM_TYPE:"type",EDM_INT32:"Edm.Int32",SCATTER_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Scatter",BUBBLE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Bubble",LINE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Line",COLUMNSTACKED_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked",DONUT_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Donut"};var l={CARD_WARNING:"OVP-AC: Analytic card: Warning: ",CARD_ERROR:"OVP-AC: Analytic card Error: ",DATA_ANNO_ERROR:"OVP-AC: Analytic card Error:",CARD_ANNO_ERROR:"OVP-AC: Analytic card: Error ",CHART_ANNO_ERROR:"OVP-AC: Analytic card: Error ",INVALID_CHART_ANNO:"OVP-AC: Analytic Cards: Invalid Chart Annotation.",ANALYTICAL_CONFIG_ERROR:"Analytic card configuration error",CACHING_ERROR:"no model defined while caching OdataMetaData",INVALID_MAXITEMS:"maxItems is Invalid. ",NO_DATASET:"OVP-AC: Analytic Cards: Could not obtain dataset.",SORTORDER_WARNING:"SortOrder is present in PresentationVariant, but it is empty or not well formed.",BOOLEAN_ERROR:"Boolean value is not present in PresentationVariant.",IS_MANDATORY:"is mandatory.",IS_MISSING:"is missing.",NOT_WELL_FORMED:"is not found or not well formed)",MISSING_CHARTTYPE:"Missing ChartType in ",CHART_ANNO:"Chart Annotation.",DATA_ANNO:"Data Annotation",CARD_ANNO:"card annotation.",CARD_CONFIG:"card configuration.",CARD_CONFIG_ERROR:"Could not obtain configuration for ",CARD_CONTAINER_ERROR:"Could not obtain card container. ",DATA_UNAVAIALABLE:"No data available.",CONFIG_LOAD_ERROR:"Failed to load config.json. Reason: ",INVALID_CHARTTYPE:"Invalid ChartType given for ",INVALID_CONFIG:"No valid configuration given for ",CONFIG_JSON:"in config.json",ENTER_INTEGER:"Please enter an Integer.",NO_CARD_MODEL:"Could not obtain Cards model.",ANNO_REF:"com.sap.vocabularies.UI.v1 annotation.",INVALID_REDUNDANT:"Invalid/redundant role configured for ",CHART_IS:"chart is/are ",CARD_CONFIG_JSON:"card from config.json",ALLOWED_ROLES:"Allowed role(s) for ",DIMENSIONS_MANDATORY:"DimensionAttributes are mandatory.",MEASURES_MANDATORY:"MeasureAttributes are mandatory.",CARD_LEAST:"card: Enter at least ",CARD_MOST:"card: Enter at most ",FEEDS:"feed(s).",MIN_FEEDS:"Minimum number of feeds required for ",FEEDS_OBTAINED:"card is not configured. Obtained ",FEEDS_REQUIRED:"feed(s), Required: ",INVALID_SEMANTIC_MEASURES:"More than one measure is being semantically coloured",INVALID_IMPROVEMENT_DIR:"No Improvement Direction Found",INVALID_CRITICALITY:"Invalid criticality values",INVALID_DIMMEAS:"Invalid number of Measures or Dimensions",INVALID_FORECAST:"Invalid/Redundant Datapoint or Forecast measure",INVALID_TARGET:"Invalid/Redundant Datapoint or Target measure",ERROR_MISSING_AXISSCALES:"Minimum and Maximum values are mandatory for AxisScale MinMax to work"};var G;
function n(f,j,v,x,r1,s1,t1){var u1="{";if(!f||!f.getSetting('ovpCardProperties')){q.sap.log.error(l.ANALYTICAL_CONFIG_ERROR);u1+="}";return u1;}var v1=f.getSetting("dataModel");var w1;if(t1&&t1.EnumMember){w1=t1.EnumMember.split("/");if(w1&&(w1[1]==='Donut')){v1.setDefaultCountMode(C.Inline);}if(w1&&(w1[1]!='Donut')&&(r1===undefined)){return null;}}var x1=[];var y1=[];var z1=[];var A1=[];var B1=[];var C1=[];var D1=v&&v.Parameters;var E1=x&&x.SortOrder;var F1=x&&x.MaxItems,G1=null;var H1;var I1;var J1;var K1=null;var L1=h.TEXT_KEY;var M1=h.TEXT_KEY_V4;var N1=h.UNIT_KEY;var O1=h.UNIT_KEY_V4_ISOCurrency;var P1=h.UNIT_KEY_V4_Unit;var Q1={};if(F1){G1=F1.Int32?F1.Int32:F1.Int;}if(G1){if(G1==="0"){q.sap.log.error("OVP-AC: Analytic card Error: maxItems is configured as "+G1);u1+="}";return u1;}if(!/^\d+$/.test(G1)){q.sap.log.error("OVP-AC: Analytic card Error: maxItems is Invalid. "+"Please enter an Integer.");u1+="}";return u1;}}var R1=f.getSetting('ovpCardProperties'),S1=R1.getProperty('/parameters');var T1=R1.getProperty("/metaModel");D1=D1||!!S1;if(D1){var U1=a.resolveParameterizedEntitySet(v1,j,v,S1);u1+="path: '"+U1+"'";}else{u1+="path: '/"+j.name+"'";}var V1=[];K1=f.getSetting('ovpCardProperties').getProperty("/entitySet");if(!v1||!K1){return u1;}var W1=f1(v1,K1);var X1=f.getSetting('ovpCardProperties').getProperty("/cardLayout");var Y1=1,Z1;var $1=J();var _1;var a2;if(r1&&X1&&X1.colSpan&&X1.colSpan>1){Z1=X1.colSpan-Y1;for(var b2 in $1){if((a2=$1[b2].reference)&&$1[a2]){var c2=q.extend(true,{},$1[a2]);$1[b2]=c2;}if(b2===w1[1]||($1[b2].time&&$1[b2].time.type===w1[1].toLowerCase())){_1=$1[b2];break;}}var d2=K(r1,_1,v1,K1);if(d2){_1=_1.time;}else{_1=_1.default;}var e2=f.getSetting('ovpCardProperties').getProperty("/dataStep");if(!e2){if(_1.resize&&_1.resize.hasOwnProperty("dataStep")&&!isNaN(_1.resize.dataStep)){e2=_1.resize.dataStep;}}e2=parseInt(e2,10);if(Z1>0&&e2&&!isNaN(e2)){G1=parseInt(G1,10)+e2*Z1;}}if(v){var R1=f.getSetting('ovpCardProperties');V1=a.getFilters(R1,v);}if(V1.length>0){u1+=", filters: "+JSON.stringify(V1);}if(E1){var f2=x.SortOrder;if(!f2.length){f2=U.getSortAnnotationCollection(v1,x,j);}if(f2.length<1){q.sap.log.warning(l.CARD_WARNING+l.SORTORDER_WARNING);}else{var g2="";var h2;var i2;var j2;for(var i=0;i<f2.length;i++){h2=f2[i];j2=h2.Property.PropertyPath;C1.push(j2);if(typeof h2.Descending==="undefined"){i2='true';}else{var Y=h2.Descending.Bool||h2.Descending.Boolean;if(!Y){q.sap.log.warning(l.CARD_WARNING+l.BOOLEAN_ERROR);i2='true';}else{i2=Y.toLowerCase()==='true'?'true':'false';}}g2=g2+"{path: '"+j2+"',descending: "+i2+"},";}u1+=", sorter: ["+g2.substring(0,g2.length-1)+"]";}}var k2=f.getSetting("ovpCardProperties").getProperty("/entityType");q.each(s1,function(i,m){H1=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=k2[m.DataPoint.AnnotationPath.substring(1)];if(d.ForecastValue&&(d.ForecastValue.PropertyPath||d.ForecastValue.Path)){var s=(d.ForecastValue.PropertyPath||d.ForecastValue.Path);B1.push((d.ForecastValue.PropertyPath||d.ForecastValue.Path));if(W1&&W1[s]){var m2;if(W1[s][O1]){m2=W1[s][O1].Path?W1[s][O1].Path:undefined;}else if(W1[s][P1]){m2=W1[s][P1].Path?W1[s][P1].Path:undefined;}else if(W1[s][N1]){m2=W1[s][N1];}if(m2){if(q.inArray(m2,B1)===-1){B1.push(m2);}}}}if(d.TargetValue&&(d.TargetValue.PropertyPath||d.TargetValue.Path)){var n2=(d.TargetValue.PropertyPath||d.TargetValue.Path);B1.push((d.TargetValue.PropertyPath||d.TargetValue.Path));if(W1&&W1[n2]){var m2;if(W1[n2][O1]){m2=W1[n2][O1].Path?W1[n2][O1].Path:undefined;}else if(W1[n2][P1]){m2=W1[n2][P1].Path?W1[n2][P1].Path:undefined;}else if(W1[n2][N1]){m2=W1[n2][N1];}if(m2){if(q.inArray(m2,B1)===-1){B1.push(m2);}}}}}B1.push(H1);if(W1&&W1[H1]){if(W1[H1][M1]){if(W1[H1][M1].String&&H1!=W1[H1][M1].String){B1.push(W1[H1][M1].String?W1[H1][M1].String:H1);}else if(W1[H1][M1].Path&&H1!=W1[H1][M1].Path){B1.push(W1[H1][M1].Path?W1[H1][M1].Path:H1);}}else if(W1[H1][L1]&&H1!=W1[H1][L1]){B1.push(W1[H1][L1]?W1[H1][L1]:H1);}}if(W1&&W1[H1]){var m2;if(W1[H1][O1]){m2=W1[H1][O1].Path?W1[H1][O1].Path:undefined;}else if(W1[H1][P1]){m2=W1[H1][P1].Path?W1[H1][P1].Path:undefined;}else if(W1[H1][N1]){m2=W1[H1][N1];}if(m2){if(q.inArray(m2,B1)===-1){B1.push(m2);}}}});q.each(r1,function(i,d){H1=d.Dimension.PropertyPath;x1.push(H1);if(W1&&W1[H1]){if(W1[H1][M1]){if(W1[H1][M1].String&&H1!=W1[H1][M1].String){x1.push(W1[H1][M1].String?W1[H1][M1].String:H1);}else if(W1[H1][M1].Path&&H1!=W1[H1][M1].Path){J1=W1[H1][M1].Path;var m=J1.split("/");if(m.length>1){I1=o(T1,k2,J1);if(I1!==""){x1.push(J1);y1.push(I1);A1=p(T1,k2,J1);if(A1.length>0){z1=z1.concat(A1);}}}else{x1.push(J1?J1:H1);}}}else if(W1[H1][L1]&&H1!=W1[H1][L1]){x1.push(W1[H1][L1]?W1[H1][L1]:H1);}}});if(z1.length>0){var k=0;while(k<z1.length){if(x1.indexOf(z1[k])!==-1){z1.splice(k,1);}else{k++;}}}if(B1.length>0){q.each(B1,function(i,m){Q1[m]=true;});}if(x1.length>0){q.each(x1,function(i,d){Q1[d]=true;});}u1+=", parameters: {select:'"+[].concat(x1,B1).join(",");if(C1.length>0){var l2=[];q.each(C1,function(i,s){if(!Q1.hasOwnProperty(s)){l2.push(s);}});if(l2.length>0){u1+=","+l2.join(",");}}if(y1.length>0){u1+="'"+","+" expand:'"+y1.join(',');}u1+="'}";if(w1&&(w1[1]==='Donut')&&(r1===undefined)){u1+=", length: 1";}else if(w1&&(w1[1]==='Donut')&&(r1)&&G1){u1+=", length: "+(parseInt(G1,10)+1);}else if(G1){u1+=", length: "+G1;}u1+="}";return u1;}
n.requiresIContext=true;
function o(m,d,s){var f="";var j=s.split("/");if(j.length>1){for(var i=0;i<(j.length-1);i++){var k=m.getODataAssociationEnd(d,j[i]);if(k){d=m.getODataEntityType(k.type);if(f){f=f+"/";}f=f+j[i];}else{return f;}}}return f;}
function p(m,d,s){var f=[];var k=[];var v;var x=s.split("/");if(x.length>1){for(var i=0;i<(x.length-1);i++){var r1=m.getODataAssociationEnd(d,x[i]);if(r1){d=m.getODataEntityType(r1.type);if(d){k=d&&d.key&&d.key.propertyRef;for(var j=0;j<k.length;j++){v=x[i]+"/"+k[j].name;f.push(v);}}}}}return f;}
function r(m,d){var f=false;var i;if(m.DataPoint&&m.DataPoint.AnnotationPath){var j=d[m.DataPoint.AnnotationPath.substring(1)];if(j&&j.ForecastValue&&(j.ForecastValue.PropertyPath||j.ForecastValue.Path)){f=true;i=m;}}if(f===true){return i;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_FORECAST);return undefined;}}
function t(m,d){var f=false;var i;if(m.DataPoint&&m.DataPoint.AnnotationPath){var j=d[m.DataPoint.AnnotationPath.substring(1)];if(j&&j.TargetValue&&(j.TargetValue.PropertyPath||j.TargetValue.Path)){f=true;i=m;}}if(f===true){return i;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_TARGET);return undefined;}}
function u(m,d){var f;q.each(d,function(i,v){if(v.name===m){if(v["com.sap.vocabularies.Common.v1.Label"]){f=v["com.sap.vocabularies.Common.v1.Label"].String?v["com.sap.vocabularies.Common.v1.Label"].String:v["com.sap.vocabularies.Common.v1.Label"].Path;}else if(v["sap:label"]){f=v["sap:label"];}return false;}});return f;}
function w(f,d){var j=true;if(d==="line"||d==="column"){q.each(f,function(i,v){if((v.getUid()==='valueAxis')||(v.getUid()==='categoryAxis')){if(v.getValues().length!=1){j=false;q.sap.log.warning(l.CARD_WARNING+l.INVALID_DIMMEAS);return false;}}});}else if(d==="vertical_bullet"){q.each(f,function(i,v){if((v.getUid()==='actualValues')||(v.getUid()==='categoryAxis')){if(v.getValues().length!=1){j=false;q.sap.log.warning(l.CARD_WARNING+l.INVALID_DIMMEAS);return false;}}});}if(j===true){return true;}}
function y(m,s,v){var d=h.TYPE_KEY;if(!m||!m[s]||!m[s][d]){return v;}var f=["Edm.Int","Edmt.Int16","Edm.Int32","Edm.Int64","Edm.Decimal"];var i=m[s][d];if(q.inArray(i,f)!==-1){return Number(v);}return v;}
function z(d){if(d){return d;}return"";}
function A(){var d={locale:function(){},format:function(v,f){var i="";if(f){i=f.split('/');}if(i.length>0){var m,s;if(i.length===3){m=Number(i[1]);s=Number(i[2]);if(isNaN(m)){m=-1;}if(isNaN(s)){s=0;}}else{m=2;s=0;}if(i[0]==="axisFormatter"||(i[0]==="ShortFloat")){var j;j=N.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(i[0]==="ShortFloat"){j=N.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});}if(m===-1){j=N.getFloatInstance({style:'short'});}return j.format(Number(v));}else if(i[0]==="tooltipNoScaleFormatter"){var k=N.getFloatInstance({style:'short',currencyCode:false,shortRefNumber:s,showScale:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){k=N.getFloatInstance({minFractionDigits:0,currencyCode:false});}return k.format(Number(v));}else if(i[0]==="CURR"){var x=N.getCurrencyInstance({style:'short',currencyCode:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){x=N.getCurrencyInstance({style:'short',currencyCode:false});}return x.format(Number(v));}else if(i[0].search("%")!==-1){var r1=N.getPercentInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(m===-1){r1=N.getPercentInstance({style:'short',minFractionDigits:1,maxFractionDigits:1});}v=r1.format(Number(v));return v;}}if(v.constructor===Date){var s1=D.getDateTimeInstance({pattern:f});if(f==="YearMonthDay"){s1=D.getDateInstance({style:"medium"});}v=s1.format(new Date(v));}return v;}};V.numericFormatter(d);}
function B(v,f){var d=v.getModel();var k=v.getVizType();if(k!="line"&&k!="bubble"){return;}if(!f){f=k==="line"?"categoryAxis":"valueAxis";}var m=v.getModel('ovpCardProperties').getProperty("/entitySet");if(!d||!m){return;}var s=f1(d,m);var x=v.getFeeds();for(var i=0;i<x.length;i++){if(x[i].getUid()===f){var r1=x[i].getValues();if(!r1){return;}for(var j=0;j<r1.length;j++){if(s[r1[j][h.TYPE_KEY]]!="Edm.DateTime"){return;}}v.setVizProperties({categoryAxis:{title:{visible:false}}});return;}}}
function E(d,f,i,m,j,k){m=typeof m==="undefined"?false:m;var s=false;var v;if(!d&&m){q.sap.log.error(j+l.CARD_ERROR+i+l.IS_MANDATORY);return s;}if(!d){q.sap.log.warning(j+l.CARD_WARNING+i+l.IS_MISSING);s=true;return s;}v=f[d];if(!v||typeof v!=="object"){var x=m?q.sap.log.error:q.sap.log.warning;x(j+l.CARD_ERROR+"in "+i+". ("+d+" "+l.NOT_WELL_FORMED);return s;}if(k&&k==="sap.ovp.cards.charts.analytical.analyticalChart"&&i==="Chart Annotation"&&(!v.ChartType||!v.ChartType.EnumMember)){q.sap.log.error(j+l.CARD_ERROR+l.MISSING_CHARTTYPE+l.CHART_ANNO);return s;}s=true;return s;}
function H(d){var f=false;if(!d){return f;}var s;var i;var j;var k;var m;var v;var x;var r1="";var s1;var t1=d.getView();if(t1){r1="["+t1.getId()+"] ";}if(!(s1=d.getCardPropertiesModel())){q.sap.log.error(r1+l.CARD_ERROR+"in "+l.CARD_CONFIG+l.NO_CARD_MODEL);return f;}x=s1.getProperty("/entityType");if(!x||q.isEmptyObject(x)){q.sap.log.error(r1+l.CARD_ERROR+"in "+l.CARD_ANNO);return f;}s=s1.getProperty("/selectionAnnotationPath");i=s1.getProperty("/chartAnnotationPath");k=s1.getProperty("/presentationAnnotationPath");m=s1.getProperty("/identificationAnnotationPath");v=s1.getProperty("/dataPointAnnotationPath");j=s1.getProperty("/contentFragment");f=E(s,x,"Selection Variant",false,r1);f=E(i,x,"Chart Annotation",true,r1,j)&&f;f=E(k,x,"Presentation Variant",false,r1)&&f;f=E(m,x,"Identification Annotation",true,r1)&&f;f=E(v,x,"Data Point",false,r1)&&f;return f;}
function I(d,f,v){}
function J(d){return U.getConfig(d);}
function K(d,f,i,j){var k=false;var m;var s;var v;var x;var r1;var s1;if(!f.time||q.isEmptyObject(f.time)){return k;}if(!d){return k;}for(var t1=0;t1<d.length;t1++){if(!d[t1].Dimension||!(s=d[t1].Dimension.PropertyPath)){return k;}m=f1(i,j);if(m&&m[s]){v=m[s][h.TYPE_KEY];x=m[s][h.DISPLAY_FORMAT_KEY];r1=m[s][h.SEMANTICS_KEY];s1=m[s]["com.sap.vocabularies.Common.v1.IsCalendarYear"];}if(v&&v.lastIndexOf("Edm.Date",0)===0){if(v.toLowerCase()==="edm.datetime"){if(x&&x.toLowerCase()==="date"){k=true;}}else{k=true;}}if(v==="Edm.String"&&(s1||r1&&r1.lastIndexOf("year",0)===0)){k=true;}if(k){d.unshift(d.splice(t1,1)[0]);break;}}return k;}
function L(i,d,f){var j="";var k=J(d);var m,s;if(!k){return j;}j=k.default.type;m=i.getSetting("dataModel");s=i.getSetting('ovpCardProperties').getProperty("/entitySet");if(K(f,k,m,s)){j=k.time.type;}return j;}
L.requiresIContext=true;
function P(d,j,k){if(!d.length){return;}var m=k==="dimension"?"Dimension":"Measure";var s=[];q.each(d,function(i,f){if(!f||!f[m]||!f[m].PropertyPath){q.sap.log.error(l.INVALID_CHART_ANNO);return false;}s.push(f[m].PropertyPath);});var v=q.map(j.feeds,function(f){if(f.type===k){if(f.role){return f.role.split("|");}return[];}});v=q.grep(v,function(f,i){return q.inArray(f,v)===i;}).join(", ");q.sap.log.error(l.CARD_ERROR+l.INVALID_REDUNDANT+k+"(s) "+s.join(", ")+". "+l.ALLOWED_ROLES+j.type+l.CHART_IS+v);}
function Q(v,i){var d;if(v){if(v.String){d=v.String;}else if(v.Boolean||v.Bool){d=R(v);}else{d=S(v,i);}}return d;}
function R(v,d){if(v&&v.Boolean){if(v.Boolean.toLowerCase()==="true"){return true;}else if(v.Boolean.toLowerCase()==="false"){return false;}}else if(v&&v.Bool){if(v.Bool.toLowerCase()==="true"){return true;}else if(v.Bool.toLowerCase()==="false"){return false;}}return d;}
function S(v,i){var d;if(v){if(v.String){d=Number(v.String);}else if(v.Int){d=Number(v.Int);}else if(v.Decimal){d=Number(v.Decimal);}else if(v.Double){d=Number(v.Double);}else if(v.Single){d=Number(v.Single);}}if(i){var f=N.getFloatInstance({style:'short',minFractionDigits:2,maxFractionDigits:2});if(d){d=f.format(Number(d));}}return d;}
function T(i,d){function X(s1){if(s1){if(s1.Path){return"{path:'"+s1.Path+"'}";}else{return Q(s1);}}else{return"";}}var v=i[i.measureNames];if(d&&d.CriticalityCalculation&&d.CriticalityCalculation.ImprovementDirection){var s=d.CriticalityCalculation.ImprovementDirection.EnumMember;var f=X(d.CriticalityCalculation.DeviationRangeLowValue);var j=X(d.CriticalityCalculation.DeviationRangeHighValue);var k=X(d.CriticalityCalculation.ToleranceRangeLowValue);var m=X(d.CriticalityCalculation.ToleranceRangeHighValue);return a._calculateCriticalityState(v,s,f,j,k,m,a.criticalityConstants.StateValues);}else{var x=d.Criticality.EnumMember;var r1=x?x.split("/"):[];if(r1){return r1[1];}}}
function W(d,m,f){var j,k;q.each(m,function(i,v){if(v["com.sap.vocabularies.Common.v1.Label"]&&v["com.sap.vocabularies.Common.v1.Label"].String===d.measureNames){j=v.name;return false;}else if(v["com.sap.vocabularies.Common.v1.Label"]&&v["com.sap.vocabularies.Common.v1.Label"].Path===d.measureNames){j=v.name;return false;}else if(v["sap:label"]===d.measureNames){j=v.name;return false;}});q.each(f,function(i,v){if(v.Measure.PropertyPath===j){if(!v.DataPoint||!v.DataPoint.AnnotationPath){return false;}k=v.DataPoint.AnnotationPath;return false;}});return k;}
function X(i,d){if(i){if(i.Path){return i.Path;}else{return Q(i,d);}}else{return"";}}
function Y(m,d){function f(s,i){return s&&s.indexOf(i,s.length-i.length)!==-1;}var j=false;q.each(m,function(i,v){if(v.DataPoint&&v.DataPoint.AnnotationPath){var k=d[v.DataPoint.AnnotationPath.substring(1)];if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.ImprovementDirection&&k.CriticalityCalculation.ImprovementDirection.EnumMember){var s=k.CriticalityCalculation.ImprovementDirection.EnumMember;var x=X(k.CriticalityCalculation.DeviationRangeLowValue);var r1=X(k.CriticalityCalculation.DeviationRangeHighValue);var s1=X(k.CriticalityCalculation.ToleranceRangeLowValue);var t1=X(k.CriticalityCalculation.ToleranceRangeHighValue);if(f(s,"Minimize")||f(s,"Minimizing")){if(t1&&r1){j=true;return false;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_CRITICALITY);}}else if(f(s,"Maximize")||f(s,"Maximizing")){if(s1&&x){j=true;return false;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_CRITICALITY);}}else if(f(s,"Target")){if(s1&&x&&t1&&r1){j=true;return false;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_CRITICALITY);}}}else if(k&&k.Criticality){j=true;return false;}else{q.sap.log.warning(l.CARD_WARNING+l.INVALID_IMPROVEMENT_DIR);}}});if(j===true&&m.length>1){q.sap.log.warning(l.CARD_WARNING+l.INVALID_SEMANTIC_MEASURES);}return j;}
function Z(m,d,f){function i(w1,x1){return w1&&w1.indexOf(x1,w1.length-x1.length)!==-1;}var j=[null,null];var k=true;var s=m.Measure.PropertyPath;if(f[s]){if(f[s][h.LABEL_KEY_V4]){s=f[s][h.LABEL_KEY_V4].String?f[s][h.LABEL_KEY_V4].String:f[s][h.LABEL_KEY_V4].Path;}else if(f[s][h.LABEL_KEY]){s=f[s][h.LABEL_KEY];}else if(s){s=s;}}var v=m.DataPoint.AnnotationPath;var x=d[v.substring(1)];if(!x.CriticalityCalculation||!x.CriticalityCalculation.ImprovementDirection||!x.CriticalityCalculation.ImprovementDirection.EnumMember){return j;}var r1=x.CriticalityCalculation.ImprovementDirection.EnumMember;var s1=X(x.CriticalityCalculation.DeviationRangeLowValue,k);var t1=X(x.CriticalityCalculation.DeviationRangeHighValue,k);var u1=X(x.CriticalityCalculation.ToleranceRangeLowValue,k);var v1=X(x.CriticalityCalculation.ToleranceRangeHighValue,k);if(i(r1,"Minimize")||i(r1,"Minimizing")){if(v1&&t1){j[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_LESS",[s,v1]);j[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_MORE",[s,t1]);j[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_CRITICAL",[v1,s,t1]);}}else if(i(r1,"Maximize")||i(r1,"Maximizing")){if(u1&&s1){j[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMISING_MORE",[s,u1]);j[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMISING_LESS",[s,s1]);j[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMIZING_CRITICAL",[s1,s,u1]);}}else if(i(r1,"Target")){if(u1&&s1&&v1&&t1){j[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_BETWEEN",[u1,s,v1]);j[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_AROUND",[s,s1,t1]);j[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_CRITICAL",[s1,s,u1,v1,t1]);}}return j;}
function $(m,v,d){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var f=d[v.DataPoint.AnnotationPath.substring(1)];var i,j;if(f&&f.ValueFormat){i=f.ValueFormat;}else if(f&&f.NumberFormat){i=f.NumberFormat;}if(i&&i.NumberOfFractionalDigits&&i.NumberOfFractionalDigits.Int){j=i.NumberOfFractionalDigits.Int;if(m<Number(j)){m=Number(j);}}}return m;}
function _(m,v,d){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var f=d[v.DataPoint.AnnotationPath.substring(1)];var s,i;if(f&&f.ValueFormat){s=f.ValueFormat;}else if(f&&f.NumberFormat){s=f.NumberFormat;}if(s){if(s.ScaleFactor&&s.ScaleFactor.Decimal){i=Number(s.ScaleFactor.Decimal);}else if(s.ScaleFactor&&s.ScaleFactor.Int){i=Number(s.ScaleFactor.Int);}if(!isNaN(i)){if(m===undefined){m=Number(i);}else if(m>Number(i)){m=Number(i);}}}}return m;}
function a1(m,s){if(m&&m[s]&&(m[s]["Org.OData.Measures.V1.ISOCurrency"]||(m[s][h.SEMANTICS_KEY]&&m[s][h.SEMANTICS_KEY]===h.CURRENCY_CODE))){return true;}return false;}
function b1(v,d){if(v.DataPoint&&v.DataPoint.AnnotationPath){var f=d[v.DataPoint.AnnotationPath.substring(1)];if(f&&f.ValueFormat&&f.ValueFormat.NumberOfFractionalDigits&&f.ValueFormat.NumberOfFractionalDigits.Int){return true;}else if(f&&f.NumberFormat&&f.NumberFormat.NumberOfFractionalDigits&&f.NumberFormat.NumberOfFractionalDigits.Int){return true;}}return false;}
function c1(m,v,f){if(m[v[f].PropertyPath][h.EDM_TYPE]===h.EDM_INT32){return true;}return false;}
function d1(d,f,m,s){var x,r1,s1,t1;var u1,v1,w1,x1,y1;var z1;var A1,B1,C1;var D1,E1=[],F1=[];var G1;var H1;var I1=s&&s.getView();var J1,K1;u1=d.getVizType();v1=J();for(var L1 in v1){if((H1=v1[L1].reference)&&v1[H1]){var M1=q.extend(true,{},v1[H1]);v1[L1]=M1;}if(v1[L1].default.type===u1||(v1[L1].time&&v1[L1].time.type===u1)){w1=v1[L1];break;}}if(!w1){q.sap.log.error(l.CARD_ERROR+"in "+l.CARD_CONFIG+l.CARD_CONFIG_ERROR+u1+" "+l.CARD_CONFIG_JSON);return;}if(!(x=d.getModel('ovpCardProperties'))){q.sap.log.error(l.CARD_ERROR+"in "+l.CARD_CONFIG+l.NO_CARD_MODEL);return;}var N1=d.getModel();var O1=x.getProperty("/entitySet");if(!N1||!O1){return;}r1=x.getProperty("/entityType");if(!r1){q.sap.log.error(l.CARD_ANNO_ERROR+"in "+l.CARD_ANNO);return;}var P1=f1(N1,O1);s1=x.getProperty("/chartAnnotationPath");if(!s1||!(t1=r1[s1])){q.sap.log.error(l.CARD_ANNO_ERROR+"in "+l.CARD_ANNO);return;}if(!(x1=t1.DimensionAttributes)||!x1.length){q.sap.log.error(l.CHART_ANNO_ERROR+"in "+l.CHART_ANNO+" "+l.DIMENSIONS_MANDATORY);return;}var Q1;if(!(y1=t1.MeasureAttributes)||!y1.length){q.sap.log.error(l.CHART_ANNO_ERROR+"in "+l.CHART_ANNO+" "+l.MEASURES_MANDATORY);return;}else{var R1=y1[0].DataPoint?r1[y1[0].DataPoint.AnnotationPath.substring(1)]:null;var S1=R1&&R1.NumberFormat&&R1.NumberFormat.NumberOfFractionalDigits&&R1.NumberFormat.NumberOfFractionalDigits.Int;Q1=S1?S1:0;}G1=K(x1,w1,N1,O1);if(G1){w1=w1.time;}else{w1=w1.default;}var T1=x.getProperty("/ChartProperties")||x.getProperty("/chartProperties");if(x&&x.getProperty("/tabs")&&(T1===undefined)){J1=I1.byId("ovp_card_dropdown");K1=parseInt(J1.getSelectedKey(),10);T1=x.getProperty("/tabs")&&x.getProperty("/tabs")[K1-1]&&(x.getProperty("/tabs")[K1-1]["ChartProperties"]||x.getProperty("/tabs")[K1-1]["chartProperties"]);}var U1=false;var V1=Q1>0?"tooltipNoScaleFormatter/"+Q1.toString()+"/":'tooltipNoScaleFormatter/-1/';var W1=new b({formatString:V1});W1.connect(d.getVizUid());W1.connect(d.getVizUid());d._oOvpVizFrameTooltip=W1;[w1.dimensions,w1.measures].forEach(function(j,i){var k=i?y1:x1;var v=i?"measure(s)":"dimension(s)";if(j.min&&k.length<j.min){q.sap.log.error(l.CARD_ERROR+"in "+u1+" "+l.CARD_LEAST+j.min+" "+v);U1=true;}if(j.max&&k.length>j.max){q.sap.log.error(l.CARD_ERROR+"in "+u1+l.CARD_MOST+j.max+" "+v);U1=true;}});if(U1){return;}var X1=true;if(w1.properties&&w1.properties.hasOwnProperty("hideLabel")&&!w1.properties["hideLabel"]){X1=false;}var Y1=true;var Z1=false;if(u1==='donut'){Z1=true;}d.removeAllAggregation();z1={legend:{isScrollable:false},title:{visible:false},interaction:{noninteractiveMode:Y1?false:true,selectability:{legendSelection:false,axisLabelSelection:false,mode:'EXCLUSIVE',plotLassoSelection:false,plotStdSelection:true},zoom:{enablement:'disabled'}},plotArea:{window:{start:'firstDataPoint',end:'lastDataPoint'},dataLabel:{visible:Z1?true:false,type:'value'},dataPoint:{invalidity:'ignore'}},categoryAxis:{label:{truncatedLabelRatio:0.15}},general:{groupData:false,showAsUTC:true}};if(w1.properties&&w1.properties.semanticColor===true&&Y(y1,r1)){var $1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("GOOD");var _1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BAD");var a2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("CRITICAL");var b2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS");if(y1.length===1){var c2=Z(y1[0],r1,P1);var $1=c2[0]||$1,_1=c2[1]||_1,a2=c2[2]||a2,b2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS");}z1.plotArea.dataPointStyle={rules:[{callback:function(i){var j=W(i,P1,y1);if(!j){return false;}var k=r1[j.substring(1)];var v=T(i,k);if(v===a.criticalityConstants.StateValues.Positive){return true;}else if(v==="Positive"){return true;}},properties:{color:"sapUiChartPaletteSemanticGoodLight1"},"displayName":$1},{callback:function(i){var j=W(i,P1,y1);if(!j){return false;}var k=r1[j.substring(1)];var v=T(i,k);if(v===a.criticalityConstants.StateValues.Critical){return true;}else if(v==="Critical"){return true;}},properties:{color:"sapUiChartPaletteSemanticCriticalLight1"},"displayName":a2},{callback:function(i){var j=W(i,P1,y1);if(!j){return false;}var k=r1[j.substring(1)];var v=T(i,k);if(v===a.criticalityConstants.StateValues.Negative){return true;}else if(v==="Negative"){return true;}},properties:{color:"sapUiChartPaletteSemanticBadLight1"},"displayName":_1},{callback:function(i){var j=W(i,P1,y1);if(!j){return false;}var k=r1[j.substring(1)];var v=T(i,k);if(v===a.criticalityConstants.StateValues.None){return true;}else if(v==="Neutral"){return true;}},properties:{color:"sapUiChartPaletteSemanticNeutralLight1"},"displayName":b2}]};}var d2=x.getProperty("/colorPalette");var e2;if((t1.ChartType.EnumMember===h.COLUMNSTACKED_CHARTTYPE||t1.ChartType.EnumMember===h.DONUT_CHARTTYPE)&&d2&&d2.length===4){q.each(x1,function(i,j){if(j&&j.Role&&j.Role.EnumMember==="com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series"){e2=j.Dimension&&j.Dimension.PropertyPath;return;}});var f2;if(e2){if(P1&&P1[e2]){if(P1[e2][h.LABEL_KEY_V4]){f2=P1[e2][h.LABEL_KEY_V4].String?P1[e2][h.LABEL_KEY_V4].String:P1[e2][h.LABEL_KEY_V4].Path;}else if(P1[e2][h.LABEL_KEY]){f2=P1[e2][h.LABEL_KEY];}else if(e2){f2=e2;}}var g2=d2.map(function(v){return v.color;});var h2=d2.map(function(v){return v.legendText;});var i2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");var j2=h2[0]!=undefined?h2[0]:i2.getText("OTHERS");var k2=h2[1]!=undefined?h2[1]:i2.getText("BAD");var l2=h2[2]!=undefined?h2[2]:i2.getText("CRITICAL");var m2=h2[3]!=undefined?h2[3]:i2.getText("GOOD");z1.plotArea.dataPointStyle={rules:[{callback:function(i){if(i&&(i[f2]==="3"||i[f2]===3)){return true;}},properties:{color:g2[3]},"displayName":m2},{callback:function(i){if(i&&(i[f2]==="2"||i[f2]===2)){return true;}},properties:{color:g2[2]},"displayName":l2},{callback:function(i){if(i&&(i[f2]==="1"||i[f2]===1)){return true;}},properties:{color:g2[1]},"displayName":k2},{callback:function(i){if(i&&(i[f2]==="0"||i[f2]===0)){return true;}},properties:{color:g2[0]},"displayName":j2}]};}}var n2=false;if(t1.ChartType.EnumMember===h.SCATTER_CHARTTYPE||t1.ChartType.EnumMember===h.BUBBLE_CHARTTYPE||t1.ChartType.EnumMember===h.LINE_CHARTTYPE){if(t1&&t1.AxisScaling&&t1.AxisScaling.EnumMember){var o2=t1.AxisScaling.EnumMember.substring(t1.AxisScaling.EnumMember.lastIndexOf('/')+1,t1.AxisScaling.EnumMember.length);switch(o2){case"AdjustToDataIncluding0":z1.plotArea.adjustScale=false;n2=true;break;case"AdjustToData":z1.plotArea.adjustScale=true;n2=true;break;case"MinMaxValues":var p2=[];if(t1["MeasureAttributes"][0]&&t1["MeasureAttributes"][0].DataPoint&&t1["MeasureAttributes"][0].DataPoint.AnnotationPath){var q2=t1["MeasureAttributes"][0].DataPoint.AnnotationPath;var r2=q2.substring(q2.lastIndexOf('@')+1,q2.length);if(r1&&r1[r2]){var s2=r1[r2];if(s2&&s2.MaximumValue&&s2.MaximumValue.Decimal&&s2.MinimumValue&&s2.MinimumValue.Decimal){p2.push({feed:"valueAxis",max:s2.MaximumValue.Decimal,min:s2.MinimumValue.Decimal});n2=true;}else{q.sap.log.error(l.ERROR_MISSING_AXISSCALES);}}}if(t1.ChartType.EnumMember!==h.LINE_CHARTTYPE&&t1["MeasureAttributes"][1]&&t1["MeasureAttributes"][1].DataPoint&&t1["MeasureAttributes"][1].DataPoint.AnnotationPath){var q2=t1["MeasureAttributes"][1].DataPoint.AnnotationPath;var r2=q2.substring(q2.lastIndexOf('@')+1,q2.length);if(r1&&r1[r2]){var s2=r1[r2];if(s2&&s2.MaximumValue&&s2.MaximumValue.Decimal&&s2.MinimumValue&&s2.MinimumValue.Decimal){p2.push({feed:"valueAxis2",max:s2.MaximumValue.Decimal,min:s2.MinimumValue.Decimal});n2=true;}else{q.sap.log.error(l.ERROR_MISSING_AXISSCALES);}}}d.setVizScales(p2);break;default:break;}}}B1=x1.slice();C1=y1.slice();var t2=0;var u2=0;var v2;var w2;var x2=false;var y2=false;var z2=false;var A2=false;var B2;var C2=[];var D2=[],E2=[];q.each(w1.feeds,function(i,v){var K2=v.uid;var L2=[];if(v.type){var M2,N2,O2;if(v.type==="dimension"){M2=x1.length;N2="Dimension";O2="dimensions";A1=B1;D1=E1;}else{M2=y1.length;N2="Measure";O2="measures";A1=C1;D1=F1;}var P2=0,Q2=M2;if(v.min){P2=P2>v.min?P2:v.min;}if(v.max){Q2=Q2<v.max?Q2:v.max;}if(!v.role){var R2=A1.length;for(var j=0;j<R2&&L2.length<Q2;++j){var S2=A1[j];A1.splice(j,1);--R2;--j;L2.push(S2);if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY];}if(!A2){A2=c1(P1,S2,N2);}if(a1(P1,B2)){x2=true;}else{y2=true;}if(!z2){z2=b1(S2,r1);}if(!x2){t2=$(t2,S2,r1);v2=_(v2,S2,r1);}else{u2=$(u2,S2,r1);w2=_(w2,S2,r1);}}}else{var T2=v.role.split("|");q.each(T2,function(j,k3){if(L2.length===Q2){return false;}var R2=A1.length;for(var k=0;k<R2&&L2.length<Q2;++k){var S2=A1[k];if(S2&&S2.Role&&S2.Role.EnumMember&&S2.Role.EnumMember.split("/")&&S2.Role.EnumMember.split("/")[1]){var l3=S2.Role.EnumMember.split("/")[1];if(l3===k3){A1.splice(k,1);--R2;--k;L2.push(S2);if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY];}if(a1(P1,B2)){x2=true;}else{y2=true;}if(!A2){A2=c1(P1,S2,N2);}if(!z2){z2=b1(S2,r1);}if(!x2){t2=$(t2,S2,r1);v2=_(v2,S2,r1);}else{u2=$(u2,S2,r1);w2=_(w2,S2,r1);}}}else if(q.inArray(S2,D1)===-1){D1.push(S2);}}});if(L2.length<Q2){q.each(D1,function(k,S2){var k3;var l3;if((k3=w1[O2].defaultRole)&&(q.inArray(k3,T2)!==-1)&&(l3=q.inArray(S2,A1))!==-1){A1.splice(l3,1);L2.push(S2);if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path?P1[S2[N2].PropertyPath][h.UNIT_KEY_V4_Unit].Path:undefined;}else if(P1[S2[N2].PropertyPath][h.UNIT_KEY]){B2=P1[S2[N2].PropertyPath][h.UNIT_KEY];}if(a1(P1,B2)){x2=true;}else{y2=true;}if(!A2){A2=c1(P1,S2,N2);}if(!z2){z2=b1(S2,r1);}if(!x2){t2=$(t2,S2,r1);v2=_(v2,S2,r1);}else{u2=$(u2,S2,r1);w2=_(w2,S2,r1);}if(L2.length===Q2){return false;}}});}if(L2.length<P2){q.sap.log.error(l.CARD_ERROR+l.MIN_FEEDS+u1+" "+l.FEEDS_OBTAINED+L2.length+" "+l.FEEDS_REQUIRED+P2+" "+l.FEEDS);return false;}}if(L2.length){var U2=[];var V2;if(!(V2=d.getDataset())){q.sap.log.error(l.NO_DATASET);return false;}G=r1;q.each(L2,function(i,S2){if(!S2||!S2[N2]||!S2[N2].PropertyPath){q.sap.log.error(l.INVALID_CHART_ANNO);return false;}var k=S2[N2].PropertyPath;var f2=k;var k3=k;var l3=null;if(P1&&P1[k]){if(P1[k][h.LABEL_KEY_V4]){if(P1[k][h.LABEL_KEY_V4].String){f2=P1[k][h.LABEL_KEY_V4].String;var m3;var n3;var o3;if(f2.indexOf("{")===0){f2=f2.slice(1,-1);if(f2.indexOf(">")!=-1){o3=f2.split(">");m3=o3[0];n3=o3[1];}else if(f2.indexOf("&gt;")!=-1){o3=f2.split("&gt;");m3=o3[0];n3=o3[1];}f2=d.getModel(m3).getProperty(n3);}}else if(P1[k][h.LABEL_KEY_V4].Path){f2=P1[k][h.LABEL_KEY_V4].Path;}else{f2=k;}}else if(P1[k][h.LABEL_KEY]){f2=P1[k][h.LABEL_KEY];}else if(k){f2=k;}if(P1[k][h.TEXT_KEY_V4]){k3=P1[k][h.TEXT_KEY_V4].String?P1[k][h.TEXT_KEY_V4].String:P1[k][h.TEXT_KEY_V4].Path;}else if(P1[k][h.TEXT_KEY]){k3=P1[k][h.TEXT_KEY];}else if(k){k3=k;}l3=P1[k][h.TYPE_KEY]||null;}var p3;if((l3==="Edm.DateTime"||l3==="Edm.DateTimeOffset")&&k3===k){p3="{path:'"+k+"', formatter: 'sap.ovp.cards.charts.VizAnnotationManager.returnDateFormat'}";}else{if(P1[k]&&P1[k][h.TEXT_KEY_V4]&&P1[k][h.TEXT_KEY_V4][h.TEXT_ARRANGEMENT_ANNO]){var q3,r3;q3=P1[k][h.TEXT_ARRANGEMENT_ANNO];r3=q3&&q3.EnumMember;if(!r3){q3=P1[k][h.TEXT_KEY_V4][h.TEXT_ARRANGEMENT_ANNO];r3=q3&&q3.EnumMember;}if(!r3){var s3=G;q3=s3&&s3[h.TEXT_ARRANGEMENT_ANNO];r3=q3&&q3.EnumMember;}switch(r3){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst":p3="{"+k3+"}"+" "+"("+"{"+k+"}"+")";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":p3="{"+k+"}"+" "+"("+"{"+k3+"}"+")";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":p3="{"+k3+"}";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeperate":p3="{"+k+"}"+" "+"("+"{"+k3+"}"+")";break;default:p3="{"+k+"}";break;}}else{p3="{"+k3+"}";}}U2.push(f2);if(N2==="Dimension"){if(K2==="waterfallType"){var t3=new e({name:f2,value:"{"+k+"}"});}else{var t3=new e({name:f2,value:"{"+k+"}",displayValue:p3});}var u3=P1[k][h.SEMANTICS_KEY];var v3=P1[k]["com.sap.vocabularies.Common.v1.IsCalendarYear"]&&P1[k]["com.sap.vocabularies.Common.v1.IsCalendarYear"].Bool;if(G1&&(l3==="Edm.DateTime"||v3||l3==="Edm.DateTimeOffset"||(u3&&u3.lastIndexOf("year",0)===0))){t3.setDataType("date");}V2.addDimension(t3);if(q.inArray(f2,E2)===-1){E2.push(f2);}}else{V2.addMeasure(new M({name:f2,value:"{"+k+"}"}));if((q.inArray(f2,D2)===-1)&&(K2!="bubbleWidth")){D2.push(f2);}}});d.addFeed(new F({'uid':K2,'type':N2,'values':U2}));if(K2==="categoryAxis"){z1[K2]={title:{visible:X1?false:true,text:U2.join(", ")},label:{formatString:x2?'CURR':'axisFormatter',truncatedLabelRatio:0.15}};}else{z1[K2]={title:{visible:X1?false:true,text:U2.join(", ")},label:{formatString:x2?'CURR':'axisFormatter'}};}C2.push(z1[K2]);if(w1.hasOwnProperty("vizProperties")){var W2=0;var X2=w1.vizProperties.length;var Y2;var Z2;for(;W2<X2;W2++){if(w1.vizProperties[W2].hasOwnProperty("value")){Z2=w1.vizProperties[W2].value;}if(w1.vizProperties[W2].hasOwnProperty("path")){Y2=(w1.vizProperties[W2].path).split(".");var $2=Y2.length;var _2,a3;var b3;for(var c3=0,b3=Y2[0],_2=z1,a3=T1;c3<$2;++c3){if(c3===$2-1){if(a3&&a3.hasOwnProperty(b3)){if(u1==='donut'&&(a3[b3]==="value"||a3[b3]==="percentage")){Z2=a3[b3];}else if(u1!='donut'){Z2=a3[b3];}}if((n2&&(b3!="adjustScale"))||(!n2&&(b3==="adjustScale"))||(!n2&&(b3!="adjustScale"))){_2[b3]=Z2;}break;}_2[b3]=_2[b3]||{};_2=_2[b3];if(a3){a3[b3]=a3[b3]||{};a3=a3[b3];}b3=Y2[c3+1];}}}}if(v.hasOwnProperty("vizProperties")){var i=0;var d3=v.vizProperties.length;var e3;var f3;var g3;for(;i<d3;i++){if(v.vizProperties[i].hasOwnProperty("method")){f3=v.vizProperties[i].method;switch(f3){case'count':e3=U2.length;if(v.vizProperties[i].hasOwnProperty("min")&&e3<=v.vizProperties[i].min){e3=v.vizProperties[i].min;}else if(v.vizProperties[i].hasOwnProperty("max")&&e3>=v.vizProperties[i].max){e3=v.vizProperties[i].max;}break;}}else if(v.vizProperties[i].hasOwnProperty("value")){e3=v.vizProperties[i].value;}if(v.vizProperties[i].hasOwnProperty("path")){g3=(v.vizProperties[i].path).split(".");var h3=g3.length;var i3;var j3;for(var j=0,j3=g3[0],i3=z1;j<h3;++j){if(j===h3-1){i3[j3]=e3;break;}i3[j3]=i3[j3]||{};i3=i3[j3];j3=g3[j+1];}}}}}}});var F2=d.getFeeds();if(w1.properties&&w1.properties.semanticPattern===true&&w(F2,u1)){q.each(F2,function(i,v){if(F2[i].getType()==='Measure'&&((F2[i].getUid()==='valueAxis')||(F2[i].getUid()==='actualValues'))){var j;q.each(y1,function(P2,Q2){var R2=u(Q2.Measure.PropertyPath,P1);if(R2===F2[i].getValues()[0]){j=r(Q2,r1);return false;}});if(j){var k=u(j.Measure.PropertyPath,P1);var K2=(r1[j.DataPoint.AnnotationPath.substring(1)].ForecastValue.PropertyPath||r1[j.DataPoint.AnnotationPath.substring(1)].ForecastValue.Path);var L2=u(K2,P1);var M2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("ACTUAL",[k]);var N2=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("FORECAST",[L2]);z1.plotArea.dataPointStyle={rules:[{dataContext:{MeasureNamesDimension:k},properties:{color:"sapUiChartPaletteSequentialHue1Light1",lineType:"line",lineColor:"sapUiChartPaletteSequentialHue1Light1"},displayName:M2},{dataContext:{MeasureNamesDimension:L2},properties:{color:"sapUiChartPaletteSequentialHue1Light1",lineType:"dotted",lineColor:"sapUiChartPaletteSequentialHue1Light1",pattern:"diagonalLightStripe"},displayName:N2}]};d.getDataset().addMeasure(new M({name:L2,value:"{"+K2+"}"}));var O2=F2[i].getValues();O2.push(L2);F2[i].setValues(O2);}return false;}});}if(w1.properties&&w1.properties.semanticPattern===true&&w(F2,u1)&&d.getVizType()==="vertical_bullet"){q.each(F2,function(i,v){if(F2[i].getType()==='Measure'&&((F2[i].getUid()==='valueAxis')||(F2[i].getUid()==='actualValues'))){var j;q.each(y1,function(L2,M2){var N2=u(M2.Measure.PropertyPath,P1);if(N2===F2[i].getValues()[0]){j=t(M2,r1);return false;}});if(j){var k=(r1[j.DataPoint.AnnotationPath.substring(1)].TargetValue.PropertyPath||r1[j.DataPoint.AnnotationPath.substring(1)].TargetValue.Path);var K2=u(k,P1);d.getDataset().addMeasure(new M({name:K2,value:"{"+k+"}"}));d.addFeed(new F({'uid':"targetValues",'type':"Measure",'values':[K2]}));}return false;}});}if(x2&&y2){q.sap.log.warning(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Currency_non_currency_measure"));}if(A2&&!z2){u2=t2=-1;if(z1&&z1["valueAxis"]){z1["valueAxis"]={label:{allowDecimals:true}};}}else if(!A2&&!z2){u2=t2=-1;}var G2;if(w2===undefined){w2="";}if(v2===undefined){v2="";}if(x2){G2=h1(w2,x2);}else{G2=h1(v2,x2);}if(f){f.setScale(G2);}g1(D2,E2,m);var H2="";q.each(C2,function(i,j){var k=j.label.formatString;H2="";if(x2){if(k==='CURR'){H2='CURR/'+u2.toString()+"/";}else{H2='axisFormatter/'+u2.toString()+"/";}}else{H2='axisFormatter/'+t2.toString()+"/";}j.label.formatString=H2;});if(u1==="vertical_bullet"){z1["valueAxis"]={title:{visible:X1?false:true},label:{formatString:H2}};}var I2="";var J2="";if(x2){I2=u2.toString();J2='CURR/'+u2.toString()+"/";}else{I2=t2.toString();J2='axisFormatter/'+t2.toString()+"/";}if(u1==="donut"){z1.plotArea.dataLabel.formatString=J2;if(z1.plotArea.dataLabel.type==="percentage"){z1.plotArea.dataLabel.formatString="0.0%/"+I2+"/";}}P(B1,w1,"dimension");P(C1,w1,"measure");d.setVizProperties(z1);}
function e1(v,d,f){if(v&&(v.getVizType()==="bubble"||v.getVizType()==="scatter")){return;}var j,k,s,x;var r1;var s1=h.UNIT_KEY;var t1=h.UNIT_KEY_V4_ISOCurrency;var u1=h.UNIT_KEY_V4_Unit;var v1;var w1=[];if(!(j=v.getModel('ovpCardProperties'))){q.sap.log.error(l.CARD_ERROR+"in "+l.CARD_CONFIG+l.NO_CARD_MODEL);return;}var x1=v.getModel();var y1=j.getProperty("/entitySet");if(!x1||!y1){return;}k=j.getProperty("/entityType");if(!k){q.sap.log.error(l.CARD_ANNO_ERROR+"in "+l.CARD_ANNO);return;}var z1=f1(x1,y1);s=j.getProperty("/chartAnnotationPath");if(!s||!(x=k[s])){q.sap.log.error(l.CARD_ANNO_ERROR+"in "+l.CARD_ANNO);return;}if(!(r1=x.MeasureAttributes)||!r1.length){q.sap.log.error(l.CHART_ANNO_ERROR+"in "+l.CHART_ANNO+" "+l.MEASURES_MANDATORY);return;}q.each(r1,function(i,m){v1=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var G1=k[m.DataPoint.AnnotationPath.substring(1)];if(G1.ForecastValue&&(G1.ForecastValue.PropertyPath||G1.ForecastValue.Path)){w1.push((G1.ForecastValue.PropertyPath||G1.ForecastValue.Path));}}w1.push(v1);});var A1=d?d.results:null;var B1="";var C1=true;var D1=[];var E1=v.getFeeds();q.each(E1,function(i,m){if(m.getType()==="Measure"){D1=D1.concat(m.getValues());}});if(A1){q.each(w1,function(i,m){var G1="";if(z1&&z1[m]){if(z1[m][h.LABEL_KEY_V4]){G1=z1[m][h.LABEL_KEY_V4].String?z1[m][h.LABEL_KEY_V4].String:z1[m][h.LABEL_KEY_V4].Path;}else if(z1[m][h.LABEL_KEY]){G1=z1[m][h.LABEL_KEY];}else if(m){G1=m;}}if(q.inArray(G1,D1)!=-1){if(z1&&z1[m]){var H1;if(z1[m][t1]){H1=z1[m][t1].Path?z1[m][t1].Path:z1[m][t1].String;}else if(z1[m][u1]){H1=z1[m][u1].Path?z1[m][u1].Path:z1[m][u1].String;}else if(z1[m][s1]){H1=z1[m][s1];}if(!H1){C1=false;return false;}if(H1&&z1[H1]){for(var i=0;i<A1.length;i++){var I1=A1[i];if(C1){if(B1&&I1[H1]&&(I1[H1]!="")&&(B1!="")&&(B1!=I1[H1])){C1=false;break;}}B1=I1[H1];}}}}});}var F1="";if(C1){if(B1!=""){F1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[B1]);F1=" "+F1;}if(f){f.setText(F1);f.data("aria-label",F1,true);}}}
function f1(m,d){var f=U.cacheODataMetadata(m);if(!f){return undefined;}return f[d];}
function g1(m,d,f){var j="",k="",s="";if(f){j=f.getText();}if(m&&(m.length>1)){for(var i=0;i<m.length-1;i++){if(k!=""){k+=", ";}k+=m[i];}k=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[k,m[i]]);}else if(m){k=m[0];}if(d&&(d.length>1)){for(var i=0;i<d.length-1;i++){if(s!=""){s+=", ";}s+=d[i];}s=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[s,d[i]]);}else if(d){s=d[0];}if(f&&(j==="")){j=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("NO_CHART_TITLE",[k,s]);f.setText(j);f.data("aria-label",j,true);}}
function h1(m,i){var d=1;var s;if(i){var f=N.getCurrencyInstance({style:'short',currencyCode:false,shortRefNumber:m});s=f.format(Number(d));}else{var j=N.getFloatInstance({style:'short',shortRefNumber:m});s=j.format(Number(d));}var k=s.slice(-1);return k;}
function i1(v,d){v.attachSelectData(function(f){var m=v.getModel('ovpCardProperties');var s=v.getModel();var r1=m.getProperty("/entitySet");var s1=f1(s,r1);var t1=[],u1=[];var v1={},w1={};var x1=v.getDataset().getDimensions();var y1;for(var i=0;i<x1.length;i++){t1.push(x1[i].getName());}var z1=q.map(v.getDataset().getBinding("data").getCurrentContexts(),function(x){return x.getObject();});if(f.getParameter("data")&&f.getParameter("data")[0]&&f.getParameter("data")[0].data){y1=f.getParameter("data")[0].data._context_row_number;var A1=v.getDataset().getBinding("data").getContexts()[y1];var B1=d.getEntityNavigationEntries(A1)[0];if(z1[y1].$isOthers&&z1[y1].$isOthers===true){var C1={$isOthers:true};var D1={getObject:function(){return C1;}};if(O.checkIfAPIIsUsed(d)){c.onContentClicked(D1);}else{if(B1){d.doNavigation(D1,B1);}}}else{u1=Object.keys(f.getParameter("data")[0].data);for(var j=0;j<t1.length;j++){for(var k=0;k<u1.length;k++){if(t1[j]===u1[k]){for(var E1 in s1){if(s1.hasOwnProperty(E1)){var F1=s1[E1][h.LABEL_KEY]||s1[E1][h.NAME_KEY]||s1[E1][h.NAME_CAP_KEY];if(F1===u1[k]){v1[E1]=z1[y1][E1];}}}}for(var E1 in z1[y1]){if(s1.hasOwnProperty(E1)){w1[E1]=z1[y1][E1];}}}}var D1={getObject:function(){return v1;},getAllData:function(){return w1;}};if(O.checkIfAPIIsUsed(d)){c.onContentClicked(D1);}else{if(B1){d.doNavigation(D1,B1);}}}}});}
function j1(d){if(d.EnumMember.endsWith("Bubble")){return true;}else{return false;}}
function k1(d){var f=false;if(!d||d.constructor!=Array||d.length<1||d[0].constructor!=Object||!d[0].Dimension||!d[0].Dimension.PropertyPath){q.sap.log.error(l.CHART_ANNO_ERROR+"in "+l.CHART_ANNO+" "+l.DIMENSIONS_MANDATORY);return f;}f=true;return f;}
function l1(m){var d=false;if(!m||m.constructor!=Array||m.length<1||m[0].constructor!=Object||!m[0].Measure||!m[0].Measure.PropertyPath){q.sap.log.error(l.CHART_ANNO_ERROR+"in "+l.CHART_ANNO+" "+l.MEASURES_MANDATORY);return d;}d=true;return d;}
function m1(d){return d.name;}
function n1(d){if(d&&d.indexOf("#")!=-1){var f=d.split("#");if(f.length>1){return f[1];}}return"";}
function o1(d,v){var f=v.getModel('ovpCardProperties');var i=p1(v);var m=+i.itemsLength;var j=+f.getProperty("/dataStep");if(m&&j){var k=d.colSpan-1;if(k>=0){m+=j*k;q1(v,m);}}}
function p1(v){var d=v.getModel('ovpCardProperties');var f=d.getProperty("/entityType");var i=d.getProperty("/presentationAnnotationPath");var j=f.hasOwnProperty(i)&&f[i];var m=j&&j.MaxItems;if(m){var k=m.Int32?m.Int32:m.Int;return{itemsLength:+k,dataStep:+d.getProperty("/dataStep")};}}
function q1(v,d){var f,j={},k=[];var s=v.getVizType();var x=v.getModel('ovpCardProperties');var r1=x.getProperty("/entityType");var s1=x.getProperty("/chartAnnotationPath");var t1=r1[s1];var u1=v.getParent();var v1=u1.getBinding("data");j.path=v1.getPath();j.parameters={};j.parameters.select=v1.mParameters.select;j.filters=v1.aApplicationFilters;j.sorter=v1.aSorters;j.length=(s==="donut")?d+1:d;j.template=new g();u1.bindAggregation("data",j);if(s==="donut"){q.each(t1.MeasureAttributes,function(i,m){k.push(m.Measure.PropertyPath);});f={};f.path=v1.getPath();f.parameters={};f.parameters.select=k.join(",");f.filters=v1.aApplicationFilters;f.sorter=v1.aSorters;f.length=1;f.template=new g();u1.bindAggregation("aggregateData",f);}u1.updateBindingContext();}
return{constants:h,errorMessages:l,formatItems:n,formatByType:y,returnDateFormat:z,formatChartAxes:A,hideDateTimeAxis:B,checkExists:E,validateCardConfiguration:H,checkNoData:I,getConfig:J,hasTimeSemantics:K,getChartType:L,getPrimitiveValue:Q,formThePathForCriticalityStateCalculation:T,checkFlag:Y,buildVizAttributes:d1,setChartUoMTitle:e1,getMetadata:f1,getSelectedDataPoint:i1,checkBubbleChart:j1,dimensionAttrCheck:k1,measureAttrCheck:l1,getEntitySet:m1,getAnnotationQualifier:n1,reprioritizeContent:o1,getMaxItems:p1};},true);
sap.ui.predefine('sap/ovp/cards/charts/analytical/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/charts/VizAnnotationManager","jquery.sap.global"],function(C,V,q){"use strict";return C.extend("sap.ovp.cards.charts.analytical.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.charts.analytical.analyticalChart"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.charts.analytical.analyticalChart"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:["sap.viz"],components:[]},config:{}},onAfterRendering:function(){q(".tabindex0").attr("tabindex",0);q(".tabindex-1").attr("tabindex",-1);}});});
sap.ui.predefine('sap/ovp/cards/charts/analytical/analyticalChart.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ovp/cards/charts/VizAnnotationManager","sap/viz/ui5/data/FlattenedDataset","sap/ovp/cards/OVPCardAsAPIUtils"],function(C,q,V,F,O){"use strict";return C.extend("sap.ovp.cards.charts.analytical.analyticalChart",{onInit:function(){C.prototype.onInit.apply(this,arguments);V.formatChartAxes();},onBeforeRendering:function(){if(this.bCardProcessed){return;}V.validateCardConfiguration(this);var v=this.getView().byId("analyticalChart");var c=this.getOwnerComponent().getComponentData();if(this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"&&c.appComponent){var d=c.appComponent.getDashboardLayoutUtil();var o=d.dashboardLayoutModel.getCardById(c.cardId);if(o.dashboardLayout.autoSpan&&v){v.setHeight("340px");}}var a=this.getView().byId("vbLayout");var n;var i=false;var D=new F({data:{path:"/"}});this.isVizPropSet=i;this.oDataSet=D;this.vizFrame=v;this.vbLayout=a;if(!v){q.sap.log.error(V.constants.ERROR_NO_CHART+": ("+this.getView().getId()+")");}else{this.vbLayout.setBusy(true);n=v.getModel('ovpCardProperties').getProperty("/navigation");if(n===undefined||n=="datapointNav"||n!="headerNav"){V.getSelectedDataPoint(v,this);}v.destroyDataset();var b=v.getParent().getBinding("data");this._handleKPIHeader();if(b&&b.getPath()){b.attachDataReceived(q.proxy(this.onDataReceived,this));b.attachDataRequested(q.proxy(this.onDataRequested,this));}else{var e=sap.ui.xmlfragment("sap.ovp.cards.charts.generic.noData");var f=this.getCardContentContainer();f.removeAllItems();f.addItem(e);}v.addEventDelegate({onmouseover:function(){var g=v._oOvpVizFrameTooltip;if(g){g._oPopup.close();}}});}this.bCardProcessed=true;},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);if(!O.checkIfAPIIsUsed(this)&&this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"){var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var s=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var e=document.getElementById(s);var h=this.getHeaderHeight();if(!c.dashboardLayout.autoSpan){var o=e.getElementsByClassName('sapOvpWrapper')[0];if(o){o.style.height=c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX+2-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX)+"px";}}if(c.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}var v=this.getView().byId("analyticalChart");if(v){v.setHeight(this._calculateVizFrameHeight()+"px");}}},onDataReceived:function(e){var t=this;var a=this.getView().byId("analyticalChart");var b=this.getView().byId("bubbleText");var c=this.getView().byId("ovpCT");var d=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");this.oDataSet.bindData("analyticalmodel>/","");a.setDataset(this.oDataSet);var h=a.getParent();if(!this.isVizPropSet){V.buildVizAttributes(a,h,c,this);this.isVizPropSet=true;if(b!=undefined){var f=a.getFeeds();q.each(f,function(i,v){if(f[i].getUid()=="bubbleWidth"){b.setText(d+" "+f[i].getValues());}});}V.hideDateTimeAxis(a);}var g=this.getView().byId("ovpUoMTitle");var j=e?e.getParameter('data'):null;V.setChartUoMTitle(a,j,g);if(this.bFlag==true){this.bFlag=false;this.vbLayout.setBusy(false);}else{setTimeout(function(){t.vbLayout.setBusy(false);},0);}V.checkNoData(e,this.getCardContentContainer(),a);},onDataRequested:function(){this.vbLayout.setBusy(true);},getCardItemsBinding:function(){var v=this.getView().byId("analyticalChart");if(v&&v.getDataset()&&v.getDataset().getBinding("data")&&this.vbLayout){this.vbLayout.setBusy(false);}if(v&&v.getParent()){return v.getParent().getBinding("data");}return null;},resizeCard:function(n){var c=this.getCardPropertiesModel();this.newCardLayout=n;c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);var o=this.getCardPropertiesModel().getProperty("/cardLayout");var h=this.getHeaderHeight();q(this.getView().$()).find(".sapOvpWrapper").css({height:(n.rowSpan*o.iRowHeightPx+2)-(h+2*o.iCardBorderPx)+"px"});var a=this.getView().byId("analyticalChart");var b=this.getView().byId("bubbleText");var d=this.getView().byId("ovpCT");if(a){if(a.getVizType()==='timeseries_bubble'||a.getVizType()==='bubble'){if(o.colSpan>1){b.setVisible(false);}else{b.setVisible(true);}}a.setHeight(this._calculateVizFrameHeight()+"px");}var e=this.getView().byId('ovpCardContentContainer').getDomRef();if(e){if(!n.showOnlyHeader){e.classList.remove('sapOvpContentHidden');}else{e.classList.add('sapOvpContentHidden');}}var f=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");this.oDataSet.bindData("analyticalmodel>/","");this.vizFrame.setDataset(this.oDataSet);var g=a.getParent();if(!this.isVizPropSet){V.buildVizAttributes(a,g,d,this);this.isVizPropSet=true;if(b!=undefined){var j=a.getFeeds();q.each(j,function(i,v){if(j[i].getUid()=="bubbleWidth"){b.setText(f+" "+j[i].getValues());}});}V.hideDateTimeAxis(a);}V.reprioritizeContent(this.newCardLayout,a);},_calculateVizFrameHeight:function(){var v;var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var a=this.getView().byId("analyticalChart");if(c){var g=this.getView().getController();var d=this.getItemHeight(g,'toolbar');var h=this.getHeaderHeight();var i=this.getView().byId("ovpCT")?24:0;var b=(a.getVizType()==='timeseries_bubble'||a.getVizType()==="bubble")&&c.dashboardLayout.colSpan===1?43:0;v=c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX+2-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX+d+i+b+30);}return v;},refreshCard:function(){this.getView().rerender();}});});
sap.ui.predefine('sap/ovp/cards/charts/generic/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.charts.generic.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"selectionAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.SelectionVariant"},"chartAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Chart"},"presentationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.PresentationVariant"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"dataPointAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.DataPoint"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}},addTabindex:function(){jQuery(".tabindex0").attr("tabindex",0);jQuery(".tabindex-1").attr("tabindex",-1);},onAfterRendering:function(){this.addTabindex();}});});
sap.ui.predefine('sap/ovp/cards/charts/smart/chart/Component',["sap/ovp/cards/generic/Component","jquery.sap.global","sap/ovp/cards/charts/SmartAnnotationManager"],function(C,q,S){"use strict";return C.extend("sap.ovp.cards.charts.smart.chart.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.charts.smart.chart.analyticalChart"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.charts.smart.chart.analyticalChart"}},version:"@version@",library:"sap.ovp",includes:[],dependencies:{libs:["sap.m","sap.viz","sap.ui.comp"],components:[]},config:{}},onAfterRendering:function(){q(".tabindex0").attr("tabindex",0);q(".tabindex-1").attr("tabindex",-1);}});});
sap.ui.predefine('sap/ovp/cards/charts/smart/chart/analyticalChart.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ovp/cards/charts/VizAnnotationManager","sap/ui/comp/odata/MetadataAnalyser","sap/ovp/cards/charts/SmartAnnotationManager","sap/ui/model/Filter","sap/ovp/cards/AnnotationHelper","sap/ui/model/Sorter"],function(C,q,V,M,S,F,A,a){"use strict";return C.extend("sap.ovp.cards.charts.smart.chart.analyticalChart",{onInit:function(){C.prototype.onInit.apply(this,arguments);V.formatChartAxes();this.bFlag=true;var e=M.prototype._enrichChartAnnotation;var l,i,o;M.prototype._enrichChartAnnotation=function(b,c){if(c){if(!c.Measures){c.Measures=[];if(c.MeasureAttributes){l=c.MeasureAttributes.length;for(i=0;i<l;i++){o=c.MeasureAttributes[i];c.Measures.push({"PropertyPath":o.Measure.PropertyPath});}}}if(!c.Dimensions){c.Dimensions=[];if(c.DimensionAttributes){l=c.DimensionAttributes.length;for(i=0;i<l;i++){o=c.DimensionAttributes[i];c.Dimensions.push({"PropertyPath":o.Dimension.PropertyPath});}}}}e.apply(this,arguments);};},onBeforeRendering:function(){var s=this.getView().byId("analyticalChart2");var v=s&&s._getVizFrame();if(v){this.vizFrame=v;var b=this.getView().byId("vbLayout");this.vbLayout=b;this.isVizPropSet=false;var c=s.getChart();c.setProperty("enableScalingFactor",true);S.getSelectedDataPoint(v,this);S.attachDataReceived(s,this);}},getCardItemsBinding:function(){var s=this.getView().byId("analyticalChart2");var v=s&&s._getVizFrame();if(v&&v.getDataset()&&v.getDataset().getBinding("data")&&this.vbLayout){this.vbLayout.setBusy(false);}if(v&&v.getParent()){return v.getParent().getBinding("data");}return null;},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);var s=this.getView().byId("analyticalChart2");var c=s.getChart();var n=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("noDataForSmartCharts");c.setCustomMessages({'NO_DATA':n});var o=this.getOwnerComponent().getComponentData();if(this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"&&o.appComponent){var d=o.appComponent.getDashboardLayoutUtil();var b=d.getCardDomId(o.cardId);var e=d.dashboardLayoutModel.getCardById(o.cardId);var f=document.getElementById(b);f.getElementsByClassName('sapOvpWrapper')[0].style.height=e.dashboardLayout.rowSpan*d.ROW_HEIGHT_PX+1-(e.dashboardLayout.headerHeight+2*d.CARD_BORDER_PX)+"px";var g=Math.round((e.dashboardLayout.headerHeight+2*d.CARD_BORDER_PX)/d.ROW_HEIGHT_PX);if(e.dashboardLayout.rowSpan<=g){f.classList.add("sapOvpMinHeightContainer");}if(s){s._getVizFrame().setHeight(this._calculateVizFrameHeight()+"px");}}var h=s&&s.getChart();if(h){var v=s&&s._getVizFrame();var u=false;h.addEventDelegate({onAfterRendering:function(){var D="";if(v&&v._states()&&v._states()["dynamicScale"]&&!u){var i=this.getView().byId("ovpUoMTitle");var j=h.getScalingFactor();var k=j&&j.primaryValues&&j.primaryValues.scalingFactor;var U=j&&j.primaryValues&&j.primaryValues.unit;if(k&&U){D=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN",[k,U]);}else if(k&&!U){D=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[k]);}else if(!k&&U){D=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[U]);}if(D!==""){i.setText(D);}u=true;}}.bind(this)});}},beforeRebindSmartChart:function(e){var c=this.getView().byId("analyticalChart2");c.attachBeforeRebindChart(q.proxy(this.beforeRebindSmartChart,this));var b=e.getParameter("bindingParams");this.dataLength=this.getChartBindingLength();b.length=this.dataLength;var f=b.filters;var s=b.sorter;var o=this.getCardPropertiesModel();var d=o.getData();var g=d.entityType[d.selectionAnnotationPath];var h=g&&g.SelectOptions;var i=this.getModel();var E=this.getEntitySet();var m=S.getMetadata(this.getModel(),d.entitySet);var p=d.entityType[d.presentationAnnotationPath];var j=p&&p.SortOrder;if(h){q.each(g.SelectOptions,function(){var l=this.PropertyName.PropertyPath;q.each(this.Ranges,function(){if(this.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"){var n=S.getPrimitiveValue(this.Low);var r=this.High&&this.High.String;n=S.formatByType(m,l,n);var t={path:l,operator:this.Option.EnumMember.split("/")[1],value1:n};if(r){t.value2=S.formatByType(m,l,r);}f.push(new F(t));}});});}if(j){q.each(p.SortOrder,function(){var l=this.Property.PropertyPath;var n=this.Descending.Boolean||this.Descending.Bool;var r={sPath:l,bDescending:n=="true"?true:false};s.push(new a(l,r.bDescending));});}var k="";var P=o.getProperty('/parameters');var G=this.oMainComponent&&this.oMainComponent.getGlobalFilter();k=A.resolveParameterizedEntitySet(i,E,g,P,G);c.setChartBindingPath(k);},getChartBindingLength:function(){var c=this.getView().byId("analyticalChart2"),o=S.getMaxItems(c),b=+this.getCardPropertiesModel().getProperty("/cardLayout/colSpan")-1,l;if(o&&o.itemsLength&&o.dataStep&&this.getCardPropertiesModel().getProperty('/layoutDetail')==='resizable'){l=o.itemsLength+b*o.dataStep;}else if(o&&o.itemsLength&&this.getCardPropertiesModel().getProperty('/layoutDetail')!=='resizable'){l=o.itemsLength;}else{l=100;}return l;},resizeCard:function(n,$){var c=this.getCardPropertiesModel(),s=this.getView().byId("analyticalChart2"),o=this.getCardPropertiesModel().getProperty("/cardLayout"),O=this.getView().byId('ovpCardContentContainer').getDomRef();c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);this.bSorterSetForCustomCharts=false;n.showOnlyHeader?O.classList.add('sapOvpContentHidden'):O.classList.remove('sapOvpContentHidden');q(this.getView().$()).find(".sapOvpWrapper").css({height:(n.rowSpan*o.iRowHeightPx)-(o.headerHeight+2*o.iCardBorderPx)+"px"});if(s){if(this.dataLength!==this.getChartBindingLength()||(n.showOnlyHeader===false&&(this.oldShowOnlyHeaderFlag===true||this.oldShowOnlyHeaderFlag===undefined))){s.rebindChart();}s._getVizFrame().setHeight(this._calculateVizFrameHeight()+"px");}this.oldShowOnlyHeaderFlag=n.showOnlyHeader;},_calculateVizFrameHeight:function(){var v,c=this.getCardPropertiesModel().getProperty("/cardLayout");if(c&&c.rowSpan){var g=this.getView().getController();var d=this.getItemHeight(g,'toolbar');var b=this.getView().byId("bubbleText");var i=this.getView().byId("ovpCT")?20:0;var B=b&&b.getVisible()?70:20;v=c.rowSpan*c.iRowHeightPx+1-(c.headerHeight+2*c.iCardBorderPx+d+i+B+30);}return v;}});});
sap.ui.predefine('sap/ovp/cards/custom/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.custom.Component",{metadata:{properties:{"contentFragment":{"type":"string"},"headerExtensionFragment":{"type":"string"},"contentPosition":{"type":"string","defaultValue":"Middle"},"footerFragment":{"type":"string"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"selectionAnnotationPath":{"type":"string"},"filters":{"type":"object"},"parameters":{"type":"object"},"addODataSelect":{"type":"boolean","defaultValue":false}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/error/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";
var e=C.extend("sap.ovp.cards.error.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.error.Error"},"state":{"type":"string","defaultValue":"Error"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.error.Error"}},version:"1.56.5",library:"sap.ovp"}});
return e;});
sap.ui.predefine('sap/ovp/cards/error/Error.controller',["sap/ovp/cards/generic/Card.controller"],function(C){"use strict";return C.extend("sap.ovp.cards.error.Error",{onInit:function(){C.prototype.onInit.apply(this,arguments);},adjustCardSize:function(){var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);if(c.template!=="sap.ovp.cards.stack"){var l=this.oMainComponent&&this.oMainComponent.getLayout();var d=l.getDashboardLayoutUtil();var s=d.getCardDomId(this.sCardId);var D=document.getElementById(s);var h=this.getHeaderHeight();D.getElementsByClassName("contentOfError")[0].style.height=D.getElementsByClassName("sapOvpCardContentContainer")[0].style.height=(c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX)-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX)+"px";}},onAfterRendering:function(){if(this.oMainComponent.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){C.prototype.onAfterRendering.apply(this,arguments);this.adjustCardSize();}},resizeCard:function(){try{this.adjustCardSize();}catch(e){jQuery.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});});
sap.ui.predefine('sap/ovp/cards/generic/Card.controller',["sap/ui/core/mvc/Controller","sap/ovp/cards/ActionUtils","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/generic/app/navigation/service/PresentationVariant","sap/ovp/cards/CommonUtils","sap/ovp/cards/OVPCardAsAPIUtils","sap/ui/core/ResizeHandler","sap/ui/core/format/NumberFormat","sap/ovp/cards/AnnotationHelper","sap/ui/model/odata/AnnotationHelper","sap/m/MessageBox","sap/ui/generic/app/navigation/service/NavError","sap/ui/core/CustomData","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/m/Dialog","sap/m/Button","sap/m/MessageToast","sap/ui/core/TextDirection","sap/ovp/cards/loading/State","sap/ui/generic/app/library","jquery.sap.global"],function(C,A,S,P,a,O,R,N,b,c,M,d,e,F,J,D,B,f,T,L,G,q){"use strict";return C.extend("sap.ovp.cards.generic.Card",{onInit:function(){this.oCardComponent=this.getOwnerComponent();this.oCardComponentData=this.oCardComponent&&this.oCardComponent.getComponentData();this.oMainComponent=this.oCardComponentData&&this.oCardComponentData.mainComponent;this.sCardId=this.oCardComponentData.cardId;var s=this.getView().mPreprocessors.xml[0].ovpCardProperties.oData.state;if(s!=="Loading"&&s!=="Error"){var h=this.getView().byId("ovpCardHeader");if(!!h){h.attachBrowserEvent("click",this.onHeaderClick.bind(this));h.addEventDelegate({onkeydown:function(E){if(!E.shiftKey&&(E.keyCode==13||E.keyCode==32)){E.preventDefault();this.onHeaderClick();}}.bind(this)});}}var n=this.getView().byId("kpiNumberValue");if(n){n.addEventDelegate({onAfterRendering:function(){var $=n.$();var g=$.find(".sapMNCValueScr");var i=$.find(".sapMNCScale");g.attr("aria-label",g.text());i.attr("aria-label",i.text());var j=this.getView().byId("ovpCardHeader").getDomRef();var o=this.getOwnerComponent().getComponentData();if(!!o&&!!o.appComponent){var k=o.appComponent;if(!!k.getModel("ui")){var u=k.getModel("ui");if(!!u.getProperty("/containerLayout")&&u.getProperty("/containerLayout")==="resizable"){var l=o.appComponent.getDashboardLayoutUtil();if(!!l){l.setKpiNumericContentWidth(j);}}}}}.bind(this)});}},exit:function(){if(this.resizeHandlerId){R.deregister(this.resizeHandlerId);}},onAfterRendering:function(){var o=this.getCardPropertiesModel();this.enableClick=true;var s=o.getProperty("/contentFragment");var g=this.getOwnerComponent().getComponentData();this._handleCountHeader();this._handleKPIHeader();var h=o.getProperty("/selectedKey");if(h&&o.getProperty("/state")!=='Loading'){var i=this.getView().byId("ovp_card_dropdown");if(i){i.setSelectedKey(h);}}try{var g=this.getOwnerComponent().getComponentData();if(g&&g.appComponent){var j=g.appComponent;if(j.getModel('ui')){var u=j.getModel('ui');if(u.getProperty('/containerLayout')==='resizable'){var k=j.getDashboardLayoutUtil();if(k){this.oDashboardLayoutUtil=k;this.cardId=g.cardId;if(k.isCardAutoSpan(g.cardId)){this.resizeHandlerId=R.register(this.getView(),function(Q){q.sap.log.info('DashboardLayout autoSize:'+Q.target.id+' -> '+Q.size.height);k.setAutoCardSpanHeight(Q);});}}}}}}catch(l){q.sap.log.error("DashboardLayout autoSpan check failed.");}if(this.oDashboardLayoutUtil&&this.oDashboardLayoutUtil.isCardAutoSpan(this.cardId)){var $=q("#"+this.oDashboardLayoutUtil.getCardDomId(this.cardId));if(this.oView.$().outerHeight()>$.innerHeight()){this.oDashboardLayoutUtil.setAutoCardSpanHeight(null,this.cardId,this.oView.$().height());}}var I=0;if(g&&g.mainComponent){var m=g.mainComponent;if(m.bGlobalFilterLoaded){I=this.checkNavigation();}}else if(O.checkIfAPIIsUsed(this)){I=this.checkNavigation();}var n=this.getCardPropertiesModel();var p=n.getProperty("/state");if(p!=="Loading"&&p!=="Error"){var r=n.getProperty("/template");if(r==="sap.ovp.cards.stack"){if(!I){var v=this.getView().byId('ViewAll');if(v){v=v.getDomRef();q(v).remove();}}}}if(I){if(s?s!=="sap.ovp.cards.quickview.Quickview":true){if(s==="sap.ovp.cards.stack.Stack"){var t=this.getView().getDomRef();var w=q(t).find('.sapOvpCardContentRightHeader');if(w.length!==0){w.addClass('sapOvpCardNavigable');}}else{this.getView().addStyleClass("sapOvpCardNavigable");}}if(s&&s==="sap.ovp.cards.quickview.Quickview"){var H=this.byId("ovpCardHeader");if(H){H.addStyleClass("sapOvpCardNavigable");}}}else{if(s){this.getView().addStyleClass("ovpNonNavigableItem");var H=this.byId("ovpCardHeader");if(H){H.$().removeAttr('role');H.addStyleClass('ovpNonNavigableItem');}var x=this.checkLineItemNavigation();if(!x){switch(s){case"sap.ovp.cards.list.List":var y=this.getView().byId("listItem");if(y){y.setType("Inactive");}break;case"sap.ovp.cards.table.Table":var y=this.getView().byId("tableItem");if(y){y.setType("Inactive");}break;case"sap.ovp.cards.linklist.LinkList":if(!this.checkNavigationForLinkedList()){var y=this.getView().byId("ovpCLI");if(y){y.setType("Inactive");}}break;}}}}var z=this.getView().byId("ovp_card_dropdown");var E=this.getView().byId("toolbar");if(E){var K=E.getDomRef();q(K).attr("aria-label",z.getSelectedItem().getText());}},checkNavigation:function(){var o=this.getCardPropertiesModel();var E=this.getEntityType();if(E){if(o){var i=o.getProperty("/identificationAnnotationPath");var s=i;var g=o.getProperty("/contentFragment");if(g&&(g==="sap.ovp.cards.stack.Stack"||g==="sap.ovp.cards.quickview.Quickview")){var h=(i)?i.split(","):[];if(h&&h.length>1){if(g==="sap.ovp.cards.stack.Stack"){s=h[0];}else{s=h[1];}}}var r=E[s];if(this.isNavigationInAnnotation(r)){return 1;}if(o&&o.getProperty("/template")==="sap.ovp.cards.charts.analytical"){var k=o.getProperty("/kpiAnnotationPath");if(E&&k){var j=E[k];var l=j.Detail&&j.Detail.SemanticObject&&j.Detail.SemanticObject.String;var m=j.Detail&&j.Detail.Action&&j.Detail.Action.String;if(l&&m){return 1;}}}}}else if(o&&o.getProperty("/template")==="sap.ovp.cards.linklist"&&o.getProperty("/staticContent")&&o.getProperty("/targetUri")){return 1;}return 0;},checkNavigationForLinkedList:function(){if(this.getEntityType()){var E=this.getEntityType();var l=E['com.sap.vocabularies.UI.v1.LineItem'];if(l&&(l[0].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||l[0].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")){return true;}}return false;},checkLineItemNavigation:function(){if(this.getEntityType()){var E=this.getEntityType();var o=this.getCardPropertiesModel();if(o){var s=o.getProperty("/annotationPath");var r=E[s];return this.isNavigationInAnnotation(r);}}},isNavigationInAnnotation:function(r){if(r&&r.length){for(var i=0;i<r.length;i++){var I=r[i];if(I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){return 1;}}}return 0;},onHeaderClick:function(){if(O.checkIfAPIIsUsed(this)){a.onHeaderClicked();}else{var o=this.getCardPropertiesModel();var t=o.getProperty("/template");var s=o.getProperty("/targetUri");if(t=="sap.ovp.cards.linklist"&&o.getProperty("/staticContent")!==undefined&&s){window.location.href=s;}else if(o.getProperty("/staticContent")!==undefined&&s===""){return;}else{this.doNavigation(this.getView().getBindingContext());}}},resizeCard:function(g){q.sap.log.info(g);if(this.resizeHandlerId){R.deregister(this.resizeHandlerId);this.resizeHandlerId=null;}},_handleCountHeader:function(){var g=this.getView().byId("ovpCountHeader");if(g){var i=this.getCardItemsBinding();if(i){this.setHeaderCounter(i,g);i.attachDataReceived(function(){this.setHeaderCounter(i,g);}.bind(this));i.attachChange(function(){this.setHeaderCounter(i,g);}.bind(this));}}},setHeaderCounter:function(i,g){var t=i.getLength();var h=i.getCurrentContexts().length;var o,j="";var n=N.getIntegerInstance({minFractionDigits:0,maxFractionDigits:1,decimalSeparator:".",style:"short"});h=parseFloat(h,10);var k=this.getOwnerComponent().getComponentData();if(k&&k.appComponent){var l=k.appComponent;if(l.getModel('ui')){var u=l.getModel('ui');if(u.getProperty('/containerLayout')!=='resizable'){if(t!==0){t=n.format(Number(t));}if(h!==0){h=n.format(Number(h));}}else{o=l.getDashboardLayoutUtil().dashboardLayoutModel.getCardById(k.cardId);}}}if(h===0){j="";}else if(o&&o.dashboardLayout.showOnlyHeader){j=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Count_Header_Total",[t]);}else if(t!=h){j=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Count_Header",[h,t]);}g.setText(j);var m=g.$();m.attr("aria-label",j);},_handleKPIHeader:function(){var k,s;if(this.getView()&&this.getView().getDomRef()){k=this.getView().getDomRef().getElementsByClassName("numericContentHbox");s=this.getView().getDomRef().getElementsByClassName("noDataSubtitle");}else{return;}if(k||s){var i=this.getCardItemsBinding();if(i){i.attachDataReceived(function(){this._setSubTitleWithUnitOfMeasure(i);var t=i.getLength();if(k[0]){k[0].style.visibility=null;if(t===0){k[0].style.visibility='hidden';}else{k[0].style.visibility='visible';}}if(s.length!==0){s[0].style.display="none";if(t===0){s[0].style.display="flex";}}}.bind(this));}}},_setSubTitleWithUnitOfMeasure:function(i){var o=this.getCardPropertiesModel();if(!!o){var g=o.getData();var s=this.getView().byId("SubTitle-Text");if(!!s){s.setText(g.subTitle);if(!!g&&!!g.entityType&&!!g.dataPointAnnotationPath){var E=o.getData().entityType;var h=g.dataPointAnnotationPath.split("/");var j=h.length===1?E[g.dataPointAnnotationPath]:E[h[0]][h[1]];var m;if(j&&j.Value&&j.Value.Path){m=j.Value.Path;}else if(j&&j.Description&&j.Description.Value&&j.Description.Value.Path){m=j.Description.Value.Path;}if(!!m){var p=a.getUnitColumn(m,E);var k=this.byId("kpiHeader");if(!!k){var l=k.getAggregation("items")[0];if(!!l){var n=l.getItems()[0];if(!!n){var r=n.getBindingContext().getPath();if(!!r){var u;var t=this.getModel();var v=t.getContext(r);if(!!p&&!!v){u=v.getProperty(p);}else{u=a.getUnitColumn(m,E,true);}var w=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("SubTitle_IN");if(!!g.subTitle&&!!w&&!!u){s.setText(g.subTitle+" "+w+" "+u);var x=s.getAggregation("customData");if(x){var y;for(y in x){var z=x[y];if(z.getKey()==="aria-label"){z.setValue(g.subTitle+" "+w+" "+u);break;}}}}}}}}}}}}},getCardItemsBinding:function(){},onActionPress:function(E){var s=E.getSource(),o=this._getActionObject(s),g=s.getBindingContext();if(o.type.indexOf("DataFieldForAction")!==-1){this.doAction(g,o);}else{this.doNavigation(g,o);}},_getActionObject:function(s){var g=s.getCustomData();var o={};for(var i=0;i<g.length;i++){o[g[i].getKey()]=g[i].getValue();}return o;},doNavigation:function(o,n){if(!this.enableClick){return;}this.enableClick=false;setTimeout(function(){this.enableClick=true;}.bind(this),1000);if(!this.oMainComponent){return;}if(!n){n=this.getEntityNavigationEntries(o)[0];}var g=q.extend(true,{},o);var h=q.extend(true,{},n);var i=this.oMainComponent.doCustomNavigation&&this.oMainComponent.doCustomNavigation(this.sCardId,g,h);if(i){var t=i.type;if(t&&typeof t==="string"&&t.length>0){t=t.split(".").pop().split("/").pop().toLowerCase();switch(t){case"datafieldwithurl":i.type="com.sap.vocabularies.UI.v1.DataFieldWithUrl";break;case"datafieldforintentbasednavigation":i.type="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation";break;}n=i;}}function p(){if(n){switch(n.type){case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":this.doNavigationWithUrl(o,n);break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":this.doIntentBasedNavigation(o,n,false);break;case"com.sap.vocabularies.UI.v1.KPIDetailType":this.doIntentBasedNavigation(o,n,false);break;}}}if(!this.oMainComponent.oAppStatePromise){p.call(this);}else{this.oMainComponent.oAppStatePromise.then(p.bind(this));}},doNavigationWithUrl:function(o,n){if(!sap.ushell.Container){return;}var p=sap.ushell.Container.getService("URLParsing");if(!(p.isIntentUrl(n.url))){window.open(n.url);}else{var g=p.parseShellHash(n.url);var w=g.appSpecificRoute?true:false;this.doIntentBasedNavigation(o,g,w);}},fnHandleError:function(E){if(E instanceof d){if(E.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){M.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE")});}else{M.show(E.getErrorCode(),{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE")});}}},doCrossApplicationNavigation:function(I,n){var s="#"+I.semanticObject+'-'+I.action;if(I.params){var o=this.oCardComponent&&this.oCardComponent.getComponentData();var g=o&&o.appComponent;if(g){var p=g._formParamString(I.params);s=s+p;}}var t=this;if(!sap.ushell.Container){return;}sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported([s]).done(function(r){if(r[s].supported===true){if(!!n.params){if(typeof n.params=='string'){try{n.params=JSON.parse(n.params);}catch(h){q.sap.log.error("Could not parse the Navigation parameters");return;}}}var o=t.getOwnerComponent().getComponentData();var k=o?o.globalFilter:undefined;var u=k&&k.getUiState({allFilters:false});var l=u?JSON.stringify(u.getSelectionVariant()):"{}";k=q.parseJSON(l);if(!n.params){n.params={};}if(!!k&&!!k.SelectOptions){for(var i=0;i<k.SelectOptions.length;i++){var m=k.SelectOptions[i].Ranges;if(!!m){var v=[];for(var j=0;j<m.length;j++){if(m[j].Sign==="I"&&m[j].Option==="EQ"){v.push(m[j].Low);}}n.params[k.SelectOptions[i].PropertyName]=v;}}}sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(n);}else{var E=new d("NavigationHandler.isIntentSupported.notSupported");t.fnHandleError(E);}}).fail(function(){q.sap.log.error("Could not get authorization from isIntentSupported");});},doIntentBasedNavigation:function(o,i,u){if(!sap.ushell.Container){return;}var p,n,g,E=o?o.getObject():null;var h=this.getCardPropertiesModel(),s=h.getProperty("/customParams");if(o&&typeof o.getAllData==="function"&&s){g=o.getAllData();}if(E&&E.__metadata){delete E.__metadata;}var j=a.getNavigationHandler();if(j){if(i){p=this._getEntityNavigationParameters(E,g);n={target:{semanticObject:i.semanticObject,action:i.action},appSpecificRoute:i.appSpecificRoute,params:p.sNavSelectionVariant};var k=null;if(p.sNavPresentationVariant){k=this.oMainComponent&&this.oMainComponent._getCurrentAppState();if(k){k.presentationVariant=p.sNavPresentationVariant;}}if(u){if(i&&i.semanticObject&&i.action){var l=this.getCardPropertiesModel().getProperty("/staticParameters");n.params=(!!l)?l:{};this.doCrossApplicationNavigation(i,n);}}else{j.navigate(n.target.semanticObject,n.target.action,n.params,k,this.fnHandleError);}}}},doAction:function(o,g){this.actionData=A.getActionInfo(o,g,this.getEntityType());if(this.actionData.allParameters.length>0){this._loadParametersForm();}else{this._callFunction();}},getEntityNavigationEntries:function(o,s){var n=[];var E=this.getEntityType();var g=this.getCardPropertiesModel();if(!E){return n;}if(!s&&!o){var k=g.getProperty("/kpiAnnotationPath");var h=g.getProperty("/template");if(k&&h==="sap.ovp.cards.charts.analytical"){s=k;var r=E[s];var j=r&&r.Detail;var l=j.SemanticObject&&j.SemanticObject.String;var m=j.Action&&j.Action.String;if(j.RecordType==="com.sap.vocabularies.UI.v1.KPIDetailType"){if(l&&m){n.push({type:j.RecordType,semanticObject:l,action:m,label:""});}else{q.sap.log.error("Invalid Semantic object and action configured for annotation "+j.RecordType);}}}}if(!s){var I=g.getProperty("/identificationAnnotationPath");var p=(I)?I.split(","):[];if(p&&p.length>1){s=p[0];}else{s=I;}}var t=E[s];if(q.isArray(t)){t=b.sortCollectionByImportance(t);for(var i=0;i<t.length;i++){if(t[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n.push({type:t[i].RecordType,semanticObject:t[i].SemanticObject.String,action:t[i].Action.String,label:t[i].Label?t[i].Label.String:null});}if(t[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&!t[i].Url.UrlRef){var u=this.getView().getModel();var v=u.oMetaModel;var w=v.createBindingContext(E.$path);var x=c.format(w,t[i].Url);var y=new e({key:"url",value:x});y.setModel(u);y.setBindingContext(o);var U=y.getValue();n.push({type:t[i].RecordType,url:U,value:t[i].Value.String,label:t[i].Label?t[i].Label.String:null});}}}return n;},getModel:function(){return this.getView().getModel();},getMetaModel:function(){if(this.getModel()){return this.getModel().getMetaModel();}},getCardPropertiesModel:function(){if(!this.oCardPropertiesModel||q.isEmptyObject(this.oCardPropertiesModel)){this.oCardPropertiesModel=this.getView().getModel("ovpCardProperties");}return this.oCardPropertiesModel;},getEntitySet:function(){if(!this.entitySet){var E=this.getCardPropertiesModel().getProperty("/entitySet");this.entitySet=this.getMetaModel().getODataEntitySet(E);}return this.entitySet;},getEntityType:function(){if(!this.entityType){if(this.getMetaModel()&&this.getEntitySet()){this.entityType=this.getMetaModel().getODataEntityType(this.getEntitySet().entityType);}}return this.entityType;},getCardContentContainer:function(){if(!this.cardContentContainer){this.cardContentContainer=this.getView().byId("ovpCardContentContainer");}return this.cardContentContainer;},_processCustomParameters:function(o,s,g){var h=this.getCardPropertiesModel();if(!this.oMainComponent||!h){return;}var j=h.getProperty("/customParams");if(!j||!this.oMainComponent.onCustomParams){return;}var k=this.oMainComponent.onCustomParams(j);if(!k||!q.isFunction(k)){return;}var l=q.extend(true,{},o);var m=q.extend(true,{},s);var n=k(l,m);if(!n||(!q.isArray(n)&&!q.isPlainObject(n))){return;}var I=q.isPlainObject(n);if(I&&q.isEmptyObject(n)){return;}var p=I&&(n.bIgnoreEmptyString||n.ignoreEmptyString);var r=I?(n.aSelectionVariant||n.selectionVariant):n;if(!q.isArray(r)){return;}var i,t,u,v,V,w;t=r.length;for(i=0;i<t;i++){u=r[i];if(!u){continue;}v=u.path;V=u.value1;w=u.value2;if(!v||typeof v!=="string"||v===""){q.sap.log.error("Custom Variant property path '"+v+"' should be valid string");continue;}if(!(V||V===0||(V===""&&p))){continue;}V=V.toString();w=w&&w.toString();if(V===""&&p){s.removeSelectOption(v);}delete o[v];if(g){delete g[v];}s.addSelectOption(v,u.sign,u.operator,V,w);}if(p){this._removeEmptyStringsFromSelectionVariant(s);}return p;},_getEntityNavigationParameters:function(E,o){var g={};var h=this.getOwnerComponent().getComponentData();var j=h?h.globalFilter:undefined;var k=b.getCardSelections(this.getCardPropertiesModel());var l=k.filters;var m=k.parameters;var n=this.getCardPropertiesModel();var p=this.getEntityType();l&&l.forEach(function(V){V.path=V.path.replace("/",".");switch(V.operator){case F.NE:V.operator=F.EQ;V.sign="E";break;case F.Contains:V.operator="CP";var W=V.value1;V.value1="*"+W+"*";break;case F.EndsWith:V.operator="CP";var W=V.value1;V.value1="*"+W;break;case F.StartsWith:V.operator="CP";var W=V.value1;V.value1=W+"*";}});k.filters=l;m&&m.forEach(function(V){V.path=V.path.replace("/",".");});k.parameters=m;var r=b.getCardSorters(this.getCardPropertiesModel());var s,t;if(E){var u;for(var i=0;p.property&&i<p.property.length;i++){u=p.property[i].name;var v=E[u];if(E.hasOwnProperty(u)){if(q.isArray(E[u])&&E[u].length===1){g[u]=E[u][0];}else if(q.type(v)!=="object"){g[u]=v;}}}}var K=n&&n.getProperty("/kpiAnnotationPath");var w=n&&n.getProperty("/template");if(K&&w==="sap.ovp.cards.charts.analytical"){var x=p[K];var y=x&&x.Detail;if(y&&y.RecordType==="com.sap.vocabularies.UI.v1.KPIDetailType"){g["kpiID"]=x.ID.String;}}t=r&&new P(r);s=this._buildSelectionVariant(j,k);var I;if(o){I=this._processCustomParameters(o,s,g);}else{I=this._processCustomParameters(g,s);}var z=I?G.navigation.service.SuppressionBehavior.ignoreEmptyString:undefined;var H=n&&n.getProperty("/staticParameters");if(H){for(var u in H){if(!g.hasOwnProperty(u)){g[u]=H[u];}}}var Q=a.getNavigationHandler();var U=Q&&Q.mixAttributesAndSelectionVariant(g,s.toJSONString(),z);return{sNavSelectionVariant:U?U.toJSONString():null,sNavPresentationVariant:t?t.toJSONString():null};},_removeEmptyStringsFromSelectionVariant:function(s){var p=s.getParameterNames();for(var i=0;i<p.length;i++){if(s.getParameter(p[i])===""){s.removeParameter(p[i]);}}var g=s.getSelectOptionsPropertyNames();for(i=0;i<g.length;i++){var h=s.getSelectOption(g[i]);for(var j=0;j<h.length;j++){if(h[j].Low===""&&!h[j].High){h.splice(j,1);j--;}}if(h.length===0){s.removeSelectOption(g[i]);}}return s;},_buildSelectionVariant:function(g,o){var u=g&&g.getUiState({allFilters:false});var s=u?JSON.stringify(u.getSelectionVariant()):"{}";var h=new S(s);var k,v,V,p;var l=o.filters;var m=o.parameters;for(var i=0;i<l.length;i++){k=l[i];if(k.path&&k.operator&&typeof k.value1!=="undefined"){v=k.value1.toString();V=(typeof k.value2!=="undefined")?k.value2.toString():undefined;h.addSelectOption(k.path,k.sign,k.operator,v,V);}}var n,r,t;for(var j=0;j<m.length;j++){p=m[j];if(!p.path||!p.value){continue;}n=p.path.split("/").pop();n=n.split(".").pop();if(n.indexOf("P_")===0){r=n;t=n.substr(2);}else{r="P_"+n;t=n;}if(h.getParameter(r)){continue;}if(h.getParameter(t)){continue;}h.addParameter(n,p.value);}return h;},_loadParametersForm:function(){var p=new J();p.setData(this.actionData.parameterData);var t=this;var o=new D('ovpCardActionDialog',{title:this.actionData.sFunctionLabel,afterClose:function(){o.destroy();}}).addStyleClass("sapUiNoContentPadding");var g=new B({text:this.actionData.sFunctionLabel,press:function(E){var m=A.getParameters(E.getSource().getModel(),t.actionData.oFunctionImport);o.close();t._callFunction(m,t.actionData.sFunctionLabel);}});var h=new B({text:"Cancel",press:function(){o.close();}});o.setBeginButton(g);o.setEndButton(h);var i=function(E){var m=A.mandatoryParamsMissing(E.getSource().getModel(),t.actionData.oFunctionImport);g.setEnabled(!m);};var j=A.buildParametersForm(this.actionData,i);o.addContent(j);o.setModel(p);o.open();},_callFunction:function(u,g){var p={batchGroupId:"Changes",changeSetId:"Changes",urlParameters:u,forceSubmit:true,context:this.actionData.oContext,functionImport:this.actionData.oFunctionImport};var t=this;var o=new Promise(function(r,h){var m=t.actionData.oContext.getModel();var s;s="/"+p.functionImport.name;m.callFunction(s,{method:p.functionImport.httpMethod,urlParameters:p.urlParameters,batchGroupId:p.batchGroupId,changeSetId:p.changeSetId,headers:p.headers,success:function(i,j){r(j);},error:function(i){i.actionText=g;h(i);}});});o.then(function(r){return f.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Success"),{duration:1000});},function(E){var h=a.showODataErrorMessages(E);if(h===""&&E.actionText){h=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error")+' "'+E.actionText+'"'+".";}return M.error(h,{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE"),onClose:null,styleClass:"",initialFocus:null,textDirection:T.Inherit});});},setErrorState:function(){var o=this.getOwnerComponent();if(!o||!o.oContainer){return;}var g=o.oContainer;var h=this.getCardPropertiesModel();var i={name:"sap.ovp.cards.loading",componentData:{model:this.getView().getModel(),settings:{category:h.getProperty("/category"),title:h.getProperty("/title"),description:h.getProperty("/description"),entitySet:h.getProperty("/entitySet"),state:L.ERROR,template:h.getProperty("/template")}}};var l=sap.ui.component(i);g.setComponent(l);setTimeout(function(){o.destroy();},0);},changeSelection:function(s,g,o){if(!g){var h=this.getView().byId("ovp_card_dropdown");s=parseInt(h.getSelectedKey(),10);}var t={};if(!g){t=this.getCardPropertiesModel().getProperty("/tabs")[s-1];}else{t=o.tabs[s-1];}var u={cardId:this.getOwnerComponent().getComponentData().cardId,selectedKey:s};for(var p in t){u[p]=t[p];}if(O.checkIfAPIIsUsed(this)){O.recreateCard(u,this.getOwnerComponent().getComponentData());}else{this.getOwnerComponent().getComponentData().mainComponent.recreateCard(u);}},getItemHeight:function(g,s,h){if(!!g){var i=g.getView().byId(s);var H=0;if(!!i){if(h){if(i.getItems()[0]&&i.getItems()[0].getDomRef()){H=q(i.getItems()[0].getDomRef()).outerHeight(true);}}else{if(i.getDomRef()){H=q(i.getDomRef()).outerHeight(true);}}}return H;}},getHeaderHeight:function(){var h=this.getItemHeight(this,'ovpCardHeader');var o=this.getOwnerComponent()?this.getOwnerComponent().getComponentData():null;if(o){var g=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(o.cardId);return h===0?g.dashboardLayout.headerHeight:h;}else{return h;}}});});
sap.ui.predefine('sap/ovp/cards/generic/Component',["sap/ui/core/UIComponent","sap/ovp/cards/LoadingUtils","sap/ui/model/json/JSONModel","sap/ovp/cards/CommonUtils","sap/ui/Device","sap/ui/model/resource/ResourceModel","sap/ui/core/mvc/ViewType","sap/ovp/cards/AnnotationHelper","jquery.sap.global"],function(U,L,J,C,D,R,V,A,q){"use strict";return U.extend("sap.ovp.cards.generic.Component",{metadata:{properties:{"contentFragment":{"type":"string"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.generic.Card"},"headerExtensionFragment":{"type":"string"},"contentPosition":{"type":"string","defaultValue":"Middle"},"headerFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.Header"},"footerFragment":{"type":"string"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"selectionAnnotationPath":{"type":"string"},"filters":{"type":"object"},"parameters":{"type":"object"},"addODataSelect":{"type":"boolean","defaultValue":false}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}},setSelectionVariant:function(s,S){if(/^@/.test(s)){s=s.slice(1);}S.selectionAnnotationPath=s;},setPresentationVariant:function(p,s,e){if(/^@/.test(p)){p=p.slice(1);}s.presentationAnnotationPath=p;var a=p.split("/");var v=a.length===1?e[p].Visualizations:e[a[0]][a[1]][a[2]].Visualizations;var i;for(i=0;i<v.length;i++){var b=v[i].AnnotationPath;if(b){if(/^@/.test(b)){b=b.slice(1);}if(/.LineItem/.test(b)){s.annotationPath=b;break;}}}for(i=0;i<v.length;i++){var b=v[i].AnnotationPath;if(b){if(/^@/.test(b)){b=b.slice(1);}if(/.Chart/.test(b)){s.chartAnnotationPath=b;break;}}}},setDataPointAnnotationPath:function(d,s){if(/^@/.test(d)){d=d.slice(1);}s.dataPointAnnotationPath=d;},getCustomPreprocessor:function(){},getPreprocessors:function(p){var c=this.getComponentData(),s=c.settings,m=c.model,M,e,E,o;if(s.description&&!s.subTitle){s.subTitle=s.description;}if(m){M=m.getMetaModel();if(s.entitySet){var a=M.getODataEntitySet(s.entitySet);var b=M.getODataEntitySet(s.entitySet,true);e=M.getODataEntityType(a.entityType);o=M.createBindingContext(b);E=M.createBindingContext(e.$path);}}var d=this._getCardPropertyDefaults();var f=this._completeLayoutDefaults(d,s);var g;var h;if(c.appComponent&&c.appComponent.getModel("ui")&&c.appComponent.getModel("ui").oData){g=c.appComponent.getModel("ui").oData.showDateInRelativeFormat;h=c.appComponent.getModel("ui").oData.disableTableCardFlexibility;}else{if(c.showDateInRelativeFormat){g=c.showDateInRelativeFormat;}if(c.disableTableCardFlexibility){h=c.disableTableCardFlexibility;}}var j={metaModel:M,entityType:e,webkitSupport:D.browser.webkit,layoutDetail:f&&f.cardLayout?f.cardLayout.containerLayout:'fixed',showDateInRelativeFormat:g,disableTableCardFlexibility:h};if(!!c&&!!c.cardId){var k=c.mainComponent;var t=null;if(!!k){t=k._getCardFromManifest(c.cardId)?k._getCardFromManifest(c.cardId).template:null;}else{t=c.template;}if(!!t){j.template=t;}}d.densityStyle=C._setCardpropertyDensityAttribute();if(c.errorReason){var l=c.errorReason;var P=l.getParameters();if(P&&P.response){d.errorStatusCode=P.response.statusCode;d.errorStatusText=P.response.statusText;d.responseText=P.response.responseText;}}if(f){j.cardLayout=f.cardLayout;}if(d.state!=="Loading"&&d.state!=="Error"){if(s&&s.kpiAnnotationPath){var K=e[s.kpiAnnotationPath];var n=d.contentFragment;if(K&&(n==="sap.ovp.cards.charts.analytical.analyticalChart"||n==="sap.ovp.cards.charts.smart.analyticalChart")){var S=K.SelectionVariant&&K.SelectionVariant.Path?K.SelectionVariant.Path:s.kpiAnnotationPath+"/SelectionVariant";if(S){this.setSelectionVariant(S,s);}var r=K.Detail&&K.Detail.DefaultPresentationVariant&&K.Detail.DefaultPresentationVariant.Path?K.Detail.DefaultPresentationVariant.Path:s.kpiAnnotationPath+"/Detail/DefaultPresentationVariant";if(r){this.setPresentationVariant(r,s,e);}var u=K.DataPoint&&K.DataPoint.Path?K.DataPoint.Path:s.kpiAnnotationPath+"/DataPoint";if(u){this.setDataPointAnnotationPath(u,s);}}}else if(s&&s.selectionPresentationAnnotationPath){var v=e[s.selectionPresentationAnnotationPath];if(v){var S=v.SelectionVariant&&v.SelectionVariant.Path;if(S){this.setSelectionVariant(S,s);}var r=v.PresentationVariant&&v.PresentationVariant.Path;if(r){this.setPresentationVariant(r,s,e);}}}}if(c.ovpCardsAsApi&&s.ignoreSelectionVariant){s.selectionAnnotationPath="";var I=[];for(var w=0;!!s.filters&&w<s.filters.length;w++){I.push({id:"headerFilterText--"+(w+1),index:w});}s.idForExternalFilters=I;}if(!!j.entityType&&!!s.selectionAnnotationPath&&!!j.entityType[s.selectionAnnotationPath]){var x=j.entityType[s.selectionAnnotationPath].SelectOptions;for(var y=0;!!x&&y<x.length;y++){x[y].id="headerFilterText--"+(y+1);}j.entityType[s.selectionAnnotationPath].SelectOptions=x;}if(j.template==="sap.ovp.cards.linklist"&&!!s.staticContent){for(var i=0;i<s.staticContent.length;i++){s.staticContent[i].id="linkListItem--"+(i+1);}}if(j.template==='sap.ovp.cards.charts.analytical'){s.dataStep=s.dataStep?s.dataStep:10;}if(d.state&&(d.state==="Loading"||d.state==="Error")&&L.bPageAndCardLoading){d.footerFragment="sap.ovp.cards.loading.LoadingContent";}d=q.extend(true,j,d,s);var O=new J(d);var z=new J(D);z.setDefaultBindingMode("OneWay");var B={dontIncludeUOM:true,firstDataPointIndex:0,secondDataPointIndex:1,thirdDataPointIndex:2,fourthDataPointIndex:3,fifthDataPointIndex:4,sixthDataPointIndex:5,firstDataFieldIndex:0,secondDataFieldIndex:1,thirdDataFieldIndex:2,fourthDataFieldIndex:3,fifthDataFieldIndex:4,sixthDataFieldIndex:5};var F=new J(B);var G={xml:{bindingContexts:{entityType:E,entitySet:o},models:{device:z,entityType:M,entitySet:M,ovpMeta:M,ovpCardProperties:O,ovplibResourceBundle:p,ovpConstants:F},ovpCardProperties:O,dataModel:m,_ovpCache:{}}};return q.extend(true,{},this.getCustomPreprocessor(),G);},_completeLayoutDefaults:function(c,s){var o={},a=this.getComponentData(),b=null,d=null;if(a.appComponent){b=a.appComponent.getOvpConfig();}if(!b){return null;}if(b.containerLayout==="resizable"&&a.cardId&&c.contentFragment!=="sap.ovp.cards.quickview.Quickview"){d=a.appComponent.getDashboardLayoutUtil();var e=a.cardId;var f=d.aCards.filter(function(i){return i.id===e;});o.cardLayout=f[0].dashboardLayout;o.cardLayout.containerLayout=b.containerLayout;o.cardLayout.iRowHeightPx=d.ROW_HEIGHT_PX;o.cardLayout.iCardBorderPx=d.CARD_BORDER_PX;o.cardLayout.headerHeight=f[0].dashboardLayout.headerHeight;}return o;},_getCardPropertyDefaults:function(){var c={};var p=this.getMetadata().getAllProperties();var P;for(var a in p){P=p[a];if(P.defaultValue!==undefined){c[P.name]=P.defaultValue;}}return c;},getOvplibResourceBundle:function(){if(!this.ovplibResourceBundle){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");this.ovplibResourceBundle=r?new R({bundleUrl:r.oUrlInfo.url}):null;}return this.ovplibResourceBundle;},_getCacheKeys:function(){},createContent:function(){var c=this.getComponentData&&this.getComponentData();var m=c.model;var p;var P;var M=c&&c.mainComponent;var o=M&&M.oModelViewMap;var s=c&&c.modelName;var f=function(){if(m&&s){m.bIncludeInCurrentBatch=false;if(o&&s&&o[s]&&o[s][c.cardId]){delete o[s][c.cardId];if(Object.keys(o[s]).length>0){m.bIncludeInCurrentBatch=true;}}}};if(c&&c.mainComponent){p=c.mainComponent._getOvplibResourceBundle();}else{p=this.getOvplibResourceBundle();}P=this.getPreprocessors(p);var v={preprocessors:P,type:V.XML,viewName:"sap.ovp.cards.generic.Card"};var a=this._getCacheKeys();if(a&&a.length&&a.length>0){v.async=true;v.cache={keys:a};}var l=this._getCardPropertyDefaults().state;var i=c.cardId+(l?l:"Original");if(!l){i=i+(c.settings.selectedKey?"_Tab"+c.settings.selectedKey:"");}if(!v.async){f();}var b=sap.ui.view(c.containerId==="dialogCard"?undefined:i,v);if(v.async){var O=b.onControllerConnected;b.onControllerConnected=function(){f();O.apply(b,arguments);};}b.setModel(m);if(c.i18n){b.setModel(c.i18n,"@i18n");}b.setModel(P.xml.ovpCardProperties,"ovpCardProperties");b.setModel(p,"ovplibResourceBundle");return b;}});});
sap.ui.predefine('sap/ovp/cards/image/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.image.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.image.Image"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.image.Image"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/image/Image.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.image.Image",{onInit:function(){C.prototype.onInit.apply(this,arguments);},onImagePress:function(e){this.doNavigation(e.getSource().getBindingContext());}});});
sap.ui.predefine('sap/ovp/cards/linklist/AnnotationHelper',["jquery.sap.global","sap/ovp/cards/AnnotationHelper","sap/ui/model/odata/AnnotationHelper","sap/ui/model/FilterOperator"],function(q,C,O,F){"use strict";
function g(i){var s=[];var S,D;var P=i.getProperty("/sortBy");if(P){var j=i.getProperty("/sortOrder");if(j&&j.toLowerCase()!=="descending"){D=false;}else{D=true;}S={path:P,descending:D};s.push(S);}return s;}
function a(s,S){var t=[];var u=s.getProperty("/filters");if(u){t=t.concat(u);}var v=S&&S.SelectOptions;var w,P,R;if(v){for(var i=0;i<v.length;i++){w=v[i];P=w.PropertyName.PropertyPath;for(var j=0;j<w.Ranges.length;j++){R=w.Ranges[j];if(R.Sign.EnumMember){var x={path:P,operator:R.Option.EnumMember.split("/")[1],value1:C.getPrimitiveValue(R.Low),value2:C.getPrimitiveValue(R.High),sign:R.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"?"I":"E"};if(x.sign==="E"&&x.operator!==F.EQ){q.sap.log.error("Exclude sign is supported only with EQ operator");continue;}if(x.sign==="E"&&x.operator===F.EQ){x.operator=F.NE;x.sign="I";}if(x.operator==="CP"&&x.sign==="I"){var I=F.Contains;var V=x.value1;if(V){var y=V.indexOf('*');var z=V.lastIndexOf('*');if(y>-1){if((y===0)&&(z!==(V.length-1))){I=F.EndsWith;V=V.substring(1,V.length);}else if((y!==0)&&(z===(V.length-1))){I=F.StartsWith;V=V.substring(0,V.length-1);}else{V=V.substring(1,V.length-1);}}}x.operator=I;x.value1=V;}t.push(x);}}}}return t;}
function f(i,E,H){var M=i.getSetting("ovpCardProperties");var j=M.getProperty("/metaModel");var s=j.getODataEntityType(E.entityType);var t="/"+E.name;var S=s[M.getProperty("/selectionAnnotationPath")];var I;var u=M.getProperty("/layoutDetail");if(u==='resizable'){var v=M.getProperty("/cardLayout");if(v){if(M.getProperty("/listFlavor")==="standard"){var w="";for(var x in H){w+=x;}var R=M.getProperty("/cardLayout/iRowHeigthPx");if(R===undefined){R=16;}var y;if(M.getProperty("/densityStyle")==="cozy"){y=72;if((w.indexOf("Description")===-1)&&((w.indexOf("Title")>0&&w.indexOf("ImageUrl")>0)||(w.indexOf("Title")>0&&w.indexOf("TypeImageUrl")>0))){y=56;}else if((w.indexOf("Description")===-1)&&w.indexOf("Title")>0){y=48;}}else{y=60;if((w.indexOf("Description")===-1)&&((w.indexOf("Title")>0&&w.indexOf("ImageUrl")>0)||(w.indexOf("Title")>0&&w.indexOf("TypeImageUrl")>0))){y=48;}else if((w.indexOf("Description")===-1)&&w.indexOf("Title")>0){y=40;}}M.setProperty('/cardLayout/itemHeight',y);if(!M.getProperty("/defaultSpan")&&M.getProperty("/cardLayout/autoSpan")){I=M.getProperty("/cardLayout/noOfItems");var z=Math.ceil((I*y+M.getProperty("/cardLayout/headerHeight")+2*M.getProperty("/cardLayout/iCardBorderPx"))/R);M.setProperty("/cardLayout/noOfItems",z);}else{var A=Math.floor(((v.rowSpan*R)-M.getProperty("/cardLayout/headerHeight")-2*M.getProperty("/cardLayout/iCardBorderPx")));I=Math.floor(A/y)*v.colSpan;}}}}else{I=6;}var B=i.getSetting('ovpCardProperties'),P=B.getProperty('/parameters');if(S||!!P){if((S&&S.Parameters)||!!P){t=C.resolveParameterizedEntitySet(i.getSetting("dataModel"),E,S,P);}}var D="{path: '"+t+"', length: "+I;var G=g(M);if(G.length>0){D=D+", sorter:"+JSON.stringify(G);}var J=a(M,S);if(J.length>0){D=D+", filters:"+JSON.stringify(J);}D=D+"}";return D;}
f.requiresIContext=true;
function b(i,u){var B=i.getModel().getProperty("/baseUrl");return m(B,u);}
b.requiresIContext=true;
function c(i,D){var I=true;var s=O.format(i,D);if(s.toLowerCase().indexOf("icon")>0){I=false;}return I;}
c.requiresIContext=true;
function d(D){var i=true;if(!D){return null;}else if(D.toLowerCase().indexOf("icon")>0){i=false;}return i;}
function e(u){var i=new RegExp("((http|https)(:\/\/))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(\/{1}[a-zA-Z0-9]+)*\/?","i");return i.test(u);}
function h(t){var i;if(t.hasOwnProperty("Path")){i="{"+t.Path+"}";}else{i=t.String;}return i;}
function k(s){var P="{"+s.String+"}";return P;}
function l(A){if(A){return 1;}return 0;}
function m(B,u){if(!u){return undefined;}else if(u.lastIndexOf(B,0)===0||u.indexOf("://")>0){return u;}else if(u.lastIndexOf("/",0)===0){return B+u;}else{return B+"/"+u;}}
function n(i,s,v){var j;if(typeof v==="object"){j=v[i];}else{j=(typeof v==="boolean")?v:true;}return!s[i]&&j;}
function o(L,s,j){var N="";if(L){if(s&&j){N="#"+s+"-"+j;for(var i=0;i<L.length;i++){if(L[i].value===N){return L[i].name;}}N="";}else{return L[0].name;}}return N;}
function p(i,I){return m(i.baseUrl,I);}
function r(R){return this.getModel("contentRow").aBindings[0].getContext().getPath().replace("/staticContent/","");}
return{formatItems:f,formatUrl:b,isImageUrl:c,isImageUrlStaticData:d,isValidURL:e,getIconPath:h,formatString:k,linkedAction:l,formUrl:m,isVisible:n,getApplicationName:o,getImageUrl:p,contentRowIndex:r};},true);
sap.ui.predefine('sap/ovp/cards/linklist/Component',["sap/ovp/cards/generic/Component","jquery.sap.global","sap/ovp/cards/linklist/AnnotationHelper"],function(C,q,A){"use strict";return C.extend("sap.ovp.cards.linklist.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.linklist.LinkList"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.linklist.LinkList"},"communicationPath":{"type":"string","defaultValue":"com.sap.vocabularies.Communication.v1.Contact"},"headerAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.HeaderInfo"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}},getCustomPreprocessor:function(){}});});
sap.ui.predefine('sap/ovp/cards/linklist/LinkList.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ovp/cards/OVPCardAsAPIUtils","sap/ovp/cards/CommonUtils","sap/m/List","sap/ui/core/ResizeHandler","sap/m/MessageToast","sap/m/Image"],function(C,q,O,a,L,R,M,I){"use strict";var b=27,c=8,d=8,f=8,g="ovpLinkList",P="pictureCarousel",h="ovpCardHeader",A="sapMCrslActive";var D={onBeforeRendering:function(e){this.itemOnBeforeRendering(e);}};var o={onAfterRendering:function(e){this.itemOnAfterRendering(e);}};return C.extend("sap.ovp.cards.linklist.LinkList",{onInit:function(){C.prototype.onInit.apply(this,arguments);this._bInitialLoad=true;this._bListenerAttached=false;this._bListeningPopOver=false;},onBeforeRendering:function(e){var i=this.getCardPropertiesModel();if(i.getProperty("/listFlavor")==="standard"&&!i.getProperty("/staticContent")){var l=this.byId("ovpCLI");if(l){l.addEventDelegate(D,this);}}},onAfterRendering:function(e){C.prototype.onAfterRendering.apply(this,arguments);this.attachingListenerToTheEventRefresh();var i=this.getCardPropertiesModel();var r=i.getProperty("/cardLayout/rowSpan");var j=i.getProperty("/cardLayout/colSpan");switch(i.getProperty("/listFlavor")){case"standard":if(i.getProperty("/staticContent")){if(j&&r){if(!this._bInitialLoad&&this._aLinkListIds){this._mergeAllTheDataInOneList();}if(r===1){this._aLinkListIds=[g];this._setListColumnWidthInStandardCard(1);}else{this._itemOnEventBuildStandard(i,j,r,true);}}else{this._aLinkListIds=[g];this._setListColumnWidthInStandardCard(1);}}break;case"carousel":var k=this.byId(P);if(k.getId().indexOf('.')!==-1){var $=k.$();$.off('beforeSlide');$.on('beforeSlide',this.onBeforeSlide);$.trigger('beforeSlide',[1,1]);}if(i.getProperty("/staticContent")){if(r&&!(!i.getProperty("/defaultSpan")&&i.getProperty("/cardLayout/autoSpan"))){this._setListHeightInCarouselCard(r);}else{this._setListHeightInCarouselCard(-1);}this._setCarouselImageProperties();}else{k.addEventDelegate(o,this);}break;}if(!O.checkIfAPIIsUsed(this)&&i.getProperty('/layoutDetail')==='resizable'){var l=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var s=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var m=document.getElementById(s);l.dashboardLayout.showOnlyHeader?m.classList.add("sapOvpMinHeightContainer"):m.classList.remove("sapOvpMinHeightContainer");}},onBeforeSlide:function(e,p,n){if(e.target!=this){return;}var s=this.id+'-pageIndicator',i=document.getElementById(s);var E=i.querySelector('[data-slide=\''+p+'\']');E.classList.remove(A);E=i.querySelector('[data-slide=\''+n+'\']');E.classList.add(A);},getCardItemsBinding:function(){var l=this.getView().byId("ovpLinkList");var e=this.getView().byId("pictureCarousel");if(l){return l.getBinding("items");}else if(e){return e.getBinding("pages");}else{return null;}},attachingListenerToTheEventRefresh:function(){var e=this.getCardItemsBinding();var j=this.getCardPropertiesModel();if(e){if(!this._bListenerAttached){e.attachRefresh(function(){if(this._aLinkListIds){for(var i=1;i<this._aLinkListIds.length;i++){var l=this.byId(this._aLinkListIds[i]);var k=l.getItems().length;l.getItems().splice(0,k);l.destroy();}this._aLinkListIds.splice(0,this._aLinkListIds.length);}if(this._oListRest){this._oListRest.destroy();}}.bind(this));e.attachChange(function(){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();if(j.getProperty("/listFlavor")==="carousel"){var i=this.byId(P);i.addEventDelegate(o,this);}if(j.getProperty("/listFlavor")==="standard"){var t=e.getLength();if(t===0){var k=this.byId(g).$().parent();k.width("100%");}}}.bind(this));}else if(this._aLinkListIds){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();}this._bListenerAttached=true;}},settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter:function(){if(this._aLinkListIds){var e=this.getCardPropertiesModel();var r=e.getProperty("/cardLayout/rowSpan");var i=e.getProperty("/cardLayout/colSpan");if(r){this._setListHeightInStandardCard(r);}if(i){this._setListColumnWidthInStandardCard(this._iVisibleColums);}else{this._setListColumnWidthInStandardCard(1);}}},itemOnBeforeRendering:function(e){var r,i=this.getCardPropertiesModel();switch(i.getProperty("/listFlavor")){case"standard":if(!i.getProperty("/defaultSpan")&&!i.getProperty("/staticContent")&&i.getProperty("/cardLayout/autoSpan")){r=i.getProperty("/cardLayout/noOfItems");}else{r=i.getProperty("/cardLayout/rowSpan");}var k=i.getProperty("/cardLayout/colSpan");var l=this.byId(g);var m=l.getItems();for(var j=0;j<m.length;j++){m[j].removeEventDelegate(D);}if(this._bInitialLoad){this._itemOnEventBuildStandard(i,k,r,true);}else{this._itemOnEventBuildStandard(i,k,r,false);}break;case"carousel":q.sap.log.info("FYI: currently nothing special to handle here");break;}},getSpansWhenNoDefaultSpanMentioned:function(){var e=this.getCardPropertiesModel();var s=e.getProperty('/staticContent');var n=((s&&s.length)||(this.getCardItemsBinding()&&this.getCardItemsBinding().getLength()))||0;var l=s?this.getItemHeight(this,g,true):e.getProperty('/cardLayout/itemHeight');var H=0;var i=this.byId(h);if(i){H=i.$().outerHeight();}var r=e.getProperty("/cardLayout/iRowHeightPx");return Math.ceil((l*Math.min(n,6)+(H+d+f))/r);},itemOnAfterRendering:function(E){var i=this.getCardPropertiesModel();var r=i.getProperty("/cardLayout/rowSpan");var j=i.getProperty("/cardLayout/colSpan");switch(i.getProperty("/listFlavor")){case"standard":try{var l=this.byId(g);var k=l.getItems(this._aLinkListIds[this._aLinkListIds.length-1]);k[k.length-1].removeEventDelegate(o);}catch(e){q.sap.log.info("FYI: Unable to remove the delagted event at the last item of the last list");}if(!i.getProperty("/defaultSpan")&&i.getProperty("/cardLayout/autoSpan")){r=this.getSpansWhenNoDefaultSpanMentioned();}if(r){this._setListHeightInStandardCard(r);}if(j){this._setListColumnWidthInStandardCard(this._iVisibleColums);}else{this._setListColumnWidthInStandardCard(1);}break;case"carousel":try{var m=this.byId(P);m.removeEventDelegate(o);}catch(e){q.sap.log.info("FYI: Unable to remove the delagted event on the carousel");}if(r&&!(!i.getProperty("/defaultSpan")&&i.getProperty("/cardLayout/autoSpan"))){this._setListHeightInCarouselCard(r);}else{this._setListHeightInCarouselCard(-1);}this._setCarouselImageProperties();break;}this._bInitialLoad=false;},_itemOnEventBuildStandard:function(e,k,r,l){var p;var m=this.byId(g);var n=this.getView().byId(this.getView().getId()+"--RestOfData");if(n){n.destroy();}if(l&&this._oListRest===undefined){this._oListRest=new L(this.getView().getId()+"--RestOfData",{});}this._aLinkListIds=[g];this._iAvailableItems=m.getItems().length;var s=e.getProperty("/cardLayout/items");if(s!==undefined){this._iNoOfItemsPerColumn=s;p=s;this._iVisibleColums=1;}else{var t=e.getProperty('/staticContent')?this.getItemHeight(this,g,true):e.getProperty('/cardLayout/itemHeight');var u=this._getListHeightInStandardCard(r);this._iNoOfItemsPerColumn=Math.floor(u/t);var N=Math.ceil(this._iAvailableItems/this._iNoOfItemsPerColumn);this._iVisibleColums=Math.min(N,k);p=this._iVisibleColums*this._iNoOfItemsPerColumn;}if(p>this._iAvailableItems){p=this._iAvailableItems;}else{for(var i=p;i<this._iAvailableItems;i++){m.getItems()[i].setVisible(false);}}if(this._iVisibleColums>1){var v=this.byId("ovpListRow");var w=this._iNoOfItemsPerColumn;var x=0;for(var j=this._iNoOfItemsPerColumn;j<p;j++){if(w>=this._iNoOfItemsPerColumn){w=0;x++;var y=g+x;var z=new L(this.getView().getId()+"--"+y,{showSeparators:m.getProperty("showSeparators")});this._aLinkListIds.push(y);if(m.hasStyleClass("_iNoOfItemsPerColumnPaddingCozy")){z.addStyleClass("sapOvpLinkListStandardPaddingCozy");}else{z.addStyleClass("sapOvpLinkListStandardPaddingCompact");}v.addItem(z);}z.addItem(m.getItems()[this._iNoOfItemsPerColumn]);w++;}if(z){var B=z.getItems();B[B.length-1].addEventDelegate(o,this);}}else{if(l){this.itemOnAfterRendering(null);}else{var E=m.getItems();E[E.length-1].addEventDelegate(o,this);}}},resizeCard:function(n){var e=this.getCardPropertiesModel();e.setProperty("/cardLayout/rowSpan",n.rowSpan);e.setProperty("/cardLayout/colSpan",n.colSpan);switch(e.getProperty("/listFlavor")){case"standard":this._resizeStandard(n,e);break;case"carousel":this._resizeCarousel(n);break;}if(this.resizeHandlerId){R.deregister(this.resizeHandlerId);this.resizeHandlerId=null;}var i=this.getView().byId('ovpCardContentContainer').getDomRef();if(i){if(n.showOnlyHeader){i.classList.add('sapOvpContentHidden');}else{i.classList.remove('sapOvpContentHidden');}}},_mergeAllTheDataInOneList:function(){var l=this._aLinkListIds.length;var e=this.getView().byId("ovpLinkList");var k=-1;for(var m=0;m<e.getItems().length;m++){if(!e.getItems()[m].getVisible()){k=m;break;}}for(var i=1;i<l;i++){var n=this.getView().byId(this._aLinkListIds[i]);var p=n.getItems().length;for(var j=0;j<p;j++){if(k===-1){e.addItem(n.getItems()[0]);}else{e.insertItem(n.getItems()[0],k);k++;}}n.destroy();}},_resizeStandard:function(n,i){if(this._aLinkListIds){this._mergeAllTheDataInOneList();var l=this.getView().byId("ovpLinkList");this._aLinkListIds.splice(0,this._aLinkListIds.length);var r=this._oListRest.getItems().length;try{for(var k=0;k<r;k++){l.addItem(this._oListRest.getItems()[0]);}}catch(e){q.sap.log.info("Error: "+e);}for(var s=0;s<l.getItems().length;s++){l.getItems()[s].setVisible(true);}if(!l){var j=this.byId(g).$().parent();j.width("100%");var m=i.getProperty("/cardLayout/rowSpan");if(m){this._setListHeightInStandardCard(m);}}var B=l.getBindingInfo("items");var p=i.getProperty('/staticContent')?this.getItemHeight(this,g,true):i.getProperty('/cardLayout/itemHeight');var N=this._getListHeightInStandardCard(n.rowSpan);var t=Math.floor(N/p)*n.colSpan;this._bInitialLoad=false;q(this.getView().$()).find(".sapOvpWrapper").css({height:N+"px"});if(B){if(t>this._iAvailableItems&&B.length<=this._iAvailableItems){B.length=t;l.bindItems(B);this._bListenerAttached=false;this.attachingListenerToTheEventRefresh();}else{this._itemOnEventBuildStandard(i,n.colSpan,n.rowSpan,false);}}else{this._itemOnEventBuildStandard(i,n.colSpan,n.rowSpan,false);}}},_resizeCarousel:function(n){this._setListHeightInCarouselCard(n.rowSpan);this._setCarouselImageProperties();},_setListHeightInCarouselCard:function(r){var i=0,e=this.byId(P);if(r!==-1){var H=0;var j=this.byId(h);if(j){H=j.$().outerHeight();}var k=this.getCardPropertiesModel();var l=k.getProperty("/cardLayout/iRowHeightPx");i=(r*l)-(H+b+c);e.$().height(i+16);}else{var m=e.$().width(),p=null,n=e.getPages(),s=0;for(var t=0;t<n.length;t++){p=n[t];if(p&&p.getItems().length>1){s=Math.max(s,p.getItems()[0].$().outerHeight());}}var N=e.$().find(".sapMCrslControlsBottom.sapMCrslControls").outerHeight();i=m+(s+N);e.$().height(i);}},_setCarouselImageProperties:function(){var e=this.byId(P),p=e.getPages(),i=e.$().height(),n=p.length>1?e.$().find(".sapMCrslControlsBottom.sapMCrslControls").outerHeight():0,j=null,k=null,t=0,E,l;for(var m=0;m<p.length;m++){j=p[m];if(j){E=j.getAggregation('items')&&j.getItems()[0];if(E){t=E.hasStyleClass('sapOvpCarouselContentHeader')?E.$().outerHeight():0;l=j.getItems()[j.getItems().length-1];k=l.getAggregation('items')&&l.getItems()[0];if(k instanceof I){this._setCarouselImageHeight(k,i-t-n);}}}}},_setCarouselImageHeight:function(i,e){var j=i.getDomRef().naturalHeight;if(j!==0){j<e?i.setHeight(j+'px'):i.setHeight(e+'px');}},_setListHeightInStandardCard:function(r){var n=0;var l;var e;l=this.byId(g);if(l){n=this._getListHeightInStandardCard(r);e=l.$().parent();e.height(n);}if(this._aLinkListIds){for(var i=1;i<this._aLinkListIds.length;i++){l=this.byId(this._aLinkListIds[i]);n=this._getListHeightInStandardCard(r);e=l.$().parent();e.height(n);}}},_getListHeightInStandardCard:function(r){var l=0;var e=this.getCardPropertiesModel();if(r){var H=0;var i=this.byId(h);if(i){H=i.$().outerHeight();}var j=e.getProperty("/cardLayout/iRowHeightPx");l=(r*j)-(H+d+f);}return l;},_setListColumnWidthInStandardCard:function(i){var l;var e;var s="100%";if(this._aLinkListIds){if(this._aLinkListIds.length>1){for(var j=0;j<this._aLinkListIds.length;j++){l=this.byId(this._aLinkListIds[j]);e=l.$().parent();s=(100/i)+"%";e.width(s);}}else{l=this.byId(this._aLinkListIds[0]);if(l){e=l.$().parent();e.width(s);}}}},onLinkListItemPressLocalData:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var t=e.getSource().data("targetUri");var i=e.getSource().data("openInNewWindow");var B=this.getView().getModel("ovpCardProperties").getProperty("/baseUrl");if(t){t=this.buildUrl(B,t);if(i==="true"){window.open(t);}else{window.location.href=t;}}}},onLinkListActionPressLocalData:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var s=e.getSource().data("dataAction");this.getView().getModel().callFunction(s,{method:"POST",urlParameters:{FunctionImport:s},success:(this.onFuImpSuccess.bind(this)),error:(this.onFuImpFailed.bind(this))});}},onFuImpSuccess:function(e){M.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Success"),{duration:3000});},onFuImpFailed:function(r){M.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error"),{duration:3000});},onLinkListItemPress:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onLinkPopover:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var p;switch(this.getCardPropertiesModel().getProperty("/listFlavor")){case"standard":p=e.getSource().getParent().getAggregation("items")[0];break;case"carousel":p=e.getSource().getParent().getAggregation("items")[0];break;}var i=this.getCardPropertiesModel();if(i.getProperty("/listFlavor")==="carousel"){var j=this.byId(P);j.addEventDelegate(o,this);}p.bindElement(e.getSource().getBindingContext().getPath());p.openBy(e.getSource());if(!this._bListeningPopOver){p.attachAfterOpen(function(){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();}.bind(this));}this._bListeningPopOver=true;}},onLinkListLineItemUrl:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var t,s="com.sap.vocabularies.UI.v1.LineItem",n=this.entityType[s][0].Url;if(n.hasOwnProperty("String")){t=n.String;}else{var N=this.getEntityNavigationEntries(e.getSource().getBindingContext(),s)[0];t=N.url;}if(t){window.location.href=t;}else{q.sap.log.info("LinkList Standard Card: No Navigation on line item");}}},onLinkNavigationSingleTarget:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),undefined);this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onLinkNavigation:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{if(sap.ushell.Container.getService("CrossApplicationNavigation")){var B=e.getSource().getBindingContext();if(B.getProperty("SemanticObject")){var n={target:{semanticObject:B.getProperty("SemanticObject"),action:B.getProperty("SemanticAction")}};sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(n);}}}},buildUrl:function(B,m){if(m.lastIndexOf(B,0)===0||m.indexOf("://")>0){return m;}else if(m.lastIndexOf("/",0)===0){return B+m;}else{return B+"/"+m;}},onLinkListActionPress:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var s=e.getSource().data("dataAction");this.getView().getModel().callFunction(s,{method:"POST",urlParameters:{FunctionImport:s},success:(this.onFuImpSuccess.bind(this)),error:(this.onFuImpFailed.bind(this))});}},onLinkListSemanticObjectPressLocalData:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var r=parseInt(e.getSource().data("contentRowIndex"),10);this._oStaticContent=this.getCardPropertiesModel().getProperty("/staticContent");if(this._oStaticContent[r].semanticObject&&this._oStaticContent[r].action){var n={target:{semanticObject:this._oStaticContent[r].semanticObject,action:this._oStaticContent[r].action},params:this._oStaticContent[r].params};var i=this._oStaticContent[r];this.doCrossApplicationNavigation(i,n);}else{M.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error"),{duration:3000});}}}});});
sap.ui.predefine('sap/ovp/cards/list/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.list.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.list.List"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.list.List"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.LineItem"},"countHeaderFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.CountHeader"},"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:["sap.suite.ui.microchart"],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/list/List.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ui/model/json/JSONModel","sap/ovp/cards/OVPCardAsAPIUtils","sap/ovp/cards/CommonUtils","sap/ovp/cards/AnnotationHelper"],function(C,q,J,O,a,A){"use strict";return C.extend("sap.ovp.cards.list.List",{counter:0,arrayLength:0,minMaxModel:{},onInit:function(){C.prototype.onInit.apply(this,arguments);this.counter=0;this.minMaxModel=new J();this.minMaxModel.setData({minValue:0,maxValue:0});this.getView().setModel(this.minMaxModel,"minMaxModel");},onContactDetailsLinkPress:function(e){var p,s,b;s=e.getSource();p=s.getParent().getAggregation("items")[0];b=s.getBindingContext();if(!b){return;}p.bindElement(b.getPath());p.openBy(s);},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);var i=this.getCardPropertiesModel().getProperty("/imageSupported");var d=this.getCardPropertiesModel().getProperty("/densityStyle");if(i){var b=this.byId('ovpList');b.attachUpdateFinished(function(){var l=this.byId('ovpList');var f=l.getItems();var g=false;var j=l.getDomRef().getAttribute("class");if(d==="cozy"){j=j+" sapOvpListImageCozy";}else{j=j+" sapOvpListImageCompact";}l.getDomRef().setAttribute("class",j);f.forEach(function(k){if(k.getIcon().indexOf("icon")!=-1){g=true;}});f.forEach(function(k){var m=k.getDomRef();var n;if(m&&m.children[0]&&m.children[0].children[0]){n=m.children[0].children[0];}var o=k.getDescription();var p=k.getIcon();var t=g;var r=k.getTitle();var u=r.split(' ').map(function(x){return x?x[0].toUpperCase():"";}).join('').substring(0,2);if(p!=""&&p.indexOf("icon")==-1){g=false;}if(g&&m.children[0]){q(m.children[0]).addClass("sapOvpIconListItem");}else if(m.children[0]){q(m.children[0]).addClass("sapOvpImageListItem");}if(n&&d==="cozy"&&g===false){if(n){var j=n.getAttribute("class");j=j+" sapOvpImageCozy";n.setAttribute("class",j);}}var v="";if(g===true&&o===""){v=d==="compact"?"sapOvpListWithIconNoDescCompact":"sapOvpListWithIconNoDescCozy";}else if(g===false&&o===""){v=d==="compact"?"sapOvpListWithImageNoDescCompact":"sapOvpListWithImageNoDescCozy";}else{v=d==="compact"?"sapOvpListWithImageIconCompact":"sapOvpListWithImageIconCozy";}k.addStyleClass(v);if(m&&m.children[0]&&p===""&&m.children[0].id!=="ovpIconImagePlaceHolder"){var w=document.createElement('div');w.innerHTML=u;w.setAttribute("id","ovpIconImagePlaceHolder");w.className=g===true?"sapOvpIconPlaceHolder":"sapOvpImagePlaceHolder";if(g===false&&d==="cozy"){w.className=w.className+" sapOvpImageCozy";}m.insertBefore(w,m.children[0]);}g=t;});}.bind(this));}if(!O.checkIfAPIIsUsed(this)&&this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"){var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var h=Math.max(c.dashboardLayout.headerHeight,this.getHeaderHeight());var s=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var e=document.getElementById(s);if(!c.dashboardLayout.autoSpan){e.getElementsByClassName('sapOvpWrapper')[0].style.height=(c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX)-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX)+"px";}if(c.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}}},onListItemPress:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},_getMinMaxObjectFromContext:function(n){this.counter++;var e=this.getEntityType(),s=this.getCardPropertiesModel().getProperty("/annotationPath"),r=e[s],c=this.getMetaModel().createBindingContext(e.$path+"/"+s),m={minValue:0,maxValue:0};if(A.isFirstDataPointPercentageUnit(c,r)){m.minValue=0;m.maxValue=100;return m;}var d=A.getFirstDataPointValue(c,r),b=this.getView().byId("ovpList"),l=b.getBinding("items"),M=this.getModel(),f=l.getCurrentContexts();for(var i=0;n?i<n:i<f.length;i++){var o=M.getOriginalProperty(d,f[i]),g=parseFloat(o,10);if(g<m.minValue){m.minValue=g;}else if(g>m.maxValue){m.maxValue=g;}}return m;},_updateMinMaxModel:function(n){var m=this._getMinMaxObjectFromContext(n);this.minMaxModel.setData({minValue:m.minValue,maxValue:m.maxValue});this.minMaxModel.refresh();return m;},returnBarChartValue:function(v){var m=this._updateMinMaxModel();var V=parseFloat(v,10);if(V!==0){return V;}else if(m.maxValue==0&&m.minValue<-10){return-0.1;}else if(m.minValue==0&&m.maxValue>10){return 0.1;}return V;},getCardItemsBinding:function(){var l=this.getView().byId("ovpList");return l.getBinding("items");},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpList");return l.getBindingInfo("items");},resizeCard:function(n,c){var N,i,h;try{var $=document.getElementById(this.oDashboardLayoutUtil.getCardDomId(this.cardId)),b=this.getCardItemBindingInfo(),H=this.getHeaderHeight(),o=this.getView().byId('ovpCardContentContainer').getDomRef();if(n.showOnlyHeader){o.classList.add('sapOvpContentHidden');N=0;}else{o.classList.remove('sapOvpContentHidden');h=H+c.dropDownHeight;i=n.rowSpan*n.iRowHeightPx-h;N=Math.abs(Math.floor(i/c.itemHeight));$.style.height=n.rowSpan*n.iRowHeightPx+'px';}o.style.height=(n.rowSpan*n.iRowHeightPx)-(H+2*n.iCardBorderPx)+"px";if(N!==b.length){b.length=N;n.noOfItems=b.length;this._updateMinMaxModel(b.length);this.getCardItemsBinding().refresh();}}catch(e){q.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});});
sap.ui.predefine('sap/ovp/cards/loading/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/loading/State","jquery.sap.global"],function(C,L,q){"use strict";
var l=C.extend("sap.ovp.cards.loading.Component",{metadata:{properties:{"footerFragment":{"type":"string","defaultValue":"sap.ovp.cards.loading.LoadingFooter"},"state":{"type":"string","defaultValue":L.LOADING},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.loading.Loading"}},version:"1.56.5",library:"sap.ovp"}});
return l;});
sap.ui.predefine('sap/ovp/cards/loading/Loading.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ovp/cards/LoadingUtils","sap/ovp/cards/loading/State"],function(C,q,L,a){"use strict";return C.extend("sap.ovp.cards.loading.Loading",{onInit:function(){C.prototype.onInit.apply(this,arguments);},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);var v=this.getView();v.addStyleClass("sapOvpLoadingCard");var s=this.getCardPropertiesModel().getProperty("/state");var t=this;if(L.bPageAndCardLoading){if(s!==a.ERROR){var c=v.byId("sapOvpLoadingCanvas").getDomRef();var p=c.parentNode;p.style.width='100%';p.style.position='absolute';p.style.top='0px';var d=v.byId("ovpCardContentContainer").getDomRef();d.style.position='absolute';d.style.zIndex='-3';L.aCanvas.push(c);setTimeout(function(){},6000);setTimeout(function(){L.bAnimationStop=true;t.setErrorState();},9000);}setTimeout(function(){if(!L.bAnimationStarted){L.startAnimation();L.bAnimationStarted=true;}},0);}else{var l=v.byId("ovpLoadingFooter");if(s===a.ERROR){l.setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cannotLoadCard"));}else{setTimeout(function(){l.setBusy(true);},6000);setTimeout(function(){l.setBusy(false);l.setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cannotLoadCard"));},9000);}}}});});
sap.ui.predefine('sap/ovp/cards/map/Analytical/AnalyticalMap.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ui/core/theming/Parameters"],function(C,q,T){"use strict";return C.extend("sap.ovp.cards.map.Analytical.AnalyticalMap",{onInit:function(e){C.prototype.onInit.apply(this,arguments);var m=this.getView().byId("vbi");m.addEventDelegate({"onAfterRendering":function(){var a=this.getAllRegionCodes(m);m.zoomToRegions(a);var c=this.getCardPropertiesModel().getProperty("/colorpalette");if(c==="qualitative"){var i=m.getAggregation("regions");var b=["sapUiChartPaletteQualitativeHue1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11"];i.forEach(function(d,f){var g=T.get(b[f%b.length]);d.setColor(g);});}}},this);},getAllRegionCodes:function(m){var r=[];m.getAggregation("regions").forEach(function(i){var c=i.mProperties.code;r.push(c);});return r;},regionClick:function(e){var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);},onBeforeRendering:function(){}});});
sap.ui.predefine('sap/ovp/cards/map/Analytical/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.map.Analytical.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.map.Analytical.AnalyticalMap"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.map.Analytical.AnalyticalMap"},"dataPointAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.DataPoint"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:["sap.ui.vbm"],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/map/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.map.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.map.GeographicalMap"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.map.GeographicalMap"},"geoLocationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.GeoLocation"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Facets"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:["sap.ui.vbm"],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/map/GeographicalMap.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ui/core/ResizeHandler"],function(C,q,R){"use strict";return C.extend("sap.ovp.cards.map.GeographicalMap",{onInit:function(e){C.prototype.onInit.apply(this,arguments);var s=this.getView().mPreprocessors.xml[0].ovpCardProperties.oData.state;if(s!=="Loading"&&s!=="Error"){var h=this.getView().byId("popoverHeader");h.attachBrowserEvent("click",this.onPopoverHeaderPress.bind(this,h));h.addEventDelegate({onkeydown:function(E){if(!E.shiftKey&&(E.keyCode==13||E.keyCode==32)){E.preventDefault();this.onPopoverHeaderPress(h);}}.bind(this)});}},resizeCard:function(n){var v=this.getView().byId("oVBI");var c=this.getCardPropertiesModel();c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);var g=this.getView().getController();var h=this.getItemHeight(g,'ovpCardHeader');var m=n.rowSpan*n.iRowHeightPx-(h+2*n.iCardBorderPx);v.setHeight(m+"px");v.setWidth("100%");var o=this.getView().byId('ovpCardContentContainer').getDomRef();if(o){if(!n.showOnlyHeader){o.classList.remove('sapOvpContentHidden');}else{o.classList.add('sapOvpContentHidden');}}},onPopoverHeaderPress:function(h){var n=this.getEntityNavigationEntries(h.getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(h.getBindingContext(),n[0]);},getAllSpotsCoordinates:function(m){var s={lonValues:[],latValues:[]};m.getAggregation("vos")[0].getItems().forEach(function(i){var c=i.getPosition().split(";");s.lonValues.push(parseFloat(c[0]));s.latValues.push(parseFloat(c[1]));});return s;},onClickSpot:function(e){var s=e.getSource();var c={};c[e.getParameter("data").Action.Params.Param[0].name]=e.getParameter("data").Action.Params.Param[0]["#"];c[e.getParameter("data").Action.Params.Param[1].name]=e.getParameter("data").Action.Params.Param[1]["#"];var v=this.getView().byId("oVBI");if(!this.oQuickViewPopover){this.oQuickViewPopover=this.getView().byId("quickViewPopover");}else if(this.oQuickViewPopover.isOpen()){this.oQuickViewPopover.close();}if(!this.oPopoverAnchor){this.oPopoverAnchor=document.createElement("div");this.oPopoverAnchor.style.position="absolute";this.oPopoverAnchor.style.display="inline-block";this.oPopoverAnchor.style.width="0px";this.oPopoverAnchor.style.height="0px";}this.oPopoverAnchor.style.top=Math.floor(parseFloat(c.y))+"px";this.oPopoverAnchor.style.left=Math.floor(parseFloat(c.x))+"px";v.getParent().getDomRef().appendChild(this.oPopoverAnchor);this.oQuickViewPopover.openBy(this.oPopoverAnchor);this.oQuickViewPopover.setBindingContext(s.getBindingContext());},onAfterOpen:function(){var f=['.quickViewResponsivePopover','.mapPopoverHeader','.sapMQuickViewPage','.sapOvpActionFooter'];var p=this.getView().byId("quickViewPopover");var a=p.$();a[0].focus();var b=0;var A=a.find('.sapOvpActionFooter').children();for(var i=0;i<A.length;i++){if(q(A[i]).hasClass('sapMTBSpacer')){continue;}var c="#"+A[i].id;f.push(c);}p.attachBrowserEvent("keydown",function(e){var E=e.target.closest('.quickViewResponsivePopover');if(e.keyCode==9){if(e.shiftKey){b--;b=b==-1?f.length-1:b;}else{b++;b=b>=f.length?0:b;}var j=E.querySelector(f[b]);if(b===0){j=E;}j.setAttribute("tabindex",0);j.focus();e.preventDefault();}});},onBeforeRendering:function(){var m=this.getView().byId("oVBI");m.getAggregation("vos")[0].getBinding("items").attachChange(function(i){var s,a=this.getAllSpotsCoordinates(m),b=a.lonValues.length;if(this&&this.getView()&&this.getView().getDomRef()&&this.getView().getDomRef().getElementsByClassName("noDataSubtitle")){s=this.getView().getDomRef().getElementsByClassName("noDataSubtitle");}if(b>0){m.zoomToGeoPosition(a.lonValues,a.latValues,b===1?5:undefined);if(s&&s.length>0){s[0].style.display="none";}}else{if(s&&s.length>0){s[0].style.display="flex";}}}.bind(this));var M=this.getOwnerComponent().getComponentData().settings.oMapConfig;m.setMapConfiguration(M);},onGeoCardResize:function(e){var a=this.getAllSpotsCoordinates(e.control),s=a.lonValues.length;if(s>0){e.control.zoomToGeoPosition(a.lonValues,a.latValues,s===1?5:undefined);}},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);this._resizeListenerId=R.register(this.getView().byId("oVBI"),this.onGeoCardResize.bind(this));},exit:function(){if(this._resizeListenerId){R.deregister(this.resizeHandlerId);}}});});
sap.ui.predefine('sap/ovp/cards/quickview/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.quickview.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.quickview.Quickview"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.quickview.Quickview"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Facets"},"footerFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.ActionsFooter"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/quickview/Quickview.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/m/Button"],function(C,q,B){"use strict";return C.extend("sap.ovp.cards.quickview.Quickview",{onInit:function(){C.prototype.onInit.apply(this,arguments);this.bCustomActionFlag=true;},onBeforeRendering:function(){var h=this.byId('ovpQuickviewCardHeader');if(h){var t=h.getText();var s=t.substring(0);if(t[0]===':'){s=t.substring(2);}else if(t[t.length-2]===':'){s=t.substring(0,t.length-2);}h.setText(s);var c=h.getCustomData();if(c){for(var i=0;i<c.length;++i){if(c[i].getProperty('key')==='aria-label'){c[i].setValue(s);}}}}var o=this.getCardPropertiesModel();var S=o.getProperty("/showFirstActionInFooter")?o.getProperty("/showFirstActionInFooter"):false;var f=this.byId("ovpActionFooter");if(!S){if(f){var F=f.getContent();if(F&&F.length){for(var i=0,a=F.length;i<a;i++){if(F[i]instanceof B){F[i].setVisible(false);break;}}}}}},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);q(".sapMQuickViewPage").attr('tabindex','0');var c=this.getCardPropertiesModel();var f=this.byId("ovpActionFooter");if(!!this.bCustomActionFlag){var a=c.getProperty("/customActions");if(!!f&&!!a&&!!a.length){for(var j=0;j<a.length;j++){var t=a[j].text;var m=null;if(this.getOwnerComponent()&&this.getOwnerComponent().getComponentData()){m=this.getOwnerComponent().getComponentData().mainComponent;}if(!!m&&!!t&&!!a[j].press){var p=m.onCustomActionPress(a[j].press);if(typeof p==="function"){var b=new B({text:t,press:p.bind(this),type:"Transparent"});var F=c.getProperty("/showFirstActionInFooter");var s=(F)?0:1;var P=a[j].position+s;var l=f.getContent().length;if(P<(1+s)&&P>(l-1)){f.addContent(b);}else{f.insertContent(b,P);}}}}}this.bCustomActionFlag=false;}}});});
sap.ui.predefine('sap/ovp/cards/rta/AppSettingsDialog.controller',["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ovp/cards/AppSettingsUtils","sap/ui/model/json/JSONModel"],function(q,C,A,J){'use strict';return C.extend("sap.ovp.cards.rta.AppSettingsDialog",{onInit:function(){A.oResetButton.attachPress(this.onResetButton,this);},onAfterRendering:function(){this.setEnablePropertyForResetAndSaveButton(false);this._ovpManifestSettings=this.getView().getModel().getData();this._originalOVPManifestSettings=q.extend(true,{},this._ovpManifestSettings);},onResetButton:function(){this.setEnablePropertyForResetAndSaveButton(false);this._ovpManifestSettings=q.extend(true,{},this._originalOVPManifestSettings);var o=new J(this._ovpManifestSettings);this.getView().setModel(o);this.getView().getModel().refresh();},onChange:function(){this.setEnablePropertyForResetAndSaveButton(true);},setEnablePropertyForResetAndSaveButton:function(e){A.oResetButton.setEnabled(e);A.oSaveButton.setEnabled(e);}});});
sap.ui.predefine('sap/ovp/cards/rta/SelectIcons.controller',["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(q,C,F,a){'use strict';return C.extend("sap.ovp.cards.rta.SelectIcons",{onInit:function(){},onAfterRendering:function(){},_filterTable:function(e,f,I){var Q=e.getParameter("query"),g=null,b=[];for(var i=0;i<f.length;i++){b.push(new F(f[i],a.Contains,Q));}if(Q){g=new F(b,false);}this.getView().byId(I).getBinding("items").filter(g,"Application");},filterTable:function(e){var v=this.getView(),m=v.getModel(),t=m.getProperty("/tableName"),l;if(t==="IconTable"){this._filterTable(e,["Icon","Name"],"IconTable");l=v.byId("IconTable").getBinding("items").getLength();m.setProperty("/NoOfIcons",l);}else if(t==="ImageTable"){this._filterTable(e,["Name"],"ImageTable");l=v.byId("ImageTable").getBinding("items").getLength();m.setProperty("/NoOfImages",l);}m.refresh(true);},onItemPress:function(e){var s=e.getSource(),S=s.getBindingContext(),m=this.getView().getModel(),t=m.getProperty("/tableName"),u;if(t==="IconTable"){u=S.getProperty("Icon");}else if(t==="ImageTable"){u=S.getProperty("Image");}this.updateIconPath(u);},onSelectionChange:function(e){var k=e.getParameter("item").getKey(),m=this.getView().getModel();m.setProperty("/tableName",k);m.refresh(true);}});});
sap.ui.predefine('sap/ovp/cards/rta/SelectLineItem.controller',["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(q,C,F,a){'use strict';return C.extend("sap.ovp.cards.rta.SelectLineItem",{onInit:function(){},onAfterRendering:function(){},_filterTable:function(e,f,I){var Q=e.getParameter("query"),g=null,b=[];for(var i=0;i<f.length;i++){b.push(new F(f[i],a.Contains,Q));}if(Q){g=new F(b,false);}this.getView().byId(I).getBinding("items").filter(g,"Application");},filterTable:function(e){var v=this.getView(),m=v.getModel(),l;this._filterTable(e,["Label","VisibleFields"],"LineItemTable");l=v.byId("LineItemTable").getBinding("items").getLength();m.setProperty("/NoOfLineItem",l);m.refresh(true);},onItemPress:function(e){var s=e.getSource(),S=s.getBindingContext(),v=S.getObject();this.updateLineItemPath(v);}});});
sap.ui.predefine('sap/ovp/cards/rta/SelectLinks.controller',["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(q,C,F,a){'use strict';return C.extend("sap.ovp.cards.rta.SelectLinks",{onInit:function(){},onAfterRendering:function(){},_filterTable:function(e,f,I){var Q=e.getParameter("query"),g=null,b=[];for(var i=0;i<f.length;i++){b.push(new F(f[i],a.Contains,Q));}if(Q){g=new F(b,false);}this.getView().byId(I).getBinding("items").filter(g,"Application");},filterTable:function(e){var v=this.getView(),m=v.getModel(),l;this._filterTable(e,["name","value"],"LinkTable");l=v.byId("LinkTable").getBinding("items").getLength();m.setProperty("/NoOfLinks",l);m.refresh(true);},onItemPress:function(e){var s=e.getSource(),S=s.getBindingContext(),i=S.getProperty("value");this.updateLinkPath(i);}});});
sap.ui.predefine('sap/ovp/cards/rta/SettingsDialog.controller',["jquery.sap.global","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ovp/cards/OVPCardAsAPIUtils","sap/ovp/cards/SettingsUtils","sap/ovp/cards/PayLoadUtils","sap/m/Text","sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ovp/cards/rta/SettingsDialogConstants","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ChangeReason","sap/m/Label","sap/ui/core/Icon","sap/m/Image","sap/m/Column","sap/m/ColumnListItem","sap/m/Table","sap/m/ListMode","sap/m/ToolbarSpacer","sap/m/SearchField","sap/ovp/cards/linklist/AnnotationHelper","sap/ovp/cards/AnnotationHelper","sap/m/Toolbar","sap/ui/core/IconPool","sap/m/IconTabBar","sap/m/IconTabFilter","sap/ui/core/mvc/ViewType","sap/m/Dialog","sap/m/Button","sap/ovp/cards/CommonUtils","sap/ui/Device"],function(q,C,J,O,s,P,T,V,S,M,F,a,b,L,I,c,d,e,f,g,h,k,l,m,n,o,p,r,t,D,B,u,v){"use strict";return C.extend("sap.ovp.cards.rta.SettingsDialog",{_oCardManifestSettings:{},_aRefreshNotRequired:S._aRefreshNotRequired,_aRefreshRequired:S._aRefreshRequired,oOvpResourceBundle:sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),onInit:function(){s.oSaveButton.attachPress(this.onSaveButtonPress,this);s.oResetButton.attachPress(this.onResetButton,this);s.oMessagePopOverButton.attachPress(this.handleMessagePopoverPress,this);},onAfterRendering:function(){s.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.setEnablePropertyForResetAndSaveButton(false);this._oCardManifestSettings=this.getView().getModel().getData();this._oOriginalCardManifestSettings=q.extend(true,{},this._oCardManifestSettings);var i=this.getView(),j=i.getModel(),w=i.byId("dialogCard");if(!w.getVisible()){w=i.byId("dialogCardNoPreview");}w.getDomRef().style.minHeight=this._oCardManifestSettings.dialogBoxHeight+"px";i.byId("dialogCardOverlay").getDomRef().style.minHeight=this._oCardManifestSettings.dialogBoxHeight+"px";s.settingFormWidth(i,"calc(100% - "+(this._oCardManifestSettings.dialogBoxWidth+1)+"rem)");setTimeout(function(){var w=this.getView().byId("dialogCard");if(w.getVisible()){w.setBusy(false);}}.bind(this),2000);if(this._oCardManifestSettings.staticContent){this.handleErrorHandling(j,"title","/staticContent");this.handleErrorHandling(j,"targetUri","/staticContent");}},validateInputField:function(E){var i=E.getSource();var j=i.getValue().trim().length;if(!j){i.setValue(i.getValue().trim());}this.updateCard(E);},addView:function(E){this.setEnablePropertyForResetAndSaveButton(true);var i,j=this._oCardManifestSettings,w=this.getView().getModel();if(j.dataPointAnnotationPath&&j.dataPoint&&j.dataPoint.length){i=j.dataPoint[0].value;}if(j.tabs&&j.tabs.length){j.newViewCounter++;if(j.template==="sap.ovp.cards.charts.analytical"||j.template==="sap.ovp.cards.charts.smart.chart"){j.tabs.push({chartAnnotationPath:j.chart[0].value,dataPointAnnotationPath:i,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+j.newViewCounter)});}else{j.tabs.push({annotationPath:j.lineItem[0].value,dataPointAnnotationPath:i,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+j.newViewCounter)});}var x=j.tabs.length;j.aViews.push({text:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+j.newViewCounter),key:x,isLaterAddedView:true,isViewResetEnabled:false});this.selectViewSwitch(E,x);}else{j.tabs=[{}];S.tabFields.forEach(function(y){j.tabs[0][y]=j[y];});j.tabs[0].value=this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" 1");if(j.template==="sap.ovp.cards.charts.analytical"||j.template==="sap.ovp.cards.charts.smart.chart"){j.tabs.push({chartAnnotationPath:j.chart[0].value,dataPointAnnotationPath:i,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" 2")});}else{j.tabs.push({annotationPath:j.lineItem[0].value,dataPointAnnotationPath:i,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" 2")});}j.selectedKey=1;j.defaultViewSelected=1;j.aViews=[{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_MAIN_VIEW"),key:0,isLaterAddedView:false,isViewResetEnabled:false},{text:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" 1 ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")"),key:1,initialSelectedKey:1,isLaterAddedView:false,isViewResetEnabled:false},{text:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" 2"),key:2,isLaterAddedView:true,isViewResetEnabled:false}];j.newViewCounter=2;this.selectViewSwitch(E,1);}this.handleErrorHandling(w,"value","/tabs");},deleteView:function(E){this.setEnablePropertyForResetAndSaveButton(true);var i=this._oCardManifestSettings,j=parseInt(i.selectedKey,10),w=this.getView().getModel();i.tabs.splice(j-1,1);i.aViews.splice(j,1);if(j===i.defaultViewSelected){i.defaultViewSelected=1;i.aViews[j].text=i.aViews[j].text+" ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";}i.aViews.forEach(function(x,y){if(y>=j){x.key--;}});this.handleErrorHandling(w,"value","/tabs");if(i.tabs.length==1){S.tabFields.forEach(function(x){i[x]=i.tabs[0][x];});delete i.selectedKey;delete i.defaultViewSelected;delete i.tabs;delete i.aViews;i.aViews=[{text:this.oOvpResourceBundle.getText("OVP_KEYUSER_SHOWS_DIFFERENT_VIEWS"),key:0,initialSelectedKey:0,isLaterAddedView:false,isViewResetEnabled:false}];s.addManifestSettings(i);s.setVisibilityForFormElements(i);this.getView().getModel("visibility").refresh();this.getView().getModel().refresh();this._fCardWithRefresh();}else{i.selectedKey=1;this.selectViewSwitch(E,i.selectedKey);}},resetView:function(){var i=this._oCardManifestSettings,j=this.getView().getModel(),w=parseInt(i.selectedKey,10),x=i.aViews[w],y=i.defaultViewSelected;if(!x.isLaterAddedView){var z=i.dataPointAnnotationPath?true:false,A=this._oOriginalCardManifestSettings.dataPointAnnotationPath?true:false;if(w){var E=i.aViews[w].initialSelectedKey;S.tabFields.forEach(function(H){if(H!=="dataPointAnnotationPath"||z){if(this._oOriginalCardManifestSettings.tabs&&this._oOriginalCardManifestSettings.tabs.length){i[H]=this._oOriginalCardManifestSettings.tabs[E-1][H];}else{i[H]=this._oOriginalCardManifestSettings[H];}i.tabs[w-1][H]=i[H];}}.bind(this));if(!this._oOriginalCardManifestSettings.tabs||!this._oOriginalCardManifestSettings.tabs.length){i.newViewCounter++;i.tabs[w-1].value=this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+i.newViewCounter);}if(w===i.defaultViewSelected){i.aViews[w].text=i.tabs[w-1].value+" ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";}else{i.aViews[w].text=i.tabs[w-1].value;}}else{S.mainFields.forEach(function(H){i[H]=this._oOriginalCardManifestSettings[H];}.bind(this));if(z!==A){if(A){i.tabs.forEach(function(H){if(H.prevDataPointAnnotationPath){H.dataPointAnnotationPath=H.prevDataPointAnnotationPath;}else{H.dataPointAnnotationPath=i.dataPoint[0].value;}});i.dataPointAnnotationPath=i.tabs[y].dataPointAnnotationPath;}else{i.tabs.forEach(function(H){H.prevDataPointAnnotationPath=H.dataPointAnnotationPath;H.dataPointAnnotationPath=undefined;});}}}}else{var G;if(i.dataPointAnnotationPath){G=i.dataPoint[0].value;}i.newViewCounter++;if(i.template==="sap.ovp.cards.charts.analytical"||i.template==="sap.ovp.cards.charts.smart.chart"){i.tabs[w-1]={chartAnnotationPath:i.chart[0].value,dataPointAnnotationPath:G,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+i.newViewCounter)};}else{i.tabs[w-1]={annotationPath:i.lineItem[0].value,dataPointAnnotationPath:G,value:this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+i.newViewCounter)};}if(w===i.defaultViewSelected){i.aViews[w].text=this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+i.newViewCounter+" ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")");}else{i.aViews[w].text=this.oOvpResourceBundle&&(this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_VIEW_NAME")+" "+i.newViewCounter);}S.tabFields.forEach(function(H){i[H]=i.tabs[w-1][H];});}this.handleErrorHandling(j,"value","/tabs");i.isViewResetEnabled=false;i.aViews[w].isViewResetEnabled=false;s.addManifestSettings(i);s.setVisibilityForFormElements(i);this.getView().getModel("visibility").refresh();this.getView().getModel().refresh();this._fCardWithRefresh();},selectViewSwitch:function(E,i){var j=this._oCardManifestSettings,w=this.getView().getModel();if(!i){i=E.getSource().getSelectedIndex();}if(this.defaultViewSwitch){this.defaultViewSwitch.setEnabled(true);}this.setEnablePropertyForResetAndSaveButton(true);if(!i){var x=j.defaultViewSelected;j.selectedKey=i;j.mainViewSelected=true;j.isViewResetEnabled=j.aViews[i].isViewResetEnabled;S.tabFields.forEach(function(A){j[A]=j.tabs[x-1][A];});this.handleErrorHandling(w,"value","/tabs");s.addManifestSettings(j);s.setVisibilityForFormElements(j);this.getView().getModel("visibility").refresh();this.getView().getModel().refresh();this._fCardWithRefresh();}else{j.mainViewSelected=false;j.isViewResetEnabled=j.aViews[i].isViewResetEnabled;var y=this.getView().byId("dialogCard");if(y.getVisible()){var R=y.getComponentInstance().getRootControl();var z=R.getController();z.changeSelection(i,true,j);this.handleErrorHandling(w,"value","/tabs");s.addManifestSettings(j);s.setVisibilityForFormElements(j);this.getView().getModel("visibility").refresh();this.getView().getModel().refresh();}}},setCurrentActivePageForCarouselCard:function(i){var j=this.getView().byId("dialogCard");if(j.getVisible()){var w=j.getComponentInstance(),R=w.getRootControl(),x=R.byId("pictureCarousel");if(x){var y=x.getPages(),z=y[i];x.setActivePage(z);}}},onSelectionChange:function(E){var j=E.getSource(),w=j.getModel(),x=w.getData().staticContent,y=j.getSelectedItem(),z=y.getBindingContext().getObject(),A=j.getModel("visibility");for(var i=0;i<x.length;i++){if(x[i].id===z.id){A.setProperty("/moveToTheTop",!(x.length===1||i===0));A.setProperty("/moveUp",!(x.length===1||i===0));A.setProperty("/moveDown",!(x.length===1||i===(x.length-1)));A.setProperty("/moveToTheBottom",!(x.length===1||i===(x.length-1)));A.setProperty("/delete",true);w.setProperty("/selectedItemIndex",i);A.refresh(true);if(E.getParameter("listItem")){this.setCurrentActivePageForCarouselCard(i);}break;}}},handleErrorForProperty:function(i,j,w){i.firePropertyChange({context:i.getContext(w?w:"/"),path:j,value:i.getProperty(w?(w+"/"+j):j),reason:b.Change});},handleErrorHandling:function(j,w,x){var y=j.getProperty(x);j.firePropertyChange({context:j.getContext(x),path:x+","+w,value:j.getProperty(x),reason:b.Change});for(var i=0;i<y.length;i++){var z=x+"/"+i;j.firePropertyChange({context:j.getContext(z),path:w,value:j.getProperty(z+"/"+w),reason:b.Change});}},setEnablePropertyForResetAndSaveButton:function(E){s.enableResetButton(E);s.enableSaveButton(E);},getValueInRemString:function(i){return i+"rem";},_getSelectedItemIndex:function(i){return i.getProperty("/selectedItemIndex");},_getLastItemIndex:function(i){return this._getStaticContentArray(i).length-1;},_getStaticContentArray:function(i){return i.getProperty("/staticContent");},_setStaticContentArray:function(i,j){i.setProperty("/staticContent",j);},_setSelectedItemAndScrollToElement:function(i,H){var j=this.getView(),w=j.byId("sapOvpStaticLinkListLineItem"),x=j.byId("scrollContainer"),y=j.getModel();this.handleErrorHandling(y,"title","/staticContent");this.handleErrorHandling(y,"targetUri","/staticContent");var z=w.getItems()[i];if(H){this._oList=w;this._oItem=z;this._oScrollContainer=x;var A={onAfterRendering:function(E){this._oList.removeEventDelegate(this._oDelegateOnAfter);this._oScrollContainer.scrollToElement(this._oItem);delete this._oDelegateOnAfter;delete this._oList;delete this._oScrollContainer;delete this._oItem;}};this._oDelegateOnAfter=A;w.addEventDelegate(A,this);}else{x.scrollToElement(z);}w.setSelectedItem(z);w.fireSelectionChange();},_arrangeStaticContent:function(i,j,w){var x=this._getStaticContentArray(i);x.splice(w,0,x.splice(j,1)[0]);this._setStaticContentArray(i,x);this._setSelectedItemAndScrollToElement(w);},getIndexFromIdForStaticLinkList:function(i){var j=i.split("-");return j[j.length-1];},_getImageData:function(){var i=[];i.push({"Name":"AW.png","Image":l.formUrl(this.getView().getModel().getProperty("/baseUrl"),"img/AW.png")});return i;},_getIconData:function(j){var w=o.getIconNames(),x=[];if(j){var N=j.split("://")[1],y=w.indexOf(N);w.splice(y,1);x.push({"Name":N,"Icon":o.getIconURI(N)});}for(var i=0;i<w.length;i++){x.push({"Name":w[i],"Icon":o.getIconURI(w[i])});}return x;},_getLinkListItemId:function(i,j){return i.getProperty("/staticContent/"+j+"/index");},_makeLinkListItemId:function(i){return"linkListItem--"+i;},_makeLinkListItemIndex:function(i){return"Index--"+i;},getIconAndImageDataModel:function(i){var j=this._getIconData(i),w=this._getImageData();return new J({"Icons":j,"Images":w,"NoOfIcons":j.length,"NoOfImages":w.length});},destroyTemplatesAndObjects:function(){var i=this.getView();var j=i.byId("tableFilterImage");if(j){j.destroy();}var w=i.byId("tableFilter");if(w){w.destroy();}var x=i.byId("tableFilterLinks");if(x){x.destroy();}delete this._oEvent;delete this._iCurrentRow;delete this._oModel;delete this._oVisibilityModel;delete this._oIconsDialogContentView;delete this._oLinksDialogContentView;delete this._oLineItemDialogContentView;},onExternalUrlChange:function(E){this.setEnablePropertyForResetAndSaveButton(true);},onLinkSourceChange:function(E){var i=E.getSource(),j=i.getModel(),w=i.getModel("visibility"),x=this.getIndexFromIdForStaticLinkList(i.getId()),y=E.getParameter("selectedIndex"),z=w.getProperty("/staticLink"),A=w.getProperty("/links"),G=this._getLinkListItemId(j,parseInt(x,10));if(y===0){z[G]=false;A[G]=true;j.setProperty("/staticContent/"+x+"/targetUri",undefined);}else{z[G]=true;A[G]=false;j.setProperty("/staticContent/"+x+"/semanticObject",undefined);j.setProperty("/staticContent/"+x+"/action",undefined);j.setProperty("/staticContent/"+x+"/targetUri","");}w.setProperty("/staticLink",z);w.setProperty("/links",A);w.refresh(true);j.refresh(true);this.handleErrorForProperty(j,"targetUri","/staticContent/"+x);this.setEnablePropertyForResetAndSaveButton(true);},onRemoveVisualPress:function(E){var i=E.getSource(),j=i.getModel(),w=i.getModel("visibility"),x=this.getIndexFromIdForStaticLinkList(i.getId()),y=this._getLinkListItemId(j,parseInt(x,10)),R=w.getProperty("/removeVisual");R[y]=false;w.setProperty("/removeVisual",R);w.refresh(true);j.setProperty("/staticContent/"+x+"/imageUri",undefined);j.refresh(true);this.updateCard(E,"sapOvpSettingsStaticLinkListRemoveVisual");},createValueHelpDialogForInternalUrl:function(E){var i=E.getSource(),j=i.getModel(),w=i.getModel("staticCardProperties"),x=i.getModel("visibility"),y=this.getIndexFromIdForStaticLinkList(i.getId());this.attachBrowserHeightChangeHandler();this._oEvent=q.extend({},E);this._iCurrentRow=y;this._oModel=j;this._oVisibilityModel=x;var z=new B("linksCancelBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.linksDialog=new D({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_SELECT_APPLICATION_DIALOG"),buttons:[z]}).addStyleClass("sapOvpSettingsDialogBox");w.setProperty("/densityStyle",this.getDensityStyle());w.setProperty("/NoOfLinks",w.getProperty("/links").length);var A=new sap.ui.view("linksDialogContent",{viewName:"sap.ovp.cards.rta.SelectLinks",type:t.XML,preprocessors:{xml:{bindingContexts:{tableRows:w.createBindingContext("/")},models:{tableRows:w}}}});A.setModel(w);A.setModel(this.getView().getModel("ovpResourceModel"),"ovpResourceModel");this.linksDialog.addContent(A);A.loaded().then(function(G){this._oLinksDialogContentView=G;G.getController().updateLinkPath=function(H){var K=H.slice(1).split("-"),N=K[0],Q=K[1];this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/semanticObject",N);this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/action",Q);this._oModel.refresh(true);this.setEnablePropertyForResetAndSaveButton(true);this.cleanAndCloseDialog(z);}.bind(this);z.attachPress(function(){this.cleanAndCloseDialog(z);}.bind(this));this.linksDialog.open();setTimeout(function(){this.browserHeightChange();}.bind(this),0);}.bind(this));},onChangeVisualPress:function(E){var i=E.getSource(),j=i.getModel(),w=i.getModel("visibility"),x=this.getIndexFromIdForStaticLinkList(i.getId()),y=j.getProperty("/staticContent/"+x+"/imageUri"),N=l.isImageUrlStaticData(y);this.attachBrowserHeightChangeHandler();this._oEvent=q.extend({},E);this._iCurrentRow=x;this._oModel=j;this._oVisibilityModel=w;var z=new B("iconsCancelBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.iconsDialog=new D({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_SELECT_VISUAL_DIALOG"),buttons:[z]}).addStyleClass("sapOvpSettingsDialogBox");var R=(N)?this.getIconAndImageDataModel():this.getIconAndImageDataModel(y);R.setProperty("/densityStyle",this.getDensityStyle());var A=new sap.ui.view("iconsDialogContent",{viewName:"sap.ovp.cards.rta.SelectIcons",type:t.XML,preprocessors:{xml:{bindingContexts:{tableRows:R.createBindingContext("/")},models:{tableRows:R}}}});R.setProperty("/tableName","IconTable");A.setModel(R);A.setModel(this.getView().getModel("ovpResourceModel"),"ovpResourceModel");this.iconsDialog.addContent(A);A.loaded().then(function(G){this._oIconsDialogContentView=G;G.getController().updateIconPath=function(U){var H=this._getLinkListItemId(this._oModel,parseInt(this._iCurrentRow,10)),K=this._oVisibilityModel.getProperty("/removeVisual");K[H]=true;this._oVisibilityModel.setProperty("/removeVisual",K);this._oVisibilityModel.refresh(true);this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/imageUri",U);this._oModel.refresh(true);this.updateCard(this._oEvent,"sapOvpSettingsStaticLinkListChangeVisual");this.cleanAndCloseDialog(z);}.bind(this);z.attachPress(function(){this.cleanAndCloseDialog(z);}.bind(this));this.iconsDialog.open();setTimeout(function(){this.browserHeightChange();}.bind(this),0);}.bind(this));},getDensityStyle:function(){if(!v.support.touch){return"compact";}else{return"cozy";}},cleanAndCloseDialog:function(i){if(this._oIconsDialogContentView){this._oIconsDialogContentView.destroy();}if(this._oLinksDialogContentView){this._oLinksDialogContentView.destroy();}if(this._oLineItemDialogContentView){this._oLineItemDialogContentView.destroy();}this.destroyTemplatesAndObjects();if(this.iconsDialog){this.iconsDialog.close();}if(this.linksDialog){this.linksDialog.close();}if(this.lineItemDialog){this.lineItemDialog.close();}i.destroy();this.detachBrowserHeightChangeHandler();},attachBrowserHeightChangeHandler:function(){v.resize.attachHandler(this.browserHeightChange,this);},detachBrowserHeightChangeHandler:function(){v.resize.detachHandler(this.browserHeightChange,this);},browserHeightChange:function(i){var j,w,x;if(this.iconsDialog&&this._oIconsDialogContentView){j=this.iconsDialog;w=this._oIconsDialogContentView;x="iconsScrollContainer";}else if(this.linksDialog&&this._oLinksDialogContentView){j=this.linksDialog;w=this._oLinksDialogContentView;x="linksScrollContainer";}else if(this.lineItemDialog&&this._oLineItemDialogContentView){j=this.lineItemDialog;w=this._oLineItemDialogContentView;x="lineItemScrollContainer";}if(j&&w&&x){var y=j.getDomRef(),z=(i?(i.height*93)/100:s.dialogBox.getDomRef().getBoundingClientRect().height),A=y.getBoundingClientRect().height,H=Math.max(z,A)-(u.getPixelPerRem()*9),E=w.byId(x);E.setHeight(H+"px");}},handleMessagePopoverPress:function(E){s.oMessagePopOver.openBy(E.getSource());},onShowMorePress:function(E){var i=E.getSource(),j=i.getModel(),w=i.getModel("visibility"),x=this.getIndexFromIdForStaticLinkList(i.getId()),y=this._getLinkListItemId(j,parseInt(x,10)),z=w.getProperty("/showMore/"+y);if(z){w.setProperty("/showMore/"+y,false);}else{w.setProperty("/showMore/"+y,true);}w.refresh(true);},onPressDelete:function(E){this._oEvent=q.extend({},E);M.confirm("Do you want to delete the Line Item",{actions:[M.Action.OK,M.Action.CANCEL],icon:M.Icon.INFORMATION,title:"Information",initialFocus:M.Action.CANCEL,onClose:function(A){if(A==="OK"){var i=this._oEvent.getSource(),j=i.getModel("visibility"),w=i.getModel(),x=this._getStaticContentArray(w),y=this._getSelectedItemIndex(w),z=this._getLinkListItemId(w,y),G=j.getProperty("/staticLink"),H=j.getProperty("/links"),R=j.getProperty("/removeVisual"),K=j.getProperty("/showMore");delete G[z];delete H[z];delete R[z];delete K[z];j.setProperty("/staticLink",G);j.setProperty("/links",H);j.setProperty("/removeVisual",R);j.setProperty("/showMore",K);x.splice(y,1);this._setStaticContentArray(w,x);w.refresh(true);if(x.length>0){this._setSelectedItemAndScrollToElement(Math.min(parseInt(y,10),x.length-1),true);}if(x.length<=1){j.setProperty("/delete",false);}j.refresh(true);this.updateCard(this._oEvent,"sapOvpSettingsStaticLinkListDelete");}delete this._oEvent;}.bind(this)});},onPressAdd:function(E){var i=E.getSource(),j=i.getModel("visibility"),w=i.getModel(),x=this._getStaticContentArray(w),y=w.getProperty("/lineItemIdCounter"),z=this._makeLinkListItemId(y+1),A=this._makeLinkListItemIndex(y+1),G=j.getProperty("/staticLink"),H=j.getProperty("/links"),R=j.getProperty("/removeVisual"),K=j.getProperty("/showMore");w.setProperty("/lineItemIdCounter",y+1);x.unshift({"id":z,"index":A,"title":"Default Title","subTitle":"Default SubTitle","imageUri":"","imageAltText":"","targetUri":"","openInNewWindow":""});G[A]=true;H[A]=false;R[A]=false;K[A]=false;j.setProperty("/staticLink",G);j.setProperty("/links",H);j.setProperty("/removeVisual",R);j.setProperty("/showMore",K);j.refresh(true);this._setStaticContentArray(w,x);w.refresh(true);this._setSelectedItemAndScrollToElement(0);this.updateCard(E,"sapOvpSettingsStaticLinkListAdd");},onPressMoveToTheTop:function(E){var i=E.getSource().getModel();this._arrangeStaticContent(i,this._getSelectedItemIndex(i),0);this.updateCard(E,"sapOvpSettingsStaticLinkListSort");},onPressMoveUp:function(E){var i=E.getSource().getModel(),j=this._getSelectedItemIndex(i);this._arrangeStaticContent(i,j,j-1);this.updateCard(E,"sapOvpSettingsStaticLinkListSort");},onPressMoveDown:function(E){var i=E.getSource().getModel(),j=this._getSelectedItemIndex(i);this._arrangeStaticContent(i,j,j+1);this.updateCard(E,"sapOvpSettingsStaticLinkListSort");},onPressMoveToTheBottom:function(E){var i=E.getSource().getModel(),j=this._getSelectedItemIndex(i),w=this._getLastItemIndex(i);this._arrangeStaticContent(i,j,w);this.updateCard(E,"sapOvpSettingsStaticLinkListSort");},onResetButton:function(){this._oCardManifestSettings=q.extend(true,{},this._oOriginalCardManifestSettings);var i=this.getView().getModel();i.setProperty("/",this._oCardManifestSettings);s.setVisibilityForFormElements(this._oCardManifestSettings);this.getView().getModel("visibility").refresh();if(this._oCardManifestSettings.layoutDetail==="resizable"){if(this._oCardManifestSettings.stopResizing){this.getView().byId("sapOvpSettingsStopResize").setState(false);}else if(!this._oCardManifestSettings.stopResizing){this.getView().byId("sapOvpSettingsStopResize").setState(true);}}s.resetErrorHandling();this.setEnablePropertyForResetAndSaveButton(false);this._fCardWithRefresh();},onSaveButtonPress:function(){if(s.bError){s.oMessagePopOverButton.firePress();}else{this.createAndSubmitChange.bind(this)();}},onResizingChange:function(E){var i=E.getParameter("state");this._oCardManifestSettings.stopResizing=!i;this.updateCard(E);},onNumberOfRowsChanged:function(E){var R=+this._oCardManifestSettings.defaultSpan.rows;this._oCardManifestSettings.defaultSpan.rows=R;this._oCardManifestSettings.defaultSpan.showOnlyHeader=(R===0);this._oCardManifestSettings.cardLayout.showOnlyHeader=(R===0);var i=["sap.ovp.cards.list","sap.ovp.cards.table"];if(i.indexOf(this._oCardManifestSettings.template)!==-1){this._oCardManifestSettings.cardLayout.noOfItems=R;}else{this._oCardManifestSettings.cardLayout.rowSpan=R;}this.updateCard(E);},onNumberOfColumnsChanged:function(E){this._oCardManifestSettings.defaultSpan.cols=+this._oCardManifestSettings.defaultSpan.cols;this.updateCard(E);},setBusy:function(i){if(i){this.getView().addStyleClass("dialogContainerOverlay");var j=this.getView().byId("dialogCard");if(j.getVisible()){j.getComponentInstance().getRootControl().setBusy(i);}}else{this.getView().removeStyleClass("dialogContainerOverlay");setTimeout(function(){var j=this.getView().byId("dialogCard");if(j.getVisible()){j.getComponentInstance().getRootControl().setBusy(i);}}.bind(this),2000);}},_fCardWithoutRefresh:function(E,i){var j=this.getView(),w=this._oCardManifestSettings,x=j.byId("dialogCard").getComponentInstance(),R=x.getRootControl(),y=R.getController(),z=y.getCardPropertiesModel(),A,G,H=false,K;if(w.tabs&&w.tabs.length){H=true;K=parseInt(w.selectedKey,10);}if(i.formElementId==="sapOvpSettingsLineItemTitle"||i.formElementId==="sapOvpSettingsLineItemSubTitle"){A=R.byId(i.cardElementId+"--"+j.getModel().getProperty("/lineItemId"));}else{A=R.byId(i.cardElementId);if(!A){this._fCardWithRefresh(E,i.cardElementId);}}switch(i.formElementId){case"sapOvpSettingsLineItemTitle":case"sapOvpSettingsLineItemSubTitle":case"sapOvpSettingsTitle":case"sapOvpSettingsValueSelectionInfo":if(A){A.setText(E.getSource().getValue());}break;case"sapOvpSettingsSubTitle":z.setProperty("/subTitle",E.getSource().getValue());y._setSubTitleWithUnitOfMeasure();break;case"sapOvpSettingsViewName":var N=w.viewName;G=j.getModel();A.getItems()[K-1].setText(N);w.tabs[K-1].value=N;if(w.defaultViewSelected===K){N=N+" ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";}w.aViews[K].text=N;G.refresh();break;case"sapOvpDefaultViewSwitch":if(E.getSource().getState()){var Q=w.defaultViewSelected;G=j.getModel();w.defaultViewSelected=K;w.aViews[Q].text=w.tabs[Q-1].value;w.aViews[K].text+=" ("+this.oOvpResourceBundle.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";G.refresh();this.defaultViewSwitch=E.getSource();this.defaultViewSwitch.setEnabled(false);}break;case"sapOvpSettingsIdentification":if(H){w.tabs[K-1][i.updateProperty]=w[i.updateProperty];}break;case"sapOvpSettingsKPIHeaderSwitch":var U=j.getModel("visibility"),W=U.getData();W.dataPoint=false;W.valueSelectionInfo=false;if(H){w.tabs.forEach(function(Y){Y.prevDataPointAnnotationPath=Y.dataPointAnnotationPath;Y.dataPointAnnotationPath=undefined;});}else{var X=w.dataPointAnnotationPath;if(X){w.prevDataPointAnnotationPath=X;}w.dataPointAnnotationPath=undefined;}U.refresh(true);A.destroy();break;default:break;}},_fCardWithRefresh:function(E,i){var j,w,x,y,z,A=this._oCardManifestSettings,G=this.getView(),H=G.byId("dialogCard"),K=H.getComponentInstance().getComponentData(),N=K.cardId,Q=K.manifest.cards[N].model,R={cards:{}},U=false,W;if(A.tabs&&A.tabs.length){U=true;W=parseInt(A.selectedKey,10);}switch(i){case"subTitleSwitch":x=this.getView();y=x.getModel("visibility");if(E.getSource().getState()){if(U){w=A.defaultViewSelected;A.tabs.forEach(function(Z){j=Z.prevDynamicSubtitleAnnotationPath;if(j){Z.dynamicSubtitleAnnotationPath=j;}else{Z.dynamicSubtitleAnnotationPath=A.dynamicSubTitle[0].value;}});A.dynamicSubtitleAnnotationPath=A.tabs[w-1].dynamicSubtitleAnnotationPath;}else{j=A.prevDynamicSubtitleAnnotationPath;if(j){A.dynamicSubtitleAnnotationPath=j;}else{A.dynamicSubtitleAnnotationPath=A.dynamicSubTitle[0].value;}}G.byId("sapOvpSettingsDynamicSubTitle").setSelectedKey(A.dynamicSubtitleAnnotationPath);}else{if(U){A.tabs.forEach(function(Z){Z.prevDynamicSubtitleAnnotationPath=Z.dynamicSubtitleAnnotationPath;Z.dynamicSubtitleAnnotationPath=undefined;});A.dynamicSubtitleAnnotationPath=undefined;}else{var X=A.dynamicSubtitleAnnotationPath;if(X){A.prevDynamicSubtitleAnnotationPath=X;}A.dynamicSubtitleAnnotationPath=undefined;}}y.setProperty("/subTitle",s.getVisibilityOfElement(A,"subTitle",U));y.setProperty("/dynamicSubTitle",s.getVisibilityOfElement(A,"dynamicSubTitle",U)&&!!A["dynamicSubTitle"]&&!!A["dynamicSubTitle"].length);y.refresh(true);break;case"kpiHeader":x=this.getView();y=x.getModel("visibility");z=y.getData();z.valueSelectionInfo=true;z.dataPoint=true;if(A.tabs&&A.tabs.length){z.dataPoint=s.getVisibilityOfElement(A,"dataPoint",true);}if(!A.valueSelectionInfo){A.valueSelectionInfo=" ";}if(U){w=A.defaultViewSelected;A.tabs.forEach(function(Z){j=Z.prevDataPointAnnotationPath;if(j){Z.dataPointAnnotationPath=j;}else{Z.dataPointAnnotationPath=A.dataPoint[0].value;}});A.dataPointAnnotationPath=A.tabs[w-1].dataPointAnnotationPath;}else{j=A.prevDataPointAnnotationPath;if(j){A.dataPointAnnotationPath=j;}else{A.dataPointAnnotationPath=A.dataPoint[0].value;}}y.refresh(true);break;case"listType":A[i]=(E.getSource().getState())?"extended":"condensed";break;case"listFlavor":A[i]=(E.getSource().getState())?"bar":"";break;case"sortBy":x=this.getView();y=x.getModel("visibility");z=y.getData();if(!!A.sortBy!==z.sortOrder){z.sortOrder=!!A.sortBy;y.refresh();}break;case"listFlavorForLinkList":case"sortOrder":break;case"annotationPath":case"chartAnnotationPath":case"presentationAnnotationPath":case"selectionAnnotationPath":case"selectionPresentationAnnotationPath":case"dynamicSubtitleAnnotationPath":case"dataPointAnnotationPath":if(U){A.tabs[W-1][i]=A[i];}break;case"noOfRows":case"ovpHeaderTitle":case"add":case"removeVisual":case"changeVisual":case"sort":case"delete":break;default:break;}R.cards[N]={template:K.template,settings:A};if(!!Q){R.cards[N].model=Q;}this.setBusy(true);var Y=O.createCardComponent(G,R,"dialogCard");Y.then(function(){this.setBusy(false);var Z=this.getView().byId("sapOvpStaticLinkListLineItem");if(Z){var $=Z.getSelectedItem();if($){var _=$.getId(),a1=this.getIndexFromIdForStaticLinkList(_);this.setCurrentActivePageForCarouselCard(a1);}}}.bind(this));Y.catch(function(){this.setBusy(false);}.bind(this));},updateCard:function(E,w){var x=this._oCardManifestSettings,y=this.getView().byId("dialogCard");this.setEnablePropertyForResetAndSaveButton(true);if(y.getVisible()){if(x.tabs&&x.tabs.length){var z=parseInt(x.selectedKey,10);x.isViewResetEnabled=true;x.aViews[z].isViewResetEnabled=true;}var A=E.getSource(),G=(w)?w:A.getId(),H=false;if(G.indexOf("sapOvpStaticLinkListLineItem")!==-1){var K=A.getModel(),N=K.getData().staticContent,Q=this.getIndexFromIdForStaticLinkList(G);this.setCurrentActivePageForCarouselCard(Q);K.setProperty("/lineItemId",N[Q].id);if(G.indexOf("sapOvpSettingsLineItemTitle")!==-1){G="sapOvpSettingsLineItemTitle";}else if(G.indexOf("sapOvpSettingsLineItemSubTitle")!==-1){G="sapOvpSettingsLineItemSubTitle";}}for(var i=0;i<this._aRefreshNotRequired.length;i++){if(G.indexOf(this._aRefreshNotRequired[i].formElementId)>-1){if(this._aRefreshNotRequired[i].isKpiSwitch&&E.getSource().getState()){break;}this._fCardWithoutRefresh(E,this._aRefreshNotRequired[i]);H=true;break;}}if(!H){for(var j=0;j<this._aRefreshRequired.length;j++){if(G.indexOf(this._aRefreshRequired[j].formElementId)>-1){this.setBusy(true);this._fCardWithRefresh(E,this._aRefreshRequired[j].updateProperty);break;}}}}},onExit:function(){s.oSaveButton.detachPress(this.onSaveButtonPress,this);s.oResetButton.detachPress(this.onResetButton,this);s.oMessagePopOverButton.detachPress(this.handleMessagePopoverPress,this);},getListItems:function(){var i=[],j=this._oCardManifestSettings,w=this.getView(),x=w.byId("dialogCard"),y=x.getComponentInstance().getComponentData(),z=j.entityType.$path+"/"+j.annotationPath,A=y.model.getMetaModel(),E=A.getContext(A.resolve(z,this.oView.getBindingContext()));var G=2,H=1,K=0;if(j.listFlavor==="bar"){G=1;H=2;}if(j.listType&&j.listType.toLowerCase()==="extended"){G=6;H=3;K=3;if(j.listFlavor==="bar"){G=5;}}else if(j.contentFragment==="sap.ovp.cards.table.Table"){G=3;H=1;K=1;}j.lineItem.forEach(function(N){var Q=m.getSortedDataPoints(E,N.fields),R=m.getSortedDataFields(E,N.fields),U=[],W=[];Q.forEach(function($){if($.Title){W.push($.Title.String);}});R.forEach(function($){if($.Label){U.push($.Label.String);}});var X=Math.min(W.length,H),Y=Math.min(K,X),Z=U.slice(0,G-Y).concat(W.slice(0,X));Z.map(function($){return $.charAt(0).toUpperCase()+$.substr(1);});i.push({Value:N.value,Label:N.name,VisibleFields:Z.toString()});});return i;},openLineItemValueHelpDialog:function(E){this.attachBrowserHeightChangeHandler();this._oEvent=q.extend({},E);var i=new B("lineItemCancelBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.lineItemDialog=new D({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_LINEITEM_ANNO"),buttons:[i]}).addStyleClass("sapOvpSettingsDialogBox");var R=new J({"lineItem":this.getListItems()});R.setProperty("/densityStyle",this.getDensityStyle());R.setProperty("/NoOfLineItem",R.getProperty("/lineItem").length);var j=new sap.ui.view("lineItemDialogContent",{viewName:"sap.ovp.cards.rta.SelectLineItem",type:t.XML,preprocessors:{xml:{bindingContexts:{tableRows:R.createBindingContext("/")},models:{tableRows:R}}}});j.setModel(R);j.setModel(this.getView().getModel("ovpResourceModel"),"ovpResourceModel");this.lineItemDialog.addContent(j);j.loaded().then(function(w){this._oLineItemDialogContentView=w;w.getController().updateLineItemPath=function(x){var y=x.Value,z=this._oCardManifestSettings,A;if(z.tabs&&z.tabs.length){A=parseInt(z.selectedKey,10);}z.lineItemQualifier=s.getQualifier(y);z.annotationPath=y;if(z.tabs&&z.tabs.length){z.tabs[A-1].annotationPath=z.annotationPath;}this.getView().byId("sapOvpSettingsLineItem").setValue(x.Label);this._fCardWithRefresh(this._oEvent,"annotationPath");this.setEnablePropertyForResetAndSaveButton(true);if(z.tabs&&z.tabs.length){z.isViewResetEnabled=true;z.aViews[A].isViewResetEnabled=true;}this.cleanAndCloseDialog(i);}.bind(this);i.attachPress(function(){this.cleanAndCloseDialog(i);}.bind(this));this.lineItemDialog.open();setTimeout(function(){this.browserHeightChange();}.bind(this),0);}.bind(this));},createAndSubmitChange:function(){var i;if(s.bNewStaticLinkListCardFlag){i=P.getPayLoadForNewStaticLinkListCard.bind(this)(s);}else{i=P.getPayLoadForEditCard.bind(this)(s);}this.settingsResolve(i);s.dialogBox.close();}});});
sap.ui.predefine('sap/ovp/cards/rta/SettingsDialogConstants',[],function(){"use strict";return{aVariantNames:[{sVariant:".SelectionVariant",sPath:"selectionVariant"},{sVariant:".PresentationVariant",sPath:"presentationVariant"},{sVariant:".SelectionPresentationVariant",sPath:"selectionPresentationVariant"},{sVariant:".Identification",sPath:"identification"},{sVariant:".DataPoint",sPath:"dataPoint",isMandatoryField:true},{sVariant:".Chart",sPath:"chart",isMandatoryField:true},{sVariant:".LineItem",sPath:"lineItem",isMandatoryField:true},{sVariant:".HeaderInfo",sPath:"dynamicSubTitle",isMandatoryField:true}],tabFields:['dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','colorPalette','ChartProperties','chartProperties','selectionPresentationAnnotationPath','kpiAnnotationPath','value'],mainFields:['title','subTitle','valueSelectionInfo','listType','listFlavor','sortOrder','sortBy','stopResizing','defaultSpan'],cardSettingsForStaticLinkListCard:['title','subTitle','listFlavor','stopResizing','defaultSpan'],allCardSettings:['entitySet','listType','listFlavor','sortOrder','sortBy','imageUri','targetUri','openInNewWindow','semanticObject','action','dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','colorPalette','ChartProperties','chartProperties','selectionPresentationAnnotationPath','kpiAnnotationPath','stopResizing','defaultSpan'],cardSettingsArrayLevel:{"staticContent":{"text":['title','subTitle'],"settings":['imageUri','imageAltText','targetUri','openInNewWindow','semanticObject','action']},"tabs":{"text":['value'],"settings":['dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','colorPalette','ChartProperties','chartProperties','selectionPresentationAnnotationPath','kpiAnnotationPath'],"onlyTabLevelProps":['value']}},cardSettingsForComplex:{"text":['title','subTitle','valueSelectionInfo'],"settings":['listType','listFlavor','sortOrder','sortBy','stopResizing','defaultSpan']},cardSettings:{"text":['title','subTitle','valueSelectionInfo'],"settings":['listType','listFlavor','sortOrder','sortBy','dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','colorPalette','ChartProperties','chartProperties','selectionPresentationAnnotationPath','kpiAnnotationPath','stopResizing','defaultSpan']},cardSettingsWithText:['title','subTitle','valueSelectionInfo',{'staticContent':['title','subTitle']},{'tabs':['value']}],oVisibility:{"cardPreview":true,"stopResizing":false,"noOfRows":false,"noOfColumns":false,"title":true,"dynamicSwitchStateSubTitle":false,"dynamicSwitchSubTitle":false,"dynamicSubTitle":false,"subTitle":true,"kpiHeader":true,"valueSelectionInfo":true,"listType":true,"listFlavor":true,"sortOrder":true,"sortBy":true,"selectionPresentationVariant":true,"selectionVariant":true,"presentationVariant":true,"lineItem":true,"identification":true,"dataPoint":true,"chart":true,"links":false,"lineItemTitle":false,"lineItemSubTitle":false,"staticLink":false,"viewSwitch":false,"moveToTheTop":false,"moveUp":false,"moveDown":false,"moveToTheBottom":false,"delete":false,"showMore":true,"removeVisual":false},_aRefreshNotRequired:[{"formElementId":"sapOvpSettingsTitle","cardElementId":"ovpHeaderTitle"},{"formElementId":"sapOvpSettingsViewName","cardElementId":"ovp_card_dropdown"},{"formElementId":"sapOvpDefaultViewSwitch","cardElementId":""},{"formElementId":"sapOvpSettingsSubTitle","cardElementId":"SubTitle-Text"},{"formElementId":"sapOvpSettingsLineItemTitle","cardElementId":"linkListTitleLabel"},{"formElementId":"sapOvpSettingsLineItemSubTitle","cardElementId":"linkListSubTitleLabel"},{"formElementId":"sapOvpSettingsValueSelectionInfo","cardElementId":"ovpValueSelectionInfo"},{"formElementId":"sapOvpSettingsIdentification","cardElementId":"","updateProperty":"identificationAnnotationPath"},{"formElementId":"sapOvpSettingsKPIHeaderSwitch","cardElementId":"kpiHeader","isKpiSwitch":true}],_aRefreshRequired:[{"formElementId":"sapOvpSettingsKPIHeaderSwitch","updateProperty":"kpiHeader"},{"formElementId":"sapOvpSettingsSwitchSubTitle","updateProperty":"subTitleSwitch"},{"formElementId":"sapOvpSettingsListType","updateProperty":"listType"},{"formElementId":"sapOvpSettingsListFlavorForList","updateProperty":"listFlavor"},{"formElementId":"sapOvpSettingsListFlavorForLinkList","updateProperty":"listFlavorForLinkList"},{"formElementId":"sapOvpSettingsSortOrder","updateProperty":"sortOrder"},{"formElementId":"sapOvpSettingsSortBy","updateProperty":"sortBy"},{"formElementId":"sapOvpSettingsDynamicSubTitle","updateProperty":"dynamicSubtitleAnnotationPath"},{"formElementId":"sapOvpSettingsFilterAndPresentedBy","updateProperty":"selectionPresentationAnnotationPath"},{"formElementId":"sapOvpSettingsFilterBy","updateProperty":"selectionAnnotationPath"},{"formElementId":"sapOvpSettingsPresentedBy","updateProperty":"presentationAnnotationPath"},{"formElementId":"sapOvpSettingsDataPoint","updateProperty":"dataPointAnnotationPath"},{"formElementId":"sapOvpSettingsChart","updateProperty":"chartAnnotationPath"},{"formElementId":"sapOvpSettingsLineItem","updateProperty":"annotationPath"},{"formElementId":"sapOvpSettingsStaticLinkListDelete","updateProperty":"delete"},{"formElementId":"sapOvpSettingsStaticLinkListAdd","updateProperty":"add"},{"formElementId":"sapOvpSettingsStaticLinkListSort","updateProperty":"sort"},{"formElementId":"sapOvpSettingsStaticLinkListChangeVisual","updateProperty":"changeVisual"},{"formElementId":"sapOvpSettingsStaticLinkListRemoveVisual","updateProperty":"removeVisual"},{"formElementId":"sapOvpSettingsNumberOfRows","updateProperty":"noOfRows"}]};},true);
sap.ui.predefine('sap/ovp/cards/stack/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){"use strict";return C.extend("sap.ovp.cards.stack.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.stack.Stack"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.stack.Stack"},"contentPosition":{"type":"string","defaultValue":"Right"},"objectStreamCardsSettings":{"type":"object","defaultValue":{}},"objectStreamCardsTemplate":{"type":"string","defaultValue":"sap.ovp.cards.quickview"},"objectStreamCardsNavigationProperty":{"type":"string"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/stack/Stack.controller',["sap/ovp/cards/generic/Card.controller","sap/m/library","jquery.sap.global","sap/ovp/ui/ObjectStream","sap/ovp/cards/AnnotationHelper","sap/ui/Device","sap/ui/base/BindingParser","sap/ui/core/ComponentContainer","sap/m/Link","sap/ovp/ui/CustomData","sap/ui/core/Icon","sap/m/FlexItemData","sap/m/Text","sap/m/VBox"],function(C,S,q,O,A,D,B,a,L,b,I,F,T,V){"use strict";return C.extend("sap.ovp.cards.stack.Stack",{onInit:function(){C.prototype.onInit.apply(this,arguments);var v=this._oCard=this.getView().byId("stackContent");v.addEventDelegate({onclick:this.openStack.bind(this),onkeydown:function(e){if(!e.shiftKey&&(e.keyCode==13||e.keyCode==32)){e.preventDefault();this.openStack();}}.bind(this)});if(D.system.phone){this.bAfterColumnUpdateAttached=false;this.bDeviceOrientationAttached=false;}this._createObjectStream();},onExit:function(){if(this.oObjectStream){this.oObjectStream.destroy();}},addPlaceHolder:function(n){var v=this.getView();var c=v.getModel("ovpCardProperties");var o=c.getProperty("/objectStreamCardsNavigationProperty");var s=o?true:false;if(!s){var N=this.getEntityNavigationEntries();if(N.length>0){var d=N[0].label;if(this.sPlaceHolderText==undefined){this.sPlaceHolderText=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("PlaceHolder_default");}var p=this._createPlaceHolder(n,this.sPlaceHolderText,d);var t=this;p.addEventDelegate({onclick:function(){t.doNavigation(null);}});this.oObjectStream.setPlaceHolder(p);}}},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);if(D.system.phone){this._cardWidth=this.getView().$().width();if(!this.bAfterColumnUpdateAttached){var c=this.getOwnerComponent().getComponentData();if(c&&c.mainComponent){var m=c.mainComponent,l=m.byId("ovpLayout");l.attachAfterColumnUpdate(function(e){this._setObjectStreamCardsSize(false);}.bind(this));this.bAfterColumnUpdateAttached=true;}}if(!this.bDeviceOrientationAttached){D.orientation.attachHandler(function(e){this._setObjectStreamCardsSize(true);}.bind(this));}}if(this.bSetErrorState&&this.bSetErrorState===true){this.setErrorState();return;}var v=this.getView();if(this.oObjectStream){var o=this.oObjectStream.getBinding("content");o.attachDataRequested(function(){if(this.getView().byId('stackSize')!==undefined&&this.getView().byId('stackTotalSize')!==undefined){q(this.getView().byId('stackSize').getDomRef()).css('visibility','hidden');q(this.getView().byId('stackTotalSize').getDomRef()).css('visibility','hidden');}},this);o.attachDataReceived(function(){var d=this.getView().getModel("ovpCardProperties").getObject("/category"),n=o.getCurrentContexts().length,e=o.getLength();v.byId("stackSize").setText(n);v.byId("stackTotalSize").setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Total_Size_Stack_Card",[e]));var s=this.getView().byId("stackContent").getDomRef();q(s).attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("stackCardContent",[n,e,d]));var f=this.getView().byId("stackSize").getDomRef();q(f).attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("stackCard",[n]));this.addPlaceHolder(e);if(this.getView().byId('stackSize')!==undefined&&this.getView().byId('stackTotalSize')!==undefined){q(this.getView().byId('stackSize').getDomRef()).css('visibility','visible');q(this.getView().byId('stackTotalSize').getDomRef()).css('visibility','visible');}var g=this.getView().getDomRef();var h=q(g).find('.sapOvpCardContentContainer');if(e!==0){if(h.length!==0){h.addClass('sapOvpCardNavigable');}}else{if(h.length!==0){var i=h.find("[role='button']");if(i.length!==0){i.removeAttr("role");}}}},this);this.addPlaceHolder("");if(o.bPendingRequest===false){o.fireDataReceived();}if(this.checkNavigation()){this.oObjectStream.getTitle().addStyleClass('sapOvpCardNavigable');}}},getCardItemsBinding:function(){return this.oObjectStream.getBinding("content");},_setObjectStreamCardsSize:function(i){var c=this.getView().$().width();if(this._cardWidth!=c||i){this.oObjectStream.setCardsSize(c);this._cardWidth=c;}},_createObjectStream:function(){if(this.oObjectStream instanceof O){return;}var o=this.getOwnerComponent();var c=o.getComponentData&&o.getComponentData();var p;var P;if(c.i18n){var d=c.i18n;}if(c&&c.mainComponent){p=c.mainComponent._getOvplibResourceBundle();}else{p=o.getOvplibResourceBundle();}P=o.getPreprocessors(p);var m=c.model;var e=P.xml.ovpCardProperties;var E=e.getProperty("/entitySet");var f=e.getProperty("/objectStreamCardsSettings");var M=m.getMetaModel();var g=M.getODataEntitySet(E);var h=M.getODataEntityType(g.entityType);var s=e.getProperty("/annotationPath");var i=(s)?s.split(","):[];var j,k,G;if(c){j=c.appComponent;k=c.mainComponent;}if(k){G=k.getView().byId("ovpGlobalFilter");}function l(N){if(N==="ovpCardProperties"){return e;}else if(N==="dataModel"){return m;}else if(N==="_ovpCache"){return{};}}var n=[{getSetting:l,bDummyContext:true},g].concat(i);var r=A.formatItems.apply(this,n);var t=B.complexParser(r);var u=e.getProperty("/objectStreamCardsNavigationProperty");var v=u?true:false;var w;var x=e.getProperty("/objectStreamCardsTemplate");if(v){if(x==="sap.ovp.cards.quickview"){q.sap.log.error("objectStreamCardsTemplate cannot be 'sap.ovp.cards.quickview' when objectStreamCardsNavigationProperty is provided");this.bSetErrorState=true;return;}w=this._determineFilterPropertyId(m,g,h,u);f.entitySet=m.getMetaModel().getODataAssociationSetEnd(h,u).entitySet;}else{if(x!=="sap.ovp.cards.quickview"){q.sap.log.error("objectStreamCardsTemplate must be 'sap.ovp.cards.quickview' when objectStreamCardsNavigationProperty is not provided");this.bSetErrorState=true;return;}var y=null;var z=e.getProperty("/identificationAnnotationPath");var H=(z)?z.split(","):[];if(H&&H.length>1){y=H[1];}if(y){f.identificationAnnotationPath=y;}if(h["com.sap.vocabularies.UI.v1.HeaderInfo"]&&h["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName&&h["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName.String){f.title=h["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName.String;}else{f.title=h.name;}f.entitySet=E;}f.isObjectStream=true;t.factory=function(N,Q){var R=f,U;if(v){U={filters:[{path:w.foreignKey,operator:"EQ",value1:Q.getProperty(w.key)}]};R=q.extend(U,f);}var W=new a();var X={name:e.getProperty("/objectStreamCardsTemplate"),async:true,componentData:{cardId:N,model:m,settings:R,appComponent:j,mainComponent:k}};if(G){X.componentData.globalFilter={getUiState:G.getUiState.bind(G)};}sap.ui.component(X).then(function(Y){Y.setBindingContext(Q);if(d){Y.setModel(d,"@i18n");}W.setComponent(Y);W.setBindingContext=function(Q){Y.setBindingContext(Q);};});return W;};var J=e.getObject("/title");this.sPlaceHolderText=e.getObject("/itemText");var K=new L({text:J,subtle:true,press:this.handleObjectStreamTitlePressed.bind(this)}).addStyleClass("sapOvpObjectStreamHeader");K.addCustomData(new b({key:"tabindex",value:"0",writeToDom:true}));K.addCustomData(new b({key:"aria-label",value:J,writeToDom:true}));this.oObjectStream=new O(this.getView().getId()+"_ObjectStream",{title:K,content:t});this.oObjectStream.setModel(m);},_determineFilterPropertyId:function(m,e,E,n){var N,c=E.namespace,r,o;for(var i=0;i<E.navigationProperty.length;i++){if(E.navigationProperty[i].name===n){N=E.navigationProperty[i];break;}}r=N.relationship;o=A.getAssociationObject(m,r,c);var R=o.referentialConstraint,f={};if(R){f.foreignKey=R.dependent.propertyRef[0].name;f.key=R.principal.propertyRef[0].name;return f;}},_createPlaceHolder:function(n,p,s){var i=new I({src:"sap-icon://display-more",useIconTooltip:false,layoutData:new F({alignSelf:S.FlexAlignSelf.Center,styleClass:"sapOvpStackPlaceHolderIconContainer"})});i.addStyleClass("sapOvpStackPlaceHolderIcon");var c=n+" "+p;var d=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("SeeMoreContentAppName",[c,s]);var t=new T({text:d,textAlign:"Center",layoutData:new F({alignSelf:S.FlexAlignSelf.Center,maxWidth:"14rem"})});t.addCustomData(new b({key:"role",value:"heading",writeToDom:true}));t.addCustomData(new b({key:"aria-label",value:d,writeToDom:true}));t.addStyleClass("sapOvpStackPlaceHolderTextLine");var o=new V({items:[t]});o.addStyleClass("sapOvpStackPlaceHolderLabelsContainer");o.addCustomData(new b({key:"tabindex",value:"0",writeToDom:true}));o.addCustomData(new b({key:"role",value:"button",writeToDom:true}));var v=new V({items:[i,o]});v.addStyleClass("sapOvpStackPlaceHolder");v.addEventDelegate({onkeydown:function(e){if(!e.shiftKey&&(e.keyCode==13||e.keyCode==32)){e.preventDefault();e.srcControl.$().click();}}});return v;},openStack:function(){if(this.oObjectStream){var l=this.oObjectStream.getBinding("content");if(l.getCurrentContexts().length>0){var c=this.getView().$().width();this.getView().addDependent(this.oObjectStream);this.oObjectStream.setModel(this.getView().getModel("@i18n"),"@i18n");this.oObjectStream.open(c,this._oCard);}}},handleObjectStreamTitlePressed:function(e){this.doNavigation(null);}});});
sap.ui.predefine('sap/ovp/cards/table/Component',["sap/ovp/cards/generic/Component","jquery.sap.global"],function(C,q){return C.extend("sap.ovp.cards.table.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.table.Table"},"controllerName":{"type":"string","defaultValue":"sap.ovp.cards.table.Table"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.LineItem"},"countHeaderFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.CountHeader"},"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"}},version:"1.56.5",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/table/Table.controller',["sap/ovp/cards/generic/Card.controller","jquery.sap.global","sap/ovp/cards/OVPCardAsAPIUtils","sap/ovp/cards/CommonUtils"],function(C,q,O,a){"use strict";return C.extend("sap.ovp.cards.table.Table",{onInit:function(){C.prototype.onInit.apply(this,arguments);},onColumnListItemPress:function(e){if(O.checkIfAPIIsUsed(this)){a.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onContactDetailsLinkPress:function(e){var p,s,b;s=e.getSource();p=s.getParent().getAggregation("items")[0];b=s.getBindingContext();if(!b){return;}p.bindElement(b.getPath());p.openBy(s);},getCardItemsBinding:function(){var t=this.getView().byId("ovpTable");return t.getBinding("items");},onAfterRendering:function(){C.prototype.onAfterRendering.apply(this,arguments);var c=this.getOwnerComponent().getComponentData();var o=this.getCardPropertiesModel();if(!O.checkIfAPIIsUsed(this)&&o.getProperty("/layoutDetail")==="resizable"){var b=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(c.cardId);var h=this.getHeaderHeight();var s=this.oDashboardLayoutUtil.getCardDomId(c.cardId);var e=document.getElementById(s);if(!b.dashboardLayout.autoSpan){e.getElementsByClassName('sapOvpWrapper')[0].style.height=((b.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX)+1-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX))+"px";}if(b.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}this.addColumnInTable(q(e),{colSpan:b.dashboardLayout.colSpan});}else{var t=this.getView().byId("ovpTable");var A=t.getAggregation("columns");for(var i=0;i<3;i++){if(A[i]){A[i].setStyleClass("sapTableColumnShow").setVisible(true);}}}},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpTable");return l.getBindingInfo("items");},addColumnInTable:function($,c){if(c.colSpan>=1){if(q($).find("tr").length!=0){var t=sap.ui.getCore().byId(q($).find(".sapMList").attr("id"));var b=t.getAggregation("columns");var d=c.colSpan;var I=d+1;for(var i=0;i<6;i++){if(b[i]){if(i<=I){b[i].setStyleClass("sapTableColumnShow").setVisible(true);}else{b[i].setStyleClass("sapTableColumnHide").setVisible(false);}}}}}},resizeCard:function(n,c){var N,A,h,A;try{var $=document.getElementById(this.oDashboardLayoutUtil.getCardDomId(this.cardId)),b=this.getCardItemBindingInfo(),H=this.getHeaderHeight(),o=this.getView().byId('ovpCardContentContainer').getDomRef();if(n.showOnlyHeader){o.classList.add('sapOvpContentHidden');N=0;}else{o.classList.remove('sapOvpContentHidden');h=H+c.dropDownHeight;A=(n.rowSpan*n.iRowHeightPx)-h-c.itemHeight;N=Math.abs(Math.floor(A/c.itemHeight));$.style.height=n.rowSpan*n.iRowHeightPx+'px';}o.style.height=(n.rowSpan*n.iRowHeightPx)-(H+2*n.iCardBorderPx)+"px";this.addColumnInTable(this.getView().$(),n);if(N!==b.length){b.length=N;n.noOfItems=b.length;this.getCardItemsBinding().refresh();}}catch(e){q.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});});
sap.ui.predefine('sap/ovp/flexibility/DashboardLayout.flexibility',["sap/ovp/changeHandler/HideCardContainer","sap/ovp/changeHandler/UnhideCardContainer","sap/ovp/changeHandler/UnhideControl","sap/ui/dt/OverlayRegistry","sap/ui/core/ComponentContainer","sap/m/MessageToast","sap/ovp/cards/rta/SettingsDialogConstants"],function(H,U,a,O,C,M,S){"use strict";return{"moveControls":{"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"unhideControl":a,"unhideCardContainer":U,"hideCardContainer":H,"editCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent(),e=d.newAppDescriptor,f=m.byId(e.id),g=b.getLayout(),l=g.getDashboardLayoutModel(),L=g.getDashboardLayoutUtil(),h=l.getCardById(e.id),i=L.calculateCardProperties(e.id),n=e.settings.defaultSpan&&e.settings.defaultSpan.rows,N=e.settings.defaultSpan&&e.settings.defaultSpan.cols,j=l.getColCount()+1,k=[],F=false;c.setRevertData(d.oldAppDescriptor);if(f){if(e.settings.tabs){var D=e.settings.selectedKey;if(!D||D<1){D=1;}S.tabFields.forEach(function(r){delete e.settings[r];var v=e.settings.tabs[D-1][r];if(v){e.settings[r]=v;}});}if(typeof n==='number'){if(n===0){h.dashboardLayout.showOnlyHeader=true;n=Math.ceil((i.headerHeight+2*L.CARD_BORDER_PX)/L.getRowHeightPx());}else{h.dashboardLayout.showOnlyHeader=false;if(e.template==='sap.ovp.cards.list'||e.template==='sap.ovp.cards.table'){h.dashboardLayout.noOfItems=n;}}}if(N){if(h.dashboardLayout.column+N>j){h.dashboardLayout.maxColSpan=N;N=j-h.dashboardLayout.column;}F=true;}if(F){l._arrangeCards(h,{row:n,column:N},'resize',k);l._removeSpaceBeforeCard(k);L._positionCards(l.aCards);F=false;}var q=f.getComponentInstance();q.destroy();}b.recreateRTAClonedCard(e);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getRevertData(),e=m.byId(d.id),f=b.getLayout(),l=f.getDashboardLayoutModel(),L=f.getDashboardLayoutUtil(),g=l.getCardById(d.id),i=d.settings.defaultSpan&&d.settings.defaultSpan.rowSpan,h=d.settings.defaultSpan&&d.settings.defaultSpan.colSpan,s=d.settings.defaultSpan&&d.settings.defaultSpan.showOnlyHeader,j=[];if(e){g.dashboardLayout.rowSpan=i;g.dashboardLayout.colSpan=h;g.dashboardLayout.showOnlyHeader=s;l._arrangeCards(g,{row:i,column:h},'resize',j);l._removeSpaceBeforeCard(j);L._positionCards(l.aCards);var k=e.getComponentInstance();k.destroy();}b.recreateRTAClonedCard(d);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"newCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent();c.setRevertData(d.id);var n=new C(m.getId()+"--"+d.id),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout(),l=f.getDashboardLayoutUtil(),L=f.getDashboardLayoutModel(),N=(d.id.indexOf("newStaticLinkListCard")!==-1);d.settings.baseUrl=b._getBaseUrl();if(N){d.settings.newCard=true;L._setCardSpanFromDefault(d);d.dashboardLayout.row=1;d.dashboardLayout.column=1;}else{d.settings.cloneCard=true;}var I=-1,i;for(i=0;i<e.length;i++){if(d.id.lastIndexOf("customer."+e[i].id,0)===0){I=i;var g=L.getCardById(e[i].id);d.dashboardLayout=jQuery.extend(true,{},g.dashboardLayout);var h=d.dashboardLayout.column+d.dashboardLayout.colSpan;d.dashboardLayout.column=h<L.getColCount()?h:1;break;}}e.splice(I+1,0,d);l.getCards().splice(I+1,0,d);u.setProperty("/cards",e);f.insertContent(n,I+1);setTimeout(function(){var j=O.getOverlay(n);j.setSelected(true);j.focus();var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),s=(N)?r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_NEW"):r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_CLONE");M.show(s,{duration:10000});},0);b.recreateRTAClonedCard(d);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),s=c.getRevertData();var d=m.byId(s),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout(),l=f.getDashboardLayoutUtil(),L=f.getDashboardLayoutModel(),g=l.getCards();var I=-1,i,j,h=-1;for(i=0;i<e.length;i++){if(s===e[i].id){I=i;break;}}e.splice(I,1);for(j=0;j<g.length;j++){if(s===g[j].id){h=j;break;}}g.splice(h,1);L._removeSpaceBeforeCard();u.setProperty("/cards",e);if(d){var k=d.getComponentInstance();k.destroy();}f.removeContent(I);d.destroy();c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"dragAndDropUI":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController(),o=c.getContent(),b=m.getLayout(),l=b.getDashboardLayoutUtil(),L=b.getDashboardLayoutModel(),d=L.getCardById(o.cardId),s='C'+L.getColCount(),e=[];c.setRevertData(o);L._arrangeCards(d,{row:o.dashboardLayout[s].row,column:o.dashboardLayout[s].column},'drag',e);L._removeSpaceBeforeCard(e);l._positionCards(L.aCards);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl().getController(),b=c.getContent(),d=m.getLayout(),l=d.getDashboardLayoutUtil(),L=d.getDashboardLayoutModel(),e=L.getCardById(b.cardId),s='C'+L.getColCount(),f=[];L._arrangeCards(e,{row:b.dashboardLayout[s].oldRow,column:b.dashboardLayout[s].oldColumn},'drag',f);if(b.dashboardLayout[s].oldColSpan){L._arrangeCards(e,{row:b.dashboardLayout[s].rowSpan,column:b.dashboardLayout[s].oldColSpan},'resize',f);}L._removeSpaceBeforeCard(f);l._positionCards(L.aCards);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"manageCardsForDashboardLayout":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.storeIncomingDeltaChanges(c.getContent());return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}},"viewSwitch":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"visibility":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"dragOrResize":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"manageCardsForEasyScanLayout":{changeHandler:{applyChange:function(c,p,P){return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}}};},true);
sap.ui.predefine('sap/ovp/flexibility/EasyScanLayout.flexibility',["sap/ovp/changeHandler/HideCardContainer","sap/ovp/changeHandler/UnhideCardContainer","sap/ovp/changeHandler/UnhideControl","sap/ui/dt/OverlayRegistry","sap/ui/core/ComponentContainer","sap/m/MessageToast","sap/ovp/cards/rta/SettingsDialogConstants"],function(H,U,a,O,C,M,S){"use strict";return{"moveControls":{"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"unhideControl":a,"unhideCardContainer":U,"hideCardContainer":H,"editCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent(),e=d.newAppDescriptor,f=m.byId(e.id);c.setRevertData(d.oldAppDescriptor);if(f){if(e.settings.tabs){var D=e.settings.selectedKey;if(!D||D<1){D=1;}S.tabFields.forEach(function(h){delete e.settings[h];var v=e.settings.tabs[D-1][h];if(v){e.settings[h]=v;}});}var g=f.getComponentInstance();g.destroy();}b.recreateRTAClonedCard(e);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getRevertData(),e=m.byId(d.id);if(e){var f=e.getComponentInstance();f.destroy();}b.recreateRTAClonedCard(d);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"newCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent();c.setRevertData(d.id);var n=new C(m.getId()+"--"+d.id),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout(),N=(d.id.indexOf("newStaticLinkListCard")!==-1);d.settings.baseUrl=b._getBaseUrl();if(N){d.settings.newCard=true;}else{d.settings.cloneCard=true;}var I=-1,i;for(i=0;i<e.length;i++){if(d.id.lastIndexOf("customer."+e[i].id,0)===0){I=i;break;}}e.splice(I+1,0,d);u.setProperty("/cards",e);f.insertContent(n,I+1);setTimeout(function(){var g=O.getOverlay(n);g.setSelected(true);g.focus();var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),s=(N)?r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_NEW"):r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_CLONE");M.show(s,{duration:10000});},0);b.recreateRTAClonedCard(d);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),s=c.getRevertData();var d=m.byId(s),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout();var I=-1,i;for(i=0;i<e.length;i++){if(s===e[i].id){I=i;break;}}e.splice(I,1);u.setProperty("/cards",e);if(d){var g=d.getComponentInstance();g.destroy();}f.removeContent(I);d.destroy();c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"dragAndDropUI":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController(),o=c.getContent(),b=jQuery.extend(true,{},o),u=m.getUIModel(),d=u.getProperty("/cards"),e=m.getLayout(),v;v=b.position;b.position=b.oldPosition;b.oldPosition=v;c.setRevertData(b);v=d[o.position];d[o.position]=d[o.oldPosition];d[o.oldPosition]=v;u.setProperty("/cards",d);var t=e.getContent()[o.position],f=e.getContent()[o.oldPosition];e.removeContent(f);e.insertContent(f,o.position);e.removeContent(t);e.insertContent(t,o.oldPosition);setTimeout(function(){var g=O.getOverlay(f);g.setSelected(true);g.focus();},0);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl().getController(),b=c.getRevertData(),u=m.getUIModel(),d=u.getProperty("/cards"),e=m.getLayout(),v;v=d[b.position];d[b.position]=d[b.oldPosition];d[b.oldPosition]=v;u.setProperty("/cards",d);var t=e.getContent()[b.position],f=e.getContent()[b.oldPosition];e.removeContent(f);e.insertContent(f,b.position);e.removeContent(t);e.insertContent(t,b.oldPosition);setTimeout(function(){var g=O.getOverlay(f);g.setSelected(true);g.focus();},0);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"manageCardsForEasyScanLayout":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.storeIncomingDeltaChanges(c.getContent());return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}},"viewSwitch":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"visibility":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"position":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}}};},true);
sap.ui.predefine('sap/ovp/ui/Card',["sap/ui/core/Control"],function(C){"use strict";return C.extend("sap.ovp.ui.Card",{metadata:{library:"sap.ovp",designTime:false,aggregations:{innerCard:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"innerCard"},init:function(){},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapOvpBaseCardWrapper");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("innerCard"));r.write("</div>");}});});
sap.ui.predefine('sap/ovp/ui/CardContentContainer',["jquery.sap.global","sap/m/FlexBox"],function(q,F){"use strict";
var C=F.extend("sap.ovp.ui.CardContentContainer",{
metadata:{library:"sap.ovp"},
renderer:{render:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapOvpCardContentContainer");r.writeClasses();r.write(">");var a=c.getItems();for(var i=0;i<a.length;i++){r.renderControl(a[i]);}r.write("</div>");}}
});
return C;});
sap.ui.predefine('sap/ovp/ui/DashboardLayout',["sap/ui/core/Control","jquery.sap.global","sap/ui/Device","sap/ui/core/ResizeHandler"],function(C,q,D,R){"use strict";
var a=C.extend("sap.ovp.ui.DashboardLayout",{
metadata:{designTime:true,library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content",events:{afterRendering:{},afterDragEnds:{}},properties:{dragAndDropRootSelector:{group:"Misc",type:"string"},dragAndDropEnabled:{group:"Misc",type:"boolean",defaultValue:true},debounceTime:{group:"Misc",type:"int",defaultValue:150}}},
renderer:{render:function(r,c){var b=c.$().width();var d=sap.ui.getCore().getConfiguration().getRTL();var l=c.dashboardLayoutUtil.updateLayoutData(b?b:q(window).width());var e=c.dashboardLayoutUtil.getCards(l.colCount);function f(m){return m.getVisible();}function g(m){return m.id===this.getId().split("--")[1];}var h=c.getContent().filter(f);r.write("<div");r.writeControlData(c);r.addClass("sapUshellEasyScanLayout");if(!D.system.phone){r.addClass("sapOvpDashboardDragAndDrop");}r.addClass("sapOvpDashboard");r.writeClasses();d?r.addStyle("margin-right",l.marginPx+"px"):r.addStyle("margin-left",l.marginPx+"px");r.writeStyles();r.write(">");r.write("<div class='sapUshellEasyScanLayoutInner'>");if(e.length>0){var i={},j,L,s,k=c.getDashboardLayoutModel().getColCount();for(j=0,L=h.length;j<L;j++){var S=['easyScanLayoutItemWrapper','sapOvpDashboardLayoutItem'];i=e.filter(g.bind(h[j]))[0];c.dashboardLayoutUtil.setCardCssValues(i);s=i.dashboardLayout.column+i.dashboardLayout.colSpan===k+1;if(s){i.dashboardLayout.colSpan===1?S.push('sapOvpNotResizableLeftRight'):S.push('sapOvpNotResizableRight');}if(i.template==='sap.ovp.cards.stack'||i.settings.stopResizing||!D.system.desktop){S.push('sapOvpDashboardLayoutItemNoDragIcon');}r.write("<div id='"+c.dashboardLayoutUtil.getCardDomId(i.id)+"' class='"+S.join(' ')+"' style='"+"; transform:translate3d("+i.dashboardLayout.left+" ,"+i.dashboardLayout.top+" ,0px)"+"; -ms-transform:translate3d("+i.dashboardLayout.left+" ,"+i.dashboardLayout.top+" ,0px)"+"; -moz-transform:translate3d("+i.dashboardLayout.left+" ,"+i.dashboardLayout.top+" ,0px)"+"; -webkit-transform:translate3d("+i.dashboardLayout.left+" ,"+i.dashboardLayout.top+" ,0px)"+"; height:"+i.dashboardLayout.height+"; width:"+i.dashboardLayout.width+";'"+" tabindex='0'; aria-setsize="+L+" aria-posinset="+j+">");r.renderControl(h[j]);r.write("</div>");}}r.write("</div>");r.write("<div class='after' tabindex='0'></div>");r.write("</div>");}},
init:function(){this.oColumnLayoutData={};this.resizeHandlerId=this.initResizeHandler();var c=sap.ui.getCore().getComponent(this._sOwnerId);this.dashboardLayoutUtil=c.getDashboardLayoutUtil();this.dashboardLayoutUtil.setLayout(this);},
exit:function(){if(this.resizeHandlerId){R.deregister(this.resizeHandlerId);}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();delete this.layoutDragAndDrop;}},
onBeforeRendering:function(){},
onAfterRendering:function(){this.keyboardNavigation=new K(this);if(!this.getDragAndDropRootSelector()){this.setDragAndDropRootSelector("#"+this.getId());}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();}if(this.getDragAndDropEnabled()){this.layoutDragAndDrop=this.dashboardLayoutUtil.getRearrange({rootSelector:this.getDragAndDropRootSelector(),layout:this});this.fireAfterRendering();}},
getLayoutDataJSON:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel().getLayoutVariants4Pers();},
filterVisibleCards:function(e){return e.getVisible();},
getDashboardLayoutUtil:function(){return this.dashboardLayoutUtil;},
getDashboardLayoutModel:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel();},
getVisibleLayoutItems:function(){var c=this.getContent();var f=c.filter(this.filterVisibleCards);return f;},
initResizeHandler:function(){var r;var d=this.getDebounceTime();var b=function(e){window.clearTimeout(r);r=window.setTimeout(this.oControl.resizeHandler.bind(this,e),d);};return R.register(this,b);},
resizeHandler:function(e){this.oControl.dashboardLayoutUtil.resizeLayout(e.size.width);},
setActive:function(s){if(s){this.removeStyleClass("ovpOverlay");}else{this.addStyleClass("ovpOverlay");}},
getActive:function(){return!this.hasStyleClass("ovpOverlay");}
});
var K=function(o){this.init(o);};
K.prototype.init=function(o){this.layoutUtil=o.getDashboardLayoutUtil();this.layoutModel=o.getDashboardLayoutModel();this.keyCodes=q.sap.KeyCodes;this.jqElement=o.$();this.bIgnoreSelfFocus=false;this.jqElement.on('keydown',this.keyDownHandler.bind(this));};
K.prototype.ctrlArrowHandler=function(c,b){var o=this.layoutUtil.dashboardLayoutModel.getCardById(b),n=o.dashboardLayout.row,d=o.dashboardLayout.column,e=[];e.push({changeType:'dragOrResize',content:{cardId:c.id,dashboardLayout:{row:n,oldRow:c.dashboardLayout.row,column:d,oldColumn:c.dashboardLayout.column}},isUserDependent:true});this.layoutUtil.dashboardLayoutModel._arrangeCards(c,{row:n,column:d},'drag',e);this.layoutUtil.dashboardLayoutModel._removeSpaceBeforeCard(e);this.layoutUtil._positionCards(this.layoutModel.aCards);this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:e});};
K.prototype.keyDownHandler=function(e){var b=document.activeElement,c=this.layoutUtil.getCardId(b.id),d=q.extend([],this.layoutModel.aCards),o=this.layoutModel.getCardById(c),f=this.layoutModel.iColCount,t={},g,h,l,r,m,n,p;this.layoutModel._sortCardsByRow(d);for(var i=1;i<=f;i++){t[i]=[];}for(var j=0;j<d.length;j++){g=d[j].dashboardLayout.column;h=d[j].dashboardLayout.colSpan;if(h===1){t[g].push(d[j]);}else{for(var k=g;k<g+h;k++){t[k].push(d[j]);}}}r=this.getCardPosition(c,t[o.dashboardLayout.column]);switch(e.keyCode){case this.keyCodes.F6:e.preventDefault();if(e.shiftKey){this.bIgnoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();q.sap.handleF6GroupNavigation(e);}else{this.bIgnoreSelfFocus=true;var s=this.jqElement.scrollTop();this.jqElement.find(".after").focus();q.sap.handleF6GroupNavigation(e);this.jqElement.scrollTop(s);}break;case this.keyCodes.F7:e.preventDefault();var u=q(document.activeElement);if(u.hasClass("easyScanLayoutItemWrapper")){u.find(":sapTabbable").first().focus();}else{u.closest(".easyScanLayoutItemWrapper").focus();}break;case this.keyCodes.ARROW_UP:e.preventDefault();l=o.dashboardLayout.column;r--;m=t[l][r]&&t[l][r].id;if(e.ctrlKey){this.ctrlArrowHandler(o,m);this.setFocusOnCard(c);}else{this.setFocusOnCard(m);}break;case this.keyCodes.ARROW_DOWN:e.preventDefault();l=o.dashboardLayout.column;r++;m=t[l][r]&&t[l][r].id;if(e.ctrlKey){this.ctrlArrowHandler(o,m);this.setFocusOnCard(c);}else{this.setFocusOnCard(m);}break;case this.keyCodes.ARROW_LEFT:e.preventDefault();l=o.dashboardLayout.column;l--;if(!t[l]||!t[l][r]){do{if(l===0){l=f;r--;break;}if(r<0){break;}l--;}while(!t[l]||!t[l][r])}m=t[l][r]&&t[l][r].id;if(e.ctrlKey){this.ctrlArrowHandler(o,m);this.setFocusOnCard(c);}else{this.setFocusOnCard(m);}break;case this.keyCodes.ARROW_RIGHT:e.preventDefault();l=o.dashboardLayout.column+o.dashboardLayout.colSpan;if(!t[l]||!t[l][r]){do{if(l>f){l=1;r++;break;}l++;}while(!t[l]||!t[l][r])}m=t[l][r]&&t[l][r].id;if(e.ctrlKey){this.ctrlArrowHandler(o,m);this.setFocusOnCard(c);}else{this.setFocusOnCard(m);}break;case this.keyCodes.PAGE_UP:e.preventDefault();l=o.dashboardLayout.column;if(e.altKey==true){(l===1)?r=0:l=1;m=t[l][r]&&t[l][r].id;}else{n=t[l].length-1;for(var i=n;i>0;i--){p=document.getElementById(this.layoutUtil.getCardDomId(t[l][i].id));if(p.getBoundingClientRect().bottom<0){m=t[l][i].id;break;}}if(!m){m=t[l][0].id;}}this.setFocusOnCard(m);break;case this.keyCodes.PAGE_DOWN:e.preventDefault();l=o.dashboardLayout.column;if(e.altKey==true){m=(l+o.dashboardLayout.colSpan)>f?d[d.length-1].id:t[f][r]&&t[f][r].id;}else{var w=q(window).height();n=t[l].length;for(var i=0;i<n;i++){p=document.getElementById(this.layoutUtil.getCardDomId(t[l][i].id));if(p.getBoundingClientRect().top>w){m=t[l][i].id;break;}}if(!m){m=t[l][n-1].id;}}this.setFocusOnCard(m);break;case this.keyCodes.HOME:e.preventDefault();l=o.dashboardLayout.column;if(e.ctrlKey==true){(r===0)?l=1:r=0;}else{(l===1)?r=0:l=1;}m=t[l][r]&&t[l][r].id;this.setFocusOnCard(m);break;case this.keyCodes.END:e.preventDefault();l=o.dashboardLayout.column;if(e.ctrlKey==true){var v=t[l].length-1;m=(v===r)?d[d.length-1].id:t[l][v]&&t[l][v].id;}else{m=(l+o.dashboardLayout.colSpan)>f?d[d.length-1].id:t[f][r]&&t[f][r].id;}this.setFocusOnCard(m);break;}};
K.prototype.setFocusOnCard=function(c){if(c){var b=document.getElementById(this.layoutUtil.getCardDomId(c));b&&b.focus();}};
K.prototype.getCardPosition=function(c,b){for(var i=0;i<b.length;i++){if(b[i].id===c){break;}}return i;};
return a;});
sap.ui.predefine('sap/ovp/ui/DashboardLayoutModel',["sap/ovp/cards/CommonUtils","jquery.sap.global"],function(C,q){"use strict";var L=function(u,c,r,i){this.uiModel=u;this.setColCount(c);this.aCards=[];this.oLayoutVars=null;this.iDisplaceRow=null;this.iDummyRow=999;this.iRowHeightPx=r;this.iCardBorderPx=i;};
L.prototype.setColCount=function(c){if(!c){this.iColCount=5;}else if(c!==this.iColCount){this.iColCount=c;}};
L.prototype.setLayoutVars=function(l){if(Array.isArray(l)&&l.length>0){this.oLayoutVars=l;}this._buildGrid();};
L.prototype.updateCardVisibility=function(c){var o,a;function f(b){return b.id===c[i].id;}for(var i=0;i<c.length;i++){o=this.oLayoutVars.filter(f);a=this.aCards.filter(f);if(!c[i].visibility){o[0].dashboardLayout['C'+this.iColCount].row=this._findHighestOccupiedRow();a[0].dashboardLayout.row=o[0].dashboardLayout['C'+this.iColCount].row;}o[0].visibility=c[i].visibility;a[0].dashboardLayout.visible=c[i].visibility;}};
L.prototype.getColCount=function(){return this.iColCount;};
L.prototype.getCards=function(c){if(this.aCards.length===0||c&&c!==this.iColCount){if(c){this.setColCount(c);}this._buildGrid();}return this.aCards;};
L.prototype.getCardById=function(c){var o=null,i=0;for(i=0;i<this.aCards.length;i++){o=this.aCards[i];if(o.id===c){break;}}return o;};
L.prototype.getLayoutVariants4Pers=function(){return JSON.parse(JSON.stringify(this.oLayoutVars));};
L.prototype._readVariants=function(){var v,i,l=this.uiModel.getProperty('/dashboardLayout');function f(e){return e.id===i;}if(!!l){for(var a in l){if(l.hasOwnProperty(a)&&l[a]){v=l[a];v.id=a;for(i in v){var o=this.oLayoutVars.filter(f);if(o.length>0){var s='C'+ +v.id.replace(/[^0-9\.]/g,"");var c=o[0].dashboardLayout[s];var b=this.aCards.filter(f);if(Array.isArray(b)&&b.length>0){if(c){c.row=v[i].row;c.col=v[i].col;c.colSpan=b[0].template==='sap.ovp.cards.stack'?1:Math.min(v[i].colSpan,this.iColCount);c.maxColSpan=v[i].maxColSpan;c.noOfItems=v[i].rowSpan;}else{o[0].dashboardLayout[s]={row:v[i].row,col:v[i].col,colSpan:b[0].template==='sap.ovp.cards.stack'?1:Math.min(v[i].colSpan,this.iColCount),maxColSpan:v[i].maxColSpan,noOfItems:v[i].rowSpan,autoSpan:b[0].template==='sap.ovp.cards.stack'?false:true};}o[0].visibility=v[i].visible?v[i].visible:true;}}}}}}};
L.prototype.resetToManifest=function(){this.oLayoutVars=null;for(var i=0;i<this.aCards.length;i++){this.aCards[i].dashboardLayout={};}this._buildGrid(true);};
L.prototype._buildGrid=function(u){if(this.aCards.length===0){this.aCards=q.extend(true,[],this.uiModel.getProperty("/cards"));}if(u||!this.oLayoutVars||(this.oLayoutVars[0]&&!this.oLayoutVars[0].dashboardLayout)){this.oLayoutVars=[];this._sliceSequenceSausage();}else{this._sliceSequenceSausage(this.oLayoutVars);}this._readVariants();};
L.prototype._displaceCardToEnd=function(c){c.dashboardLayout.column=1;if(!this.iDisplaceRow){this.iDisplaceRow=this._findHighestOccupiedRow();}c.dashboardLayout.row=this.iDisplaceRow;this.iDisplaceRow+=c.dashboardLayout.rowSpan;var l=this.oLayoutVars.filter(function(i){return i.id===c.id;});if(l.length>0){l[0].dashboardLayout["C"+this.iColCount].row=c.dashboardLayout.row;}};
L.prototype._setCardSpanFromDefault=function(c){if(!c.dashboardLayout){c.dashboardLayout={};}var o=this._getDefaultCardItemHeightAndCount(c);if(!c.settings.defaultSpan){c.dashboardLayout.rowSpan=c.template==='sap.ovp.cards.linklist'?1:12;c.dashboardLayout.colSpan=1;c.dashboardLayout.maxColSpan=1;c.dashboardLayout.noOfItems=o.noOfItems;c.dashboardLayout.autoSpan=c.template==='sap.ovp.cards.stack'?false:true;c.dashboardLayout.showOnlyHeader=false;}else{if(c.settings.defaultSpan.showOnlyHeader){c.dashboardLayout.rowSpan=Math.ceil((o.headerHeight+2*this.iCardBorderPx)/this.iRowHeightPx);c.dashboardLayout.noOfItems=0;c.dashboardLayout.autoSpan=false;c.dashboardLayout.showOnlyHeader=true;}else{if(c.template==='sap.ovp.cards.linklist'){c.dashboardLayout.rowSpan=c.settings.defaultSpan.rows?c.settings.defaultSpan.rows:1;c.dashboardLayout.autoSpan=false;}else{c.dashboardLayout.rowSpan=12;c.dashboardLayout.autoSpan=true;}c.dashboardLayout.noOfItems=c.settings.defaultSpan.rows?c.settings.defaultSpan.rows:o.noOfItems;c.dashboardLayout.showOnlyHeader=false;}if(c.template==="sap.ovp.cards.stack"){c.dashboardLayout.colSpan=1;c.dashboardLayout.autoSpan=false;}else{c.dashboardLayout.colSpan=c.settings.defaultSpan.cols?Math.min(c.settings.defaultSpan.cols,this.iColCount):1;}c.dashboardLayout.maxColSpan=c.settings.defaultSpan.cols?c.settings.defaultSpan.cols:1;}c.dashboardLayout.visible=true;c.dashboardLayout.itemHeight=o.itemHeight;c.dashboardLayout.headerHeight=o.headerHeight;};
L.prototype._sliceSequenceSausage=function(u){var i=0,j=0,c=0,a=0,m=0,o={},s=[],b='C'+this.iColCount,p;for(i=0;i<this.iColCount;i++){s.push({col:i+1,rows:0});}function f(r){return r.id===o.id;}function n(b,r){return r!==b;}for(i=0;i<this.aCards.length;i++){o=this.aCards[i];if(!o.dashboardLayout){o.dashboardLayout={};}if(!u){this._setCardSpanFromDefault(o);}else{var l=u.filter(f);if(l.length>0){var d=l[0].dashboardLayout,e=d[b],g=Object.keys(d),O=g.filter(n.bind(this,b));if(O.length>0){p=d[O];if(p){this._mergeLayoutVariants(o.dashboardLayout,p);}}else{this._mergeLayoutVariants(o.dashboardLayout,e);continue;}}else{o.dashboardLayout.row=this.iDummyRow;o.dashboardLayout.column=1;var h={};var k={row:o.dashboardLayout.row,col:o.dashboardLayout.column,rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan,maxColSpan:o.dashboardLayout.maxColSpan,noOfItems:o.dashboardLayout.noOfItems,autoSpan:o.dashboardLayout.autoSpan,showOnlyHeader:o.dashboardLayout.showOnlyHeader};h[b]=k;u.push({id:o.id,visibility:o.dashboardLayout.visible,selectedKey:o.settings.selectedKey,dashboardLayout:h});continue;}}o.dashboardLayout.colSpan=o.dashboardLayout.maxColSpan;o.dashboardLayout.colSpan=o.dashboardLayout.colSpan>this.iColCount?this.iColCount:o.dashboardLayout.colSpan;c=a<this.iColCount?a+1:1;if(c+o.dashboardLayout.colSpan-1>this.iColCount){o.dashboardLayout.colSpan=this.iColCount-c+1;}a=c+o.dashboardLayout.colSpan-1;o.dashboardLayout.column=c;m=0;if(Array.isArray(l)&&l.length>0&&!l[0].visibility){o.dashboardLayout.row=this.iDummyRow;}else{for(j=o.dashboardLayout.column;j<o.dashboardLayout.column+o.dashboardLayout.colSpan;j++){if(s[j-1].rows>m){m=s[j-1].rows;}}o.dashboardLayout.row=m+1;for(j=o.dashboardLayout.column;j<o.dashboardLayout.column+o.dashboardLayout.colSpan;j++){s[j-1].rows=m+o.dashboardLayout.rowSpan;}}}this.extractCurrentLayoutVariant();};
L.prototype._mergeLayoutVariants=function(s,d){if(d.rowSpan){s.rowSpan=d.rowSpan;}if(d.colSpan){s.colSpan=d.colSpan;}if(d.maxColSpan){s.maxColSpan=d.maxColSpan;}if(d.noOfItems){s.noOfItems=d.noOfItems;}if(d.hasOwnProperty('autoSpan')){s.autoSpan=d.autoSpan;}if(d.row){s.row=d.row;}if(d.col){s.column=d.col;}if(d.hasOwnProperty('showOnlyHeader')){s.showOnlyHeader=d.showOnlyHeader;}};
L.prototype._sortCardsByRow=function(c){c.sort(function(a,b){if(!a.dashboardLayout&&b.dashboardLayout){return 1;}else if(a.dashboardLayout&&!b.dashboardLayout){return-1;}if(a.dashboardLayout.column&&a.dashboardLayout.row&&a.dashboardLayout.row===b.dashboardLayout.row){if(a.dashboardLayout.column<b.dashboardLayout.column){return-1;}else if(a.dashboardLayout.column>b.dashboardLayout.column){return 1;}}else if(a.dashboardLayout.row){return a.dashboardLayout.row-b.dashboardLayout.row;}else{return 0;}});};
L.prototype.resizeCard=function(c,s,m,d){var r=this.getCardById(c);if(!r){return[];}var a=s.colSpan-r.dashboardLayout.colSpan;var b=s.rowSpan-r.dashboardLayout.rowSpan;r.dashboardLayout.showOnlyHeader=s.showOnlyHeader;if(a===0&&b===0){return{resizeCard:r,affectedCards:[]};}else if(m&&r.dashboardLayout.autoSpan){r.dashboardLayout.autoSpan=false;}if(!m||(b&&a===0)){this._arrangeCards(r,{"row":s.rowSpan,"column":r.dashboardLayout.colSpan},'resize',d);}else{this._arrangeCards(r,{"row":s.rowSpan,"column":s.colSpan},'resize',d);}return{resizeCard:r,affectedCards:this._removeSpaceBeforeCard(d)};};
L.prototype._removeSpaceBeforeCard=function(d){this._sortCardsByRow(this.aCards);var a={};for(var i=1;i<=this.iColCount;i++){a[i]=1;}for(var j=0;j<this.aCards.length;j++){var b=this.aCards[j].dashboardLayout.column,u=this.aCards[j].dashboardLayout.column+this.aCards[j].dashboardLayout.colSpan-1;if(this.aCards[j].dashboardLayout.visible){if(u>this.iColCount){u=this.iColCount;var n=this.iColCount-this.aCards[j].dashboardLayout.column+1;if(d){d.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{colSpan:n,oldColSpan:this.aCards[j].dashboardLayout.colSpan}},isUserDependent:true});}this.aCards[j].dashboardLayout.colSpan=n;}if(this.aCards[j].dashboardLayout.colSpan>1){var t=[];for(var k=b;k<=u;k++){t.push(a[k]);}var m=Math.max.apply(Math,t);for(var l=b;l<=u;l++){a[l]=m+this.aCards[j].dashboardLayout.rowSpan;}if(d&&m!==this.aCards[j].dashboardLayout.row){d.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:m,oldRow:this.aCards[j].dashboardLayout.row}},isUserDependent:true});}this.aCards[j].dashboardLayout.row=m;}else{if((this.aCards[j].dashboardLayout.row!==a[b])){if(d){d.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:a[b],oldRow:this.aCards[j].dashboardLayout.row}},isUserDependent:true});}this.aCards[j].dashboardLayout.row=a[b];}a[b]=this.aCards[j].dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan;}}}return this.aCards;};
L.prototype._arrangeCards=function(c,n,d,D){var o=q.extend(true,{},c);var v=false;if(d==="drag"&&c.dashboardLayout.column===n.column&&n.row!==c.dashboardLayout.row){v=true;}this._sortCardsByRow(this.aCards);var a=[];var f=false;var b;if(d==="drag"){c.dashboardLayout.row=n.row;c.dashboardLayout.column=n.column;}else if(d==="resize"){c.dashboardLayout.rowSpan=n.row;c.dashboardLayout.colSpan=n.column;}a.push(c);for(var i=0;i<a.length;i++){for(var j=0;j<this.aCards.length;j++){if(a[i].id===this.aCards[j].id||!a[i].dashboardLayout.visible){continue;}else{f=this._checkOverlapOfCards(a[i],this.aCards[j]);if(f===true){if(v){if(n.row<o.dashboardLayout.row&&n.row===this.aCards[j].dashboardLayout.row){a[i].dashboardLayout.row=this.aCards[j].dashboardLayout.row;b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=a[i].dashboardLayout.row+a[i].dashboardLayout.rowSpan;if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}else if(n.row>o.dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan){b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=o.dashboardLayout.row;a[i].dashboardLayout.row=this.aCards[j].dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan;a.push(a[i]);if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}}else{b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=a[i].dashboardLayout.row+a[i].dashboardLayout.rowSpan;a.push(this.aCards[j]);if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}}}}}};
L.prototype._checkOverlapOfCards=function(o,a){var b=o.dashboardLayout.row;var c=o.dashboardLayout.row+o.dashboardLayout.rowSpan;var d=o.dashboardLayout.column;var e=o.dashboardLayout.column+o.dashboardLayout.colSpan;var f=a.dashboardLayout.row;var g=a.dashboardLayout.row+a.dashboardLayout.rowSpan;var h=a.dashboardLayout.column;var i=a.dashboardLayout.column+a.dashboardLayout.colSpan;var j=false,k=false;if((h>=d&&h<e)||(i>d&&i<=e)||(h<=d&&i>=e)){j=true;}if((f>=b&&f<c)||(g>b&&g<=c)||(f<=b&&g>=c)){k=true;}return j&&k;};
L.prototype.extractCurrentLayoutVariant=function(){var i=0;var c={};var o=[];function f(b){return b.id===c.id;}for(i=0;i<this.aCards.length;i++){c=this.aCards[i];o=this.oLayoutVars.filter(f);var d={};var a={row:c.dashboardLayout.row,col:c.dashboardLayout.column,rowSpan:c.dashboardLayout.rowSpan,colSpan:c.dashboardLayout.colSpan,maxColSpan:c.dashboardLayout.maxColSpan,noOfItems:c.dashboardLayout.noOfItems,autoSpan:c.dashboardLayout.autoSpan,showOnlyHeader:c.dashboardLayout.showOnlyHeader};d["C"+this.iColCount]=a;if(!(Array.isArray(o)&&o.length!==0)){this.oLayoutVars.push({id:c.id,visibility:c.dashboardLayout.visible,selectedKey:c.settings.selectedKey,dashboardLayout:d});}else{o[0].selectedKey=c.settings.selectedKey||o[0].selectedKey;o[0].dashboardLayout={};o[0].dashboardLayout["C"+this.iColCount]=a;}}};
L.prototype._findHighestOccupiedRow=function(){var h=0,m=[];function f(e){return e.dashboardLayout.column===c;}function a(e,i,b){return e.dashboardLayout.row===Math.max.apply(Math,b.map(function(d){return d.dashboardLayout.row;}));}for(var c=1;c<=this.iColCount;c++){var A=this.aCards.filter(f);if(!!A){var o=A.filter(a)[0];if(!!o){m.push(+o.dashboardLayout.row+ +o.dashboardLayout.rowSpan);}}}h=Math.max.apply(Math,m.map(function(e){return e;}));return h;};
L.prototype._getDefaultCardItemHeightAndCount=function(c){var d=C._setCardpropertyDensityAttribute();var a={"List_condensed":{itemLength:5,itemHeight:64},"List_condensed_imageSupported_cozy":{itemLength:5,itemHeight:72},"List_condensed_imageSupported_compact":{itemLength:5,itemHeight:60},"List_extended":{itemLength:3,itemHeight:97},"List_condensed_bar":{itemLength:5,itemHeight:65},"List_extended_bar":{itemLength:3,itemHeight:95},"Table":{itemLength:5,itemHeight:62},"Linklist":{itemLength:6,itemHeight:0}};var h={"KPIHeader":{"1":{"1":158,"2":174},"2":{"1":179,"2":195},"3":{"1":201,"2":223}},"NormalHeader":{"1":{"1":82,"2":98},"2":{"1":103,"2":119},"3":{"1":125,"2":141}}};var S=22;var b=21;var H=0;if(c){var e=c.template,l=c.settings.listType,f=c.settings.listFlavor,i=c.settings.imageSupported,n=0,I=0;if(e=="sap.ovp.cards.list"){if(l=="extended"){if(f=="bar"){n=a["List_extended_bar"]["itemLength"];I=a["List_extended_bar"]["itemHeight"];}else{n=a["List_extended"]["itemLength"];I=a["List_extended"]["itemHeight"];}}else{if(f=="bar"){n=a["List_condensed_bar"]["itemLength"];I=a["List_condensed_bar"]["itemHeight"];}else{if(i==='true'){if(d==='cozy'){I=a["List_condensed_imageSupported_cozy"]["itemHeight"];}else{I=a["List_condensed_imageSupported_compact"]["itemHeight"];}}else{I=a["List_condensed"]["itemHeight"];}n=a["List_condensed"]["itemLength"];}}}else if(e=="sap.ovp.cards.table"){n=a["Table"]["itemLength"];I=a["Table"]["itemHeight"];}else if(e==="sap.ovp.cards.linklist"){n=a["Linklist"]["itemLength"];I=a["Linklist"]["itemHeight"];}var t=c.settings.defaultSpan&&c.settings.defaultSpan.minimumTitleRow?c.settings.defaultSpan.minimumTitleRow:1;var s=c.settings.defaultSpan&&c.settings.defaultSpan.minimumSubTitleRow?c.settings.defaultSpan.minimumSubTitleRow:1;var g=(c.settings.dataPointAnnotationPath||(c.settings.tabs&&c.settings.tabs[0].dataPointAnnotationPath))?"KPIHeader":"NormalHeader";H=h[g][t][s];if(g==="KPIHeader"){if(c.settings.showFilterInHeader===true){H+=S;}if(c.settings.showSortingInHeader===true){H+=b;}}return{noOfItems:n,itemHeight:I,headerHeight:H};}};
return L;},true);
sap.ui.predefine('sap/ovp/ui/DashboardLayoutRearrange',["sap/ovp/ui/UIActions","sap/ui/Device","jquery.sap.global"],function(U,D,q){"use strict";var R=function(s){this.init(s);};
R.prototype.init=function(s){s.beforeDragCallback=this._beforeDragHandler.bind(this);s.dragStartCallback=this._dragStartHandler.bind(this);s.dragMoveCallback=this._dragMoveHandler.bind(this);s.dragEndCallback=this._dragEndHandler.bind(this);s.resizeStartCallback=this._resizeStartHandler.bind(this);s.resizeMoveCallback=this._resizeMoveHandler.bind(this);s.resizeEndCallback=this._resizeEndHandler.bind(this);s.endCallback=this._endHandler.bind(this);this.placeHolderClass=s.placeHolderClass;this.layout=s.layout;this.settings=s;this.destroy();this.uiActions=new U(this.settings).enable();this.aCardsOrder=null;this.aCards=s.aCards;this.layoutUtil=s.layoutUtil;this.verticalMargin=null;this.horizontalMargin=null;this.top=null;this.left=null;this.width=null;this.layoutOffset=null;this.jqLayout=null;this.jqLayoutInner=null;this.isRTLEnabled=null;this.rowHeight=s.rowHeight;this.floaterData=null;this.resizeData={};this.updatedScrollTop=0;this.SCROLL_OFFSET=16;};
R.prototype.destroy=function(){if(this.uiActions){this.uiActions.disable();this.uiActions=null;}};
R.prototype._resizeStartHandler=function(e,c){if(!D.system.desktop){return;}var C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(c.id));if(C.template==="sap.ovp.cards.stack"||C.settings.stopResizing){return;}this.layoutUtil.dragOrResizeChanges=[];this.layoutUtil.resizeStartCard={cardId:C.id,rowSpan:C.dashboardLayout.rowSpan,colSpan:C.dashboardLayout.colSpan,maxColSpan:C.dashboardLayout.maxColSpan,noOfItems:C.dashboardLayout.noOfItems,autoSpan:C.dashboardLayout.autoSpan,showOnlyHeader:C.dashboardLayout.showOnlyHeader};if(q(window).getSelection){var s=q(window).getSelection();s.removeAllRanges();}c.classList.add('sapOvpCardResize');C.dashboardLayout.autoSpan=false;this.initCardsSettings();};
R.prototype._resizeEndHandler=function(e,c){if(c){c.classList.remove('sapOvpCardResize');if(this.uiActions.isResizeX&&!this.uiActions.isResizeY&&c.classList.contains('sapOvpNotResizableLeftRight')){return;}this.updatedScrollTop=0;c.style.zIndex='auto';var C=this.layoutUtil.changedCards.resizeCard;if(C){C.dashboardLayout.maxColSpan=C.dashboardLayout.colSpan;this.layoutUtil._sizeCard(C);this.layoutUtil.dragOrResizeChanges.push({changeType:"dragOrResize",content:{cardId:C.id,dashboardLayout:{rowSpan:C.dashboardLayout.rowSpan,oldRowSpan:this.layoutUtil.resizeStartCard.rowSpan,colSpan:C.dashboardLayout.colSpan,oldColSpan:this.layoutUtil.resizeStartCard.colSpan,maxColSpan:C.dashboardLayout.maxColSpan,oldMaxColSpan:this.layoutUtil.resizeStartCard.maxColSpan,noOfItems:C.dashboardLayout.noOfItems,oldNoOfItems:this.layoutUtil.resizeStartCard.noOfItems,autoSpan:C.dashboardLayout.autoSpan,oldAutoSpan:this.layoutUtil.resizeStartCard.autoSpan,showOnlyHeader:C.dashboardLayout.showOnlyHeader,oldShowOnlyHeader:this.layoutUtil.resizeStartCard.showOnlyHeader}},isUserDependent:true});}this.layoutUtil.changedCards={};if(D.system.desktop){q("body").removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}q(this.settings.wrapper).removeClass("dragAndDropMode");q("#sapOvpOverlayDivForCursor").remove();q("#ovpResizeRubberBand").remove();this.layoutUtil.getDashboardLayoutModel().extractCurrentLayoutVariant();this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:this.layoutUtil.dragOrResizeChanges});if(q(window).getSelection){var s=q(window).getSelection();s.removeAllRanges();}}};
R.prototype._resizeMoveHandler=function(a){if(!D.system.desktop){return;}if(a.element){var c,b,g,d,C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(a.element.id));if(C.template==="sap.ovp.cards.stack"||C.settings.stopResizing){return;}var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var e=v.offsetHeight;var f=v.getBoundingClientRect();if((a.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>e){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;this.updatedScrollTop+=this.SCROLL_OFFSET;}else if(((a.evt.clientY-v.offsetTop)<f.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;this.updatedScrollTop-=this.SCROLL_OFFSET;}b=this.layoutUtil.calculateCardProperties(C.id);c=this._calculateMinimumCardHeight(a,b,C.dashboardLayout.showOnlyHeader);d=c.ghostHeightCursor;g=c.ghostWidthCursor<=this.layoutUtil.getColWidthPx()?this.layoutUtil.getColWidthPx():c.ghostWidthCursor;if(!this.uiActions.isResizeY){if(a.element.classList.contains('sapOvpNotResizableLeftRight')||(a.element.classList.contains('sapOvpNotResizableRight')&&c.ghostWidthCursor>C.dashboardLayout.colSpan*this.layoutUtil.getColWidthPx())){return;}else{q.sap.log.info('Not a valid scenario');}if(C.template==="sap.ovp.cards.list"&&g>this.layoutUtil.getColWidthPx()*2||(C.template==="sap.ovp.cards.linklist"&&C.settings.listFlavor==='carousel'&&(g>this.layoutUtil.getColWidthPx()*3))){return;}}if(C.template==="sap.ovp.cards.linklist"&&C.settings.listFlavor==='carousel'&&d>this.layoutUtil.getRowHeightPx()*45){a.element.classList.add('sapOvpNotResizableDown');return;}var l=b.leastHeight+2*this.layoutUtil.CARD_BORDER_PX;var m=b.minCardHeight+2*this.layoutUtil.CARD_BORDER_PX;a.element.classList.remove("sapOvpMinHeightContainer");if(d<=l){d=l;a.element.classList.add("sapOvpMinHeightContainer");this.resizeData.showOnlyHeader=true;}else if(d>l&&d<=m){var h=(l+m)/2;if(d>h){d=m;this.resizeData.showOnlyHeader=false;}else{d=l;a.element.classList.add("sapOvpMinHeightContainer");this.resizeData.showOnlyHeader=true;}}else{if(!this.uiActions.isResizeX&&(C.template==='sap.ovp.cards.list'||C.template==='sap.ovp.cards.table')){var i=b.headerHeight+b.dropDownHeight+2*this.layoutUtil.CARD_BORDER_PX;var p=Math.round((d-i)/b.itemHeight);d=p*b.itemHeight+i;}this.resizeData.showOnlyHeader=false;}this._addOverLay(c.cursor);this.resizeData.colSpan=Math.round(g/this.layoutUtil.getColWidthPx());this.resizeData.rowSpan=Math.ceil(d/this.layoutUtil.getRowHeightPx());this.layoutUtil.updateCardSize(C.id,d,g,this.resizeData.rowSpan);this.showGhostWhileResize(a,c);if(this.resizeData.colSpan&&this.resizeData.rowSpan){this.layoutUtil.resizeCard(a.element.getAttribute("id"),this.resizeData,this.layoutUtil.dragOrResizeChanges);}this.resizeData={};this.layoutUtil.setKpiNumericContentWidth(a.element);}};
R.prototype._beforeDragHandler=function(e,c){if(e.type==="mousedown"){e.preventDefault();}if(D.browser.mobile){this.selectableElemets=q(c).find(".sapUiSelectable");this.selectableElemets.removeClass("sapUiSelectable");}q(this.settings.wrapper).addClass("dragAndDropMode");};
R.prototype._dragStartHandler=function(e,c){if(D.system.desktop){q("body").addClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}this.layoutUtil.dragOrResizeChanges=[];var C=this.layoutUtil.getCardId(c.id);var o=this.layoutUtil.dashboardLayoutModel.getCardById(C);this.layoutUtil.dragStartCard={cardId:o.id,row:o.dashboardLayout.row,column:o.dashboardLayout.column};q.sap.log.info(c);if(q(window).getSelection){var s=q(window).getSelection();s.removeAllRanges();}this.initCardsSettings();var a=c.children[0].getBoundingClientRect();this.floaterData={width:a.width,height:a.height,startLeft:a.left-this.layoutOffset.left,startTop:a.top-this.layoutOffset.top};};
R.prototype._dragMoveHandler=function(a){if(a.element){var m=0;var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var b=document.getElementsByClassName("sapFDynamicPageTitleWrapper")[0].offsetHeight;var u=document.getElementsByClassName("sapUshellShellHeadCenter")[0].offsetHeight;var c=v.offsetHeight;var d=v.getBoundingClientRect();var e;if(document.getElementsByClassName("sapFDynamicPageHeader")[0]){m=document.getElementsByClassName("sapFDynamicPageHeader")[0].offsetHeight;}if((a.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>c){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;e=v.scrollTop;}else if(((a.evt.clientY-v.offsetTop)<d.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;e=v.scrollTop;}else{e=v.scrollTop;}this.floaterData.id=a.element.id;this.floaterData.left=a.clone.getBoundingClientRect().left;this.floaterData.top=a.clone.getBoundingClientRect().top+e-(b+m+u);var n={row:Math.round(this.floaterData.top/this.layoutUtil.getRowHeightPx())+1,column:Math.round(this.floaterData.left/this.layoutUtil.getColWidthPx())+1};n.row=n.row<=0?1:n.row;n.column=n.column<=1?1:n.column;var C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(this.floaterData.id));if(n.column+C.dashboardLayout.colSpan>this.columnCount){n.column=(this.columnCount-C.dashboardLayout.colSpan)+1;}this.floaterData.row=n.row;this.floaterData.column=n.column;q.when(this.layoutUtil.dashboardLayoutModel._arrangeCards(C,this.floaterData,'drag',this.layoutUtil.dragOrResizeChanges)).done(function(){this.layoutUtil._positionCards(this.aCards);this.layoutUtil.dashboardLayoutModel._removeSpaceBeforeCard();}.bind(this));this.showGhostWhileDragMove({row:C.dashboardLayout.row,column:C.dashboardLayout.column},a);}};
R.prototype._dragEndHandler=function(e,c,a){if(c){var b=c.getBoundingClientRect();var d=a.getBoundingClientRect();var f=window.getComputedStyle(a).transform.split(",");var t=b.top-d.top;var l=b.left-d.left;var g=parseInt(f[4],10)+l;var h=parseInt(f[5],10)+t;a.style[this.layoutUtil.cssVendorTransition]='transform 0.3s cubic-bezier(0.46, 0, 0.44, 1)';g=Math.abs(g)-8<0?0:g-8;h=Math.abs(h)-8<0?0:h-8;a.style[this.layoutUtil.cssVendorTransform]='translate3d('+g+'px, '+h+'px, 0px) ';this.layoutUtil._positionCards(this.aCards);q(a).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(i){q("#ovpDashboardLayoutMarker").remove();this.layoutUtil.getDashboardLayoutModel().extractCurrentLayoutVariant();var C=this.layoutUtil.getCardId(c.id);var o=this.layoutUtil.dashboardLayoutModel.getCardById(C);this.layoutUtil.dragOrResizeChanges.push({changeType:"dragOrResize",content:{cardId:C,dashboardLayout:{row:o.dashboardLayout.row,oldRow:this.layoutUtil.dragStartCard.row,column:o.dashboardLayout.column,oldColumn:this.layoutUtil.dragStartCard.column}},isUserDependent:true});this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:this.layoutUtil.dragOrResizeChanges});if(D.system.desktop){q("body").removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}q(this.settings.wrapper).removeClass("dragAndDropMode");if(q(window).getSelection){var s=q(window).getSelection();s.removeAllRanges();}this.uiActions.removeClone();c.classList.remove(this.placeHolderClass);var j=(this.layoutUtil.dashboardLayoutModel._findHighestOccupiedRow()*this.layoutUtil.ROW_HEIGHT_PX)+32;q(".sapUshellEasyScanLayoutInner").css({"height":j+"px","z-index":"1"});}.bind(this));}};
R.prototype._endHandler=function(e,c){q.sap.log.info(c);if(D.browser.mobile&&this.selectableElemets){this.selectableElemets.addClass("sapUiSelectable");}};
R.prototype.initCardsSettings=function(){this.jqLayout=this.layout.$();this.jqLayoutInner=this.jqLayout.children().first();var l=this.jqLayout.scrollTop();var a=this.jqLayoutInner.height();this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL();this.aCardsOrder=[];this.layoutOffset=this.jqLayout.offset();this.corrY=this.jqLayout.get(0).getBoundingClientRect().top+this.jqLayout.scrollTop();this.corrX=this.layoutOffset.left;this.columnCount=this.layoutUtil.oLayoutData.colCount;var v=this.layout.getVisibleLayoutItems();if(!v){return;}function g(e){return e.$().parent()[0];}this.aCardsOrder=v.map(g);var j=this.jqLayoutInner.children().first();var m=this.isRTLEnabled?"margin-left":"margin-right";this.verticalMargin=parseInt(j.css(m),10);var f=this.aCardsOrder[0];var F=f.getBoundingClientRect();var J=this.jqLayoutInner[0].getBoundingClientRect();this.horizontalMargin=parseInt(q(f).css("margin-bottom"),10);this.verticalMargin=this.horizontalMargin;this.top=F.top-J.top;this.left=F.left-J.left;this.width=f.offsetWidth;q(this.aCardsOrder).css("position","absolute");this.drawLayout(this.aCardsOrder);this.jqLayoutInner.height(a);this.jqLayout.scrollTop(l);};
R.prototype.drawLayout=function(c){function u(d){var $=q(d).position();d.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+$.left+','+$.top+', 0px) ';}var C=c.length;if(C>0){for(var i=0;i<C;i++){requestAnimationFrame(u.bind(this,c[i]));}}};
R.prototype.showGhostWhileDragMove=function(n,a){var e=document.getElementById('ovpDashboardLayoutMarker');var p={top:(n.row-1)*this.layoutUtil.getRowHeightPx()+this.layoutUtil.CARD_BORDER_PX,left:(n.column-1)*this.layoutUtil.getColWidthPx()+this.layoutUtil.CARD_BORDER_PX};if(!e){var d=document.createElement('div');d.id='ovpDashboardLayoutMarker';d.position='absolute';d.style.height=this.floaterData.height+'px';d.style.width=this.floaterData.width+'px';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';document.getElementsByClassName('sapUshellEasyScanLayoutInner')[0].appendChild(d);}else{e.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';e.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';}a.element.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';a.element.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';};
R.prototype.showGhostWhileResize=function(a,c){var e=document.getElementById('ovpResizeRubberBand');var E=a.element.parentElement;var l=c.fElementPosLeft+this.layoutUtil.CARD_BORDER_PX-2;var t=c.fElementPosTop+this.layoutUtil.CARD_BORDER_PX-2;var h=this.resizeData.rowSpan*this.layoutUtil.getRowHeightPx()-2*this.layoutUtil.CARD_BORDER_PX+2;var w=this.resizeData.colSpan*this.layoutUtil.getColWidthPx()-2*this.layoutUtil.CARD_BORDER_PX+2;if(!e){var d=document.createElement('div');d.id='ovpResizeRubberBand';d.classList.add('ovpResizeRubberBand');d.position='absolute';d.style.height=h+'px';d.style.width=w+'px';d.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-l:l)+'px, '+t+'px, 0px) ';E.appendChild(d);}else{e.style.height=h+'px';e.style.width=w+'px';}};
R.prototype._addOverLay=function(c){var e=document.getElementById('sapOvpOverlayDivForCursor');if(!e){var o=document.createElement('div');o.id='sapOvpOverlayDivForCursor';o.style.cursor=c;this.jqLayout[0].appendChild(o);}else{e.style.cursor=c;}};
R.prototype._calculateMinimumCardHeight=function(a,c,s){var $=q(a.element),e=$.position().left,E=$.position().top,g,b,d;if(this.uiActions.isResizeX&&!this.uiActions.isResizeY){g=a.moveX-e-this.layoutOffset.left;b=$.outerHeight();d="ew-resize";}else if(!this.uiActions.isResizeX&&this.uiActions.isResizeY){g=$.outerWidth();b=a.moveY+this.updatedScrollTop-E-this.layoutOffset.top+2*this.layoutUtil.CARD_BORDER_PX;d="ns-resize";}else{g=a.moveX-e-this.layoutOffset.left;b=a.moveY+this.updatedScrollTop-E-this.layoutOffset.top+2*this.layoutUtil.CARD_BORDER_PX;d="nwse-resize";}return{ghostWidthCursor:g,ghostHeightCursor:b,cursor:d,fElementPosTop:E,fElementPosLeft:e};};
return R;});
sap.ui.predefine('sap/ovp/ui/DashboardLayoutUtil',["sap/ovp/ui/DashboardLayoutRearrange","sap/ovp/ui/DashboardLayoutModel","sap/ovp/cards/CommonUtils","sap/ui/Device","jquery.sap.global"],function(R,D,C,a,q){"use strict";var b=function(u){this.aCards=null;this.ROW_HEIGHT_PX=16;this.MIN_COL_WIDTH_PX=320;this.CARD_BORDER_PX=8;this.EXTRA_MARGIN=8;this.oLayoutData={layoutWidthPx:1680,contentWidthPx:1600,colCount:5,colWidthPx:this.MIN_COL_WIDTH_PX,rowHeightPx:this.ROW_HEIGHT_PX,marginPx:this.convertRemToPx(3)-this.CARD_BORDER_PX};this.dashboardLayoutModel=new D(u,this.oLayoutData.colCount,this.ROW_HEIGHT_PX,this.CARD_BORDER_PX);this.layoutDomId="";this.oLayoutCtrl={};this.componentDomId="";this.lastTriggeredColWidth=0.0;this.changedCards={};this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL();switch(true){case a.browser.webkit:this.cssVendorTransition="-webkit-transition";this.cssVendorTransform="-webkit-transform";break;case a.browser.msie:this.cssVendorTransition="-ms-transition";this.cssVendorTransform="-ms-transform";break;case a.browser.mozilla:this.cssVendorTransition="-moz-transition";this.cssVendorTransform="-moz-transform";break;default:this.cssVendorTransition="transition";this.cssVendorTransform="transform";}};
b.prototype.setLayout=function(l){this.oLayoutCtrl=l;this.layoutDomId=l.getId();this.componentDomId=this.layoutDomId.split("--")[0];};
b.prototype.getDashboardLayoutModel=function(){return this.dashboardLayoutModel;};
b.prototype.updateCardVisibility=function(c){this.dashboardLayoutModel.updateCardVisibility(c);this.aCards=this.dashboardLayoutModel.getCards(this.oLayoutData.colCount);this.dashboardLayoutModel._removeSpaceBeforeCard();this._setCardsCssValues(this.aCards);this._positionCards(this.aCards);};
b.prototype.updateLayoutData=function(d){if(this.oLayoutData.layoutWidthPx===d){return this.oLayoutData;}var i=this.oLayoutData.marginPx,e=0,s=320,m=1024,c=this.CARD_BORDER_PX,M=this.EXTRA_MARGIN,n=d+i,f,g;this.oLayoutData.layoutWidthPx=d;if(n<=s){i=this.convertRemToPx(0.5)-c;e=a.system.desktop?16:0;}else if(n<=m){i=this.convertRemToPx(1)-c;e=a.system.desktop?8:0;}else{i=this.convertRemToPx(3)-c;}if(i!==this.oLayoutData.marginPx){this.oLayoutData.marginPx=i;q(".sapUshellEasyScanLayout").css({"margin-left":i+"px"});}this.oLayoutData.contentWidthPx=d-i-e;this.oLayoutData.colCount=Math.floor(this.oLayoutData.contentWidthPx/this.MIN_COL_WIDTH_PX);if(this.oLayoutData.colCount===0){this.oLayoutData.colCount=1;}this.oLayoutData.colWidthPx=this.oLayoutData.contentWidthPx/this.oLayoutData.colCount;if(q(".sapOvpDashboardDragAndDrop").length>0&&q(".easyScanLayoutItemWrapper").length>0){f=q(".sapOvpDashboardDragAndDrop")[0].offsetLeft+M;if(q(".sapOvpDashboardDragAndDrop")[0].offsetLeft<40){g=f+8;}else{g=f;}}else{f=i+M;g=i+e+M;}q('.sapFDynamicPageTitle').css({"margin-left":f+"px","margin-right":g+"px","visibility":"visible"});q('.sapFDynamicPageHeader').css({"margin-left":f+"px","margin-right":g+"px","visibility":"visible"});return this.oLayoutData;};
b.prototype.getRearrange=function(s){var d={containerSelector:".sapUshellEasyScanLayoutInner",wrapper:".sapUshellEasyScanLayout",draggableSelector:".easyScanLayoutItemWrapper",placeHolderClass:"dashboardLayoutItemWrapper-placeHolder",cloneClass:"easyScanLayoutItemWrapperClone",moveTolerance:10,switchModeDelay:500,isTouch:!a.system.desktop,debug:false,aCards:this.aCards,layoutUtil:this,rowHeight:this.oLayoutData.rowHeightPx,colWidth:this.oLayoutData.colWidthPx};return new R(q.extend(d,s));};
b.prototype.resizeLayout=function(w){var B=this.oLayoutData.colCount;var t=false;if(this.oLayoutData.layoutWidthPx!==w){this.updateLayoutData(w);t=Math.abs(this.lastTriggeredColWidth-this.oLayoutData.colWidthPx)>this.convertRemToPx(0.5);this.aCards=this.dashboardLayoutModel.getCards(this.oLayoutData.colCount);for(var i=0;i<this.aCards.length;i++){var c=this.aCards[i];this.setCardCssValues(c);var e=document.getElementById(this.getCardDomId(c.id));if(e){e.style.width=c.dashboardLayout.width;e.style.height=c.dashboardLayout.height;if(B!==this.oLayoutData.colCount){e.style[this.cssVendorTransition]='all 0.25s ease';}else{e.style[this.cssVendorTransition]='';}e.style[this.cssVendorTransform]='translate3d('+c.dashboardLayout.left+' ,'+c.dashboardLayout.top+', 0px)';this.setKpiNumericContentWidth(e);}if(B!==this.oLayoutData.colCount&&t){this._triggerCardResize(c);}}this.dashboardLayoutModel._removeSpaceBeforeCard();this.oLayoutCtrl.fireAfterDragEnds();if(t){this.lastTriggeredColWidth=this.oLayoutData.colWidthPx;}}};
b.prototype.getCards=function(c){if(this.aCards&&this.oLayoutData.colCount===c){return this.aCards;}this._setColCount(c);this.aCards=this.dashboardLayoutModel.getCards(c);this._setCardsCssValues(this.aCards);return this.aCards;};
b.prototype.resetToManifest=function(){this.aCards=[];this.dashboardLayoutModel.resetToManifest();};
b.prototype.getCardDomId=function(c){return this.layoutDomId+"--"+c;};
b.prototype.getCardId=function(c){return c?c.split("--")[2]:'';};
b.prototype.getCardIdFromComponent=function(c){return c?c.split("--")[1]:'';};
b.prototype.isCardAutoSpan=function(c){return this.dashboardLayoutModel.getCardById(c).dashboardLayout.autoSpan;};
b.prototype.setAutoCardSpanHeight=function(e,c,h){var r,l,o;if(!c&&e&&e.target.parentElement){c=e.target.parentElement.parentElement.id.split("--")[1];}var H=h;if(!H&&e){H=e.size.height;}if(this.isCardAutoSpan(c)){o=this.dashboardLayoutModel.getCardById(c);if(o.dashboardLayout.showOnlyHeader){r=Math.ceil((H+2*this.CARD_BORDER_PX)/this.getRowHeightPx());}else{r=Math.round((H+2*this.CARD_BORDER_PX)/this.getRowHeightPx());}l=this.dashboardLayoutModel.resizeCard(c,{rowSpan:r,colSpan:1},false);this._sizeCard(l.resizeCard);this._positionCards(l.affectedCards);}};
b.prototype.calculateCardProperties=function(c){var g=this._getCardController(c);var o=this.dashboardLayoutModel.getCardById(c);var i=250,h,d,l,m,H;if(g){H=g.getItemHeight(g,'ovpCardHeader');h=H===0?o.dashboardLayout.headerHeight:H;d=g.getItemHeight(g,'toolbar');if(o.template==='sap.ovp.cards.list'){H=g.getItemHeight(g,'ovpList',true);l=H===0?o.dashboardLayout.itemHeight:H;m=h+d+l;}else if(o.template==='sap.ovp.cards.table'){l=o.dashboardLayout.itemHeight;m=h+d+2*l;}else if(o.template==='sap.ovp.cards.linklist'){if(o.settings.listFlavor==='carousel'){m=h+q('.sapOvpCarouselContentHeader').outerHeight()+240+q('.sapMCrslControlsBottom.sapMCrslControls').outerHeight();}else{l=g.getItemHeight(g,'ovpLinkList',true);var e=g.getView().getModel('ovpCardProperties').getProperty('/densityStyle');if(e==='cozy'){m=h+d+l+8;}else{m=h+d+l+4;}}}else if(o.template==='sap.ovp.cards.charts.analytical'){var B=g.getView().byId('bubbleText')?43:0;m=h+d+i+B+50;}else{m=h+d;}return{headerHeight:h,dropDownHeight:d,itemHeight:l,minCardHeight:m,leastHeight:h};}};
b.prototype._sizeCard=function(c){if(!c){return;}var $=document.getElementById(this.getCardDomId(c.id));c.dashboardLayout.width=c.dashboardLayout.colSpan*this.oLayoutData.colWidthPx+"px";c.dashboardLayout.height=c.dashboardLayout.rowSpan*this.oLayoutData.rowHeightPx+"px";if($){$.style.height=c.dashboardLayout.height;$.style.width=c.dashboardLayout.width;this._triggerCardResize(c);}this.dashboardLayoutModel._removeSpaceBeforeCard();var i=(this.dashboardLayoutModel._findHighestOccupiedRow()*this.ROW_HEIGHT_PX)+32;q(".sapUshellEasyScanLayoutInner").css({"height":i+"px"});};
b.prototype._triggerCardResize=function(c){var d=c.dashboardLayout,e=c.id,f=this._getCardComponentDomId(e),$=document.getElementById(f),g=this._getCardController(e),h,o;try{if((d.autoSpan||!d.visible)&&g){o=g.getCardItemsBinding();h=this.calculateCardProperties(e);if(o&&h){if(c.template==='sap.ovp.cards.table'){g.addColumnInTable($,d);}}return;}}catch(i){q.sap.log.warning("Card auto span failed for card "+e+" and error is  "+i.toString());}d.iRowHeightPx=this.getRowHeightPx();d.iCardBorderPx=this.CARD_BORDER_PX;try{if(g){var h=this.calculateCardProperties(e);g.resizeCard(d,h);}else{q.sap.log.warning("OVP resize: no controller found for "+e);}}catch(j){q.sap.log.warning("OVP resize: "+e+" catch "+j.toString());}};
b.prototype._positionCards=function(c){if(!c){return;}var p={},s=false;c.forEach(function(o){if(!o.dashboardLayout.visible){return;}p=this._mapGridToPositionPx(o.dashboardLayout);o.dashboardLayout.top=p.top;o.dashboardLayout.left=p.left;var e=document.getElementById(this.getCardDomId(o.id));if(e){e.classList.remove('sapOvpNotResizableLeftRight','sapOvpNotResizableRight','sapOvpNotResizableDown');e.style[this.cssVendorTransition]='all 0.25s ease';e.style[this.cssVendorTransform]='translate3d('+p.left+' ,'+p.top+', 0px)';s=o.dashboardLayout.column+o.dashboardLayout.colSpan===this.oLayoutData.colCount+1;if(s){if(o.dashboardLayout.colSpan===1){e.classList.add('sapOvpNotResizableLeftRight');}else{e.classList.add('sapOvpNotResizableRight');}}if((o.template==="sap.ovp.cards.list"&&o.dashboardLayout.colSpan===2)||(o.template==="sap.ovp.cards.linklist"&&o.settings.listFlavor==='carousel'&&o.dashboardLayout.colSpan===3)){e.classList.add('sapOvpNotResizableRight');}if(o.template==="sap.ovp.cards.linklist"&&o.settings.listFlavor==='carousel'&&o.dashboardLayout.rowSpan===45){e.classList.add('sapOvpNotResizableDown');}}}.bind(this));};
b.prototype.updateCardSize=function(c,g,d){var o=this.dashboardLayoutModel.getCardById(c);var e=this._getCardController(c);var $=document.getElementById(this.getCardDomId(c));$.style.height=g+'px';$.style.width=d+'px';$.style[this.cssVendorTransition]='none';$.style.zIndex=10;if(o.template==='sap.ovp.cards.linklist'&&o.settings.listFlavor==='carousel'){e.getView().byId('pictureCarousel').$().css('height',g-(o.dashboardLayout.headerHeight+2*this.CARD_BORDER_PX)+'px');}};
b.prototype.resizeCard=function(c,s,d){this.changedCards=this.dashboardLayoutModel.resizeCard(this.getCardId(c),s,true,d);this._positionCards(this.changedCards.affectedCards);};
b.prototype._mapGridToPositionPx=function(g){var l=(g.column-1)*this.getColWidthPx();var p={top:(g.row-1)*this.getRowHeightPx()+"px",left:this.isRTLEnabled?-l:l+"px"};return p;};
b.prototype._getCardComponentDomId=function(c){return this.componentDomId+"--"+c;};
b.prototype._getCardController=function(c){var o=null;var d=sap.ui.getCore().byId(this._getCardComponentDomId(c));if(d){var e=d.getComponentInstance();if(e){o=e.getAggregation("rootControl").getController();}}return o;};
b.prototype._setCardsCssValues=function(c){var i=0;for(i=0;i<c.length;i++){this.setCardCssValues(c[i]);}};
b.prototype.setCardCssValues=function(c){var l=(c.dashboardLayout.column-1)*this.oLayoutData.colWidthPx;c.dashboardLayout.top=((c.dashboardLayout.row-1)*this.oLayoutData.rowHeightPx)+"px";c.dashboardLayout.width=(c.dashboardLayout.colSpan*this.oLayoutData.colWidthPx)+"px";c.dashboardLayout.height=(c.dashboardLayout.rowSpan*this.oLayoutData.rowHeightPx)+"px";c.dashboardLayout.left=(this.isRTLEnabled?-l:l)+"px";};
b.prototype.convertRemToPx=function(v){var c=v;if(typeof v==="string"||v instanceof String){c=v.length>0?parseInt(v.split("rem")[0],10):0;}return c*C.getPixelPerRem();};
b.prototype.convertPxToRem=function(v){var c=v;if(typeof v==="string"||v instanceof String){c=v.length>0?parseFloat(v.split("px")[0],10):0;}return c/C.getPixelPerRem();};
b.prototype.setKpiNumericContentWidth=function($){var o=$.getElementsByClassName("sapOvpKpiContent");if(!!o&&o.length>0){var c=o[0];var i=8;var p=16;c.style.width=(this.getColWidthPx()-(2*i+2*p))+"px";}};
b.prototype.getLayoutWidthPx=function(){return this.oLayoutData.colCount*this.oLayoutData.colWidthPx;};
b.prototype.getColWidthPx=function(){return this.oLayoutData.colWidthPx;};
b.prototype.getRowHeightPx=function(){return this.oLayoutData.rowHeightPx;};
b.prototype._setColCount=function(c){this.oLayoutData.colCount=c;};
return b;},true);
sap.ui.predefine('sap/ovp/ui/EasyScanLayout',["jquery.sap.global","sap/ovp/cards/CommonUtils","sap/ovp/ui/UIActions","sap/ui/Device","sap/ui/core/Control","sap/ui/core/ResizeHandler"],function(q,C,U,D,a,R){"use strict";var b=function(s){this.init(s);};
b.prototype.init=function(s){s.beforeDragCallback=this._beforeDragHandler.bind(this);s.dragStartCallback=this._dragStartHandler.bind(this);s.dragMoveCallback=this._dragMoveHandler.bind(this);s.dragEndCallback=this._dragEndHandler.bind(this);s.endCallback=this._endHandler.bind(this);this.layout=s.layout;this.afterReplaceElements=s.afterReplaceElements||function(){};this.settings=s;delete s.afterReplaceElements;this.destroy();this.uiActions=new U(this.settings).enable();this.aCardsOrder=null;this.verticalMargin=null;this.horizontalMargin=null;this.columnCount=null;this.top=null;this.left=null;this.width=null;this.layoutOffset=null;this.jqLayout=null;this.jqLayoutInner=null;this.isRTLEnabled=null;this.lastCollidedEl=null;this.lastCollisionTop=null;this.SCROLL_OFFSET=16;};
b.prototype.findCollision=function(e,h,j){var k;for(var i=0;i<j.length;i++){var l=j[i];var n=!(l.posDnD.right<e||l.posDnD.left>e);var o=!(l.posDnD.bottom<h||l.posDnD.top>h);if(n&&o){k=l;break;}}return k;};
b.prototype.isCollisionTop=function(e,h,i){var j=((i.posDnD.bottom-i.posDnD.top)/2)+i.posDnD.top;var k=!(j<h||i.posDnD.top>h);return k;};
b.prototype._dragMoveHandler=function(e,h){var s=e.element;var i=e.moveX-this.layoutOffset.left;var j=e.moveY-this.jqLayout.get(0).getBoundingClientRect().top+this.jqLayout.scrollTop();if(!h){var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var k=v.offsetHeight;var l=v.getBoundingClientRect();if((e.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>k){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;}else if(((e.evt.clientY-v.offsetTop)<l.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;}}var n=this.findCollision(i,j,this.aCardsOrder);if(!n){return;}var o=this.isCollisionTop(i,j,n);if(n===s){this.lastCollidedEl=n;return;}if(n===this.lastCollidedEl){if(this.lastCollisionTop===o){return;}if(this.lastCollisionTop){this.lastCollisionTop=o;if(s.posDnD.top>n.posDnD.top){return;}}else{this.lastCollisionTop=o;if(s.posDnD.top<n.posDnD.top){return;}}}if(this.lastCollidedEl&&(this.lastCollidedEl!==n&&this.lastCollidedEl!==s)&&(this.lastCollidedEl.posDnD.left===n.posDnD.left&&this.lastCollidedEl.posDnD.left===s.posDnD.left)){n=this.lastCollidedEl;}this.dragAndDropElement(s,n);this.lastCollidedEl=this.findCollision(i,j,this.aCardsOrder);if(this.lastCollidedEl){this.lastCollisionTop=this.isCollisionTop(i,j,this.lastCollidedEl);}};
b.prototype.dragAndDropElement=function(s,t){if(s&&t){this.aCardsOrder=this.dragAndDropSwapElement(s,t,this.aCardsOrder);this.drawLayout(this.aCardsOrder);}};
b.prototype.dragAndDropSwapElement=function(s,t,i){var n=i.slice();var e=i.indexOf(s);var h=i.indexOf(t);n[h]=s;n[e]=t;if(!!this.positionChanges&&t&&t.children){var T=t.children[0].getAttribute("id");this.positionChanges.push({changeType:"position",content:{cardId:T.substring(T.indexOf("mainView--")+10,T.length),position:e,oldPosition:h},isUserDependent:true});}return n;};
b.prototype.dragAndDropSwapElementForKeyboardNavigation=function(s,t){if(s&&t){var l=this.layout.getVisibleLayoutItems().map(function(h){return h.$().parent()[0];});var e=0;for(var i=0;i<l.length;i++){if(l[i]===s){l[i]=t;e++;continue;}if(l[i]===t){l[i]=s;e++;continue;}}if(e===2){this.afterReplaceElements(l);}}};
b.prototype.initCardsSettingsForDragAndDrop=function(){this.jqLayout=this.layout.$();this.jqLayoutInner=this.jqLayout.children().first();var l=this.jqLayout.scrollTop();var e=this.jqLayoutInner.height();this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL()?1:-1;this.aCardsOrder=[];this.layoutOffset=this.jqLayout.offset();if(D.system.tablet===true&&D.system.desktop===false){this.jqLayout.css('height',this.jqLayoutInner.height());}var v=this.layout.getVisibleLayoutItems();if(!v){return;}this.aCardsOrder=v.map(function(k){var n=k.$().parent()[0];n.posDnD={width:n.offsetWidth,height:n.offsetHeight};n.style.width=n.offsetWidth+"px";return n;});var j=this.jqLayoutInner.children().first();var h=(this.isRTLEnabled===1)?"margin-left":"margin-right";this.verticalMargin=parseInt(j.css(h),10);var i=this.aCardsOrder[0];this.horizontalMargin=parseInt(q(i).css("margin-bottom"),10);this.columnCount=this.layout.getColumnCount();this.top=i.getBoundingClientRect().top-this.jqLayoutInner[0].getBoundingClientRect().top;this.left=i.getBoundingClientRect().left-this.jqLayoutInner[0].getBoundingClientRect().left;this.width=i.offsetWidth;q(this.aCardsOrder).css("position","absolute");this.drawLayout(this.aCardsOrder);this.jqLayoutInner.height(e);this.jqLayout.scrollTop(l);};
b.prototype.drawLayout=function(e){var o=[];for(var i=0;i<this.columnCount;i++){o[i]=0;}for(var n=0;n<e.length;n++){var h=n%this.columnCount;var k=o[h]++;var l=this.left-this.isRTLEnabled*(h*this.verticalMargin+h*this.width);var p=this.top;var r=e[n];for(var j=0;j<k;j++){p+=this.horizontalMargin;var s=n-(j+1)*this.columnCount;p+=e[s].posDnD.height;}r.posDnD.top=p;r.posDnD.bottom=p+r.posDnD.height;r.posDnD.left=l;r.posDnD.right=l+r.posDnD.width;this.updateElementCSS(e[n]);}};
b.prototype.updateElementCSS=function(e){q(e).css({top:e.posDnD.top,left:e.posDnD.left});};
b.prototype._dragStartHandler=function(e,h){this.positionChanges=[];if(D.system.desktop){q('body').addClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}if(window.getSelection){var s=window.getSelection();s.removeAllRanges();}this.initCardsSettingsForDragAndDrop();};
b.prototype._beforeDragHandler=function(e,u){if(D.browser.mobile){this.selectableElemets=q(u).find('.sapUiSelectable');this.selectableElemets.removeClass('sapUiSelectable');}q(this.settings.wrapper).addClass("dragAndDropMode");};
b.prototype._dragEndHandler=function(e,u){this.lastCollidedEl=null;if(e.type=='mouseup'||e.type=='touchend'){if(this.aCardsOrder){this.afterReplaceElements(this.aCardsOrder);}}if(D.system.desktop){q('body').removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}q(this.settings.wrapper).removeClass("dragAndDropMode");if(this.jqLayoutInner){this.jqLayoutInner.removeAttr("style");}if(this.aCardsOrder){q(this.aCardsOrder).removeAttr("style");}this.uiActions.removeClone();};
b.prototype._endHandler=function(e,u){if(D.browser.mobile&&this.selectableElemets){this.selectableElemets.addClass('sapUiSelectable');}};
b.prototype.getSwapItemsFunction=function(){return this.dragAndDropSwapElementForKeyboardNavigation.bind(this);};
b.prototype.destroy=function(){if(this.uiActions){this.uiActions.disable();this.uiActions=null;}};
var c={buildReplaceItemsInstance:function(s){var e={containerSelector:".sapUshellEasyScanLayoutInner",wrapper:".sapUshellEasyScanLayout",draggableSelector:".easyScanLayoutItemWrapper",placeHolderClass:"easyScanLayoutItemWrapper-placeHolder",cloneClass:"easyScanLayoutItemWrapperClone",moveTolerance:10,switchModeDelay:800,isTouch:!D.system.desktop,debug:false};s=q.extend(e,s);return new b(s);}};var K=function(e,s){this.init(e,s);};
K.prototype.init=function(e,s){this.easyScanLayout=e;this.swapItemsFunction=(typeof s==="function")?s:function(){};this.keyCodes=q.sap.KeyCodes;this.jqElement=e.$();this.jqElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));this.jqElement.find(".after").on("focus.keyboardNavigation",this.afterFocusHandler.bind(this));this.jqElement.find(".sapUshellEasyScanLayoutInner").on("focus.keyboardNavigation",this.layoutFocusHandler.bind(this));this.jqElement.on("focus.keyboardNavigation",".easyScanLayoutItemWrapper",this.layoutItemFocusHandler.bind(this));this._ignoreSelfFocus=false;this.swapSourceElement=null;this.lastFocussedElement=null;this.lastFocussedClassId=null;this.jqElement.on('keyup',this.ctrlArrowUpDownHandler.bind(this));};
K.prototype.ctrlArrowUpDownHandler=function(e){switch(e.keyCode){case this.keyCodes.PAGE_UP:if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,true);}break;case this.keyCodes.PAGE_DOWN:if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,false);}break;}};
K.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");this.jqElement.find(".after").off(".keyboardNavigation");this.jqElement.find(".sapUshellEasyScanLayoutInner").off(".keyboardNavigation");}delete this.jqElement;delete this.easyScanLayout;};
K.prototype.getVisibleLayoutItems=function(){var e=this.easyScanLayout.getContent();var h=e.filter(function(i){return i.getVisible();});return h;};
K.prototype.afterFocusHandler=function(){if(this._ignoreSelfFocus){this._ignoreSelfFocus=false;return;}var j=this.jqElement.find(".easyScanLayoutItemWrapper:sapTabbable").first();var l=j.find(":sapTabbable").last();if(!l.length){l=j;}l.focus();};
K.prototype.layoutFocusHandler=function(){if(this._ignoreSelfFocus){this._ignoreSelfFocus=false;return;}this.jqElement.find(".easyScanLayoutItemWrapper:sapTabbable").first().focus();};
K.prototype.layoutItemFocusHandler=function(){var j=q(document.activeElement);if(j){var l=j.find("[aria-label]");var i,s="";if(j.find('.valueStateText').length==1){var t=j.find('.valueStateText').find('.sapMObjectNumberText').text();var v=j.find('.valueStateText').find('.sapUiInvisibleText').text();j.find('.valueStateText').attr('aria-label',t+" "+v);j.find('.valueStateText').attr('aria-labelledby',"");}if(q(l).hasClass('kpiHeaderClass')){var k=q(l).closest('div.kpiHeaderClass');var e=k.text();var n=k.attr("id");var V=sap.ui.getCore().byId(n).getValueColor();k.attr('aria-label',e+" "+V);}j.find("[role='listitem']").attr('aria-label',"");if(j.hasClass('easyScanLayoutItemWrapper')){var h="";var o=j.find('.cardCount');var p=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cardPositionInApp",[j.attr('aria-posinset'),j.attr('aria-setsize')]);if(o.length===0){h="countDiv_"+new Date().getTime();var r='<div id="'+h+'" class="cardCount" aria-label="'+p+'" hidden></div>';j.append(r);}else{h=o[0].id;o.attr('aria-label',p);}s+=h+" ";var u=j.find('.cardType');if(u.length!==0){s+=u[0].id+" ";}}if(j.hasClass('sapOvpCardHeader')&&!j.hasClass('sapOvpStackCardContent')){var w="";var x=j.find('.cardHeaderType');if(x.length===0){var y=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("CardHeaderType");w="cardHeaderType_"+new Date().getTime();var z='<div id="'+w+'" class="cardHeaderType" aria-label="'+y+'" hidden></div>';j.append(z);}else{w=x[0].id;}s+=w+" ";}for(i=0;i<l.length;i++){if(l[i].getAttribute("role")==="heading"){s+=l[i].id+" ";}}if(j.hasClass('sapOvpCardHeader')){var A=j.find('.cardHeaderText');if(A.length!==0){for(var i=0;i<A.length;i++){s+=A[i].id+" ";}}}if(s.length){j.attr("aria-labelledby",s);}if(j.prop('nodeName')==="LI"&&j.find('.linkListHasPopover').length!==0){if(j.find('#hasDetails').length===0){j.append("<div id='hasDetails' hidden>"+sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("HAS_DETAILS")+"</div>");j.attr('aria-describedby',"hasDetails");}}}};
K.prototype._getLayoutItemIndex=function(j){if(!j.hasClass("easyScanLayoutItemWrapper")){return false;}var e=j.children().attr("id");var i=false;this.getVisibleLayoutItems().forEach(function(h,k){if(e==h.getId()){i=k;}});return i;};
K.prototype._changeItemsFocus=function(j){var e=q('.easyScanLayoutItemWrapper');e.attr("tabindex","-1");j.attr("tabindex",0);setTimeout(function(){j.focus();},500);};
K.prototype._swapItemsFocus=function(e,j,h){e.preventDefault();j.attr("tabindex","-1");setTimeout(function(){h.attr("tabindex","0").focus();},0);};
K.prototype.tabButtonHandler=function(e){var j=q(document.activeElement);this.lastFocussedElement=j;if(j.hasClass("easyScanLayoutItemWrapper")){return;}var h=j.closest(".easyScanLayoutItemWrapper");if(!h.length){return;}var i=h.find(":sapTabbable");i=i.filter(":not([id$=after])");if(i.eq(i.length-1).is(j)){e.stopPropagation();e.stopImmediatePropagation();var k=this.jqElement.scrollTop();this._ignoreSelfFocus=true;this.jqElement.find(".after").focus();this.jqElement.scrollTop(k);}};
K.prototype.f7Handler=function(e){var j=q(document.activeElement);if(j.hasClass("easyScanLayoutItemWrapper")){j.find(":sapTabbable").first().focus();}else{j.closest(".easyScanLayoutItemWrapper").focus();}e.preventDefault();};
K.prototype.shiftTabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass('after')){this.lastFocussedElement.focus();return;}if(!j.hasClass("easyScanLayoutItemWrapper")){return;}this._ignoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();};
K.prototype.arrowUpDownHandler=function(e,i){e.preventDefault();var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("sapOvpCardHeader")){var h=q(j)[n](".easyScanLayoutItemWrapper");if(!h.is(j)){this._swapItemsFocus(e,j,h);}}};
K.prototype.arrowRightLeftHandler=function(e,i){var h=i?1:-1;var j=q(document.activeElement);var k=this._getLayoutItemIndex(j);if(k===false){return;}var I=this.getVisibleLayoutItems()[k+h];if(I){this._swapItemsFocus(e,j,I.$().parent());}};
K.prototype.altPageUpAndHomeHandler=function(e){var j=q(document.activeElement);var h=this._getLayoutItemIndex(j);if(h===false){return;}var i=this.easyScanLayout.getColumnCount();var k=h%i;var l;var n=this.getVisibleLayoutItems();if(k==0){l=n[0];}else{l=n[h-k];}this._swapItemsFocus(e,j,l.$().parent());};
K.prototype.altPageDownAndEndHandler=function(e){var j=q(document.activeElement);var h=this._getLayoutItemIndex(j);if(h===false){return;}var i=this.easyScanLayout.getColumnCount();var k=h%i;var l;var n=this.getVisibleLayoutItems();if((k==(i-1))||((h+(i-k))>n.length)){l=n[(n.length-1)];}else{l=n[h+(i-k-1)];}this._swapItemsFocus(e,j,l.$().parent());};
K.prototype.ctrlHomeHandler=function(e){var j=q(document.activeElement);var h=this._getLayoutItemIndex(j);if(h===false){return;}var i=this.easyScanLayout.getColumnCount();var k=h%i;var v=this.getVisibleLayoutItems();var l=v[k];var n=l.$().parent();if(n.is(j)){n=v[0].$().parent();}this._swapItemsFocus(e,j,n);};
K.prototype.ctrlEndHandler=function(e){var j=q(document.activeElement);var h=this._getLayoutItemIndex(j);if(h<0){return;}var k=this.easyScanLayout.getColumnCount();var l=h%k;var n;var v=this.getVisibleLayoutItems();for(var i=v.length-1;i>=0;i--){if((i%k)==l){n=v[i];break;}}var o=n.$().parent();if(o.is(j)){o=v[v.length-1].$().parent();}this._swapItemsFocus(e,j,o);};
K.prototype.pageUpDownHandler=function(e,i){var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("easyScanLayoutItemWrapper")){return;}if(!j[n]().length){return;}var h=false;var k=j;var w=q(window).height();while(!h){var l=k[n]();if(!l.length){h=k;break;}if(!i&&l.offset().top>w){h=l;break;}var o=l.offset().top;var s=0;if(o){s=o<0?-1:1;}if(i&&(s<=0)){h=l;break;}k=l;}this._swapItemsFocus(e,j,h);};
K.prototype.ctrlArrowHandler=function(e){if(this.swapSourceElement==null){this.swapSourceElement=q(document.activeElement);if(!this.swapSourceElement.hasClass("easyScanLayoutItemWrapper")){this.endSwap();}else{this.jqElement.on('keyup.keyboardNavigation',this.keyupHandler.bind(this));this.jqElement.addClass('dragAndDropMode');this.swapSourceElement.addClass('dragHovered');}}};
K.prototype.keyupHandler=function(e){if(this.swapSourceElement!=null&&e.keyCode===this.keyCodes.CONTROL){var j=q(document.activeElement);if(j.hasClass("easyScanLayoutItemWrapper")){this.swapItemsFunction(this.swapSourceElement[0],j[0]);this._changeItemsFocus(this.swapSourceElement);}this.endSwap();}};
K.prototype.endSwap=function(e){this.swapSourceElement.removeClass('dragHovered');this.jqElement.removeClass('dragAndDropMode');this.swapSourceElement=null;this.jqElement.off('keyup.keyboardNavigation');};
K.prototype.checkIfSwapInterrupted=function(e){if(this.swapSourceElement!=null&&e.keyCode!=this.keyCodes.ARROW_LEFT&&e.keyCode!=this.keyCodes.ARROW_RIGHT&&e.keyCode!=this.keyCodes.ARROW_UP&&e.keyCode!=this.keyCodes.ARROW_DOWN){this.endSwap();}};
K.prototype.spacebarHandler=function(e){var i=sap.ui.getCore().byId(e.target.id);if(i&&i.mEventRegistry.hasOwnProperty('press')){q('#'+e.target.id).addClass('sapMLIBActive');q('#'+e.target.id+' span').css('color','#FFFFFF');i.firePress();}};
K.prototype.keydownHandler=function(e){this.checkIfSwapInterrupted(e);switch(e.keyCode){case this.keyCodes.TAB:(e.shiftKey)?this.shiftTabButtonHandler(e):this.tabButtonHandler(e);break;case this.keyCodes.F6:if(e.shiftKey){this._ignoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();q.sap.handleF6GroupNavigation(e);}else{this._ignoreSelfFocus=true;var h=this.jqElement.scrollTop();this.jqElement.find(".after").focus();q.sap.handleF6GroupNavigation(e);this.jqElement.scrollTop(h);}break;case this.keyCodes.F7:this.f7Handler(e);break;case this.keyCodes.ARROW_UP:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowUpDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowUpDownHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowRightLeftHandler(e,true);break;case this.keyCodes.ARROW_LEFT:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowRightLeftHandler(e,false);break;case this.keyCodes.HOME:(e.ctrlKey==true)?this.ctrlHomeHandler(e):this.altPageUpAndHomeHandler(e);break;case this.keyCodes.END:(e.ctrlKey==true)?this.ctrlEndHandler(e):this.altPageDownAndEndHandler(e);break;case this.keyCodes.PAGE_UP:(e.altKey==true)?this.altPageUpAndHomeHandler(e):this.pageUpDownHandler(e,true);if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,true);}break;case this.keyCodes.PAGE_DOWN:(e.altKey==true)?this.altPageDownAndEndHandler(e):this.pageUpDownHandler(e,false);if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,false);}break;case this.keyCodes.SPACE:case this.keyCodes.ENTER:this.spacebarHandler(e);break;}};
var E=a.extend("sap.ovp.ui.EasyScanLayout",{
metadata:{designTime:true,library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content",events:{afterRendering:{},afterDragEnds:{},afterColumnUpdate:{}},properties:{useMediaQueries:{group:"Misc",type:"boolean",defaultValue:false},dragAndDropRootSelector:{group:"Misc",type:"string"},dragAndDropEnabled:{group:"Misc",type:"boolean",defaultValue:true},debounceTime:{group:"Misc",type:"int",defaultValue:150}}},
renderer:{render:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapUshellEasyScanLayout");r.writeClasses();r.write(">");r.write("<div class='sapUshellEasyScanLayoutInner' role='list' tabindex='0' aria-label='Cards'>");var e=o.columnCount;var h=Array.apply(null,new Array(e)).map(function(){return[];});var j=o.getContent().filter(function(l){return l.getVisible();});for(var i=0;i<j.length;i++){h[i%e].push(j[i]);}var k=1;h.forEach(function(l){r.write("<div");r.addClass("easyScanLayoutColumn");r.writeClasses();r.write(">");l.forEach(function(n,p){r.write("<div ");(k===1)?r.write("tabindex='0' "):r.write("tabindex='-1' ");r.addClass("easyScanLayoutItemWrapper");r.write("aria-setsize="+j.length+" aria-posinset="+k);k++;r.writeClasses();r.write(">");r.renderControl(n);r.write("</div>");});r.write("</div>");});r.write("</div>");r.write("<div class='after' tabindex='0'></div>");r.write("</div>");}}
});
var g=function(){return[{minWidth:0,styleClass:"columns-blank",columnCount:1},{minWidth:240,styleClass:"columns-block",columnCount:1},{minWidth:352,styleClass:"columns-narrow",columnCount:1},{minWidth:433,styleClass:"columns-wide",columnCount:1},{minWidth:704,styleClass:"columns-narrow",columnCount:2},{minWidth:864,styleClass:"columns-wide",columnCount:2},{minWidth:1024,styleClass:"columns-narrow",columnCount:3},{minWidth:1280,styleClass:"columns-wide",columnCount:3},{minWidth:1440,styleClass:"columns-narrow",columnCount:4},{minWidth:1800,styleClass:"columns-wide",columnCount:4},{minWidth:2560,styleClass:"columns-narrow",columnCount:5},{minWidth:3008,styleClass:"columns-wide",columnCount:5},{minWidth:3600,styleClass:"columns-narrow",columnCount:4},{minWidth:3840,styleClass:"columns-wide",columnCount:4},{minWidth:5120,styleClass:"columns-wide",columnCount:5},{minWidth:6016,styleClass:"columns-wide",columnCount:5}];};
E.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.columnResolutionList=g();this.columnCount=this.columnResolutionList[0].columnCount;this.columnStyle="";this.updateColumnClass(this.columnResolutionList[0].styleClass);var e=D.browser.msie&&D.browser.version>9;if(e&&this.getUseMediaQueries()){this.mediaQueryList=this.initMediaListeners(this.columnResolutionList);}else{this.resizeHandlerId=this.initResizeHandler(this.columnResolutionList);}};
var m;var d=function(e,h,i){var j=function(k,l){this.updateColumnClass(l);this.refreshColumnCount(k,this.getContent());};if(i.matches){window.clearTimeout(m);m=window.setTimeout(j.bind(this,e,h),this.getDebounceTime());}};var f=function(e,t){var h=e.minWidth;var i=t&&t.minWidth;return"(min-width: "+h+"px)"+(i?" and (max-width: "+(i-1)+"px)":"");};
E.prototype.initMediaListeners=function(e){var h=[];for(var i=0;i<e.length;i++){var j=f(e[i],e[i+1]);var k=window.matchMedia(j);var l=d.bind(this,e[i].columnCount,e[i].styleClass);k.addListener(l);k.bindedListener=l;l(k);h.push(k);}return h;};
E.prototype.initResizeHandler=function(e){var r;var h=this.getDebounceTime();var i=function(){window.clearTimeout(r);r=window.setTimeout(this.oControl.resizeHandler.bind(this,e),h);};return R.register(this,i);};
E.prototype.resizeHandler=function(e){var w=this.iWidth;var t=this;var o=this.oControl;var r;if(q(".sapFDynamicPageContent").length>0){w=window.innerWidth;}for(var i=0;i<e.length;i++){if(!e[i+1]){r=e[i];break;}if(e[i].minWidth<=w&&e[i+1].minWidth>w){r=e[i];break;}}o.refreshColumnCount(r.columnCount,o.getContent(),t);o.updateColumnClass(r.styleClass);o.fireAfterColumnUpdate(r);};
E.prototype.getColumnWidth=function(s){var e;switch(s){case"columns-blank":e=0;break;case"columns-narrow":e=20;break;case"columns-wide":e=25;break;}return e;};
E.prototype.refreshColumnCount=function(e,h,t){this.columnCount=e;var k=q();for(var i=0;i<e;i++){k=k.add("<div class='easyScanLayoutColumn'/>");}var l=h.filter(function(o){return o.getVisible();});var n=1;for(var j=0;j<l.length;j++){q(l[j].getDomRef()).parent().attr('aria-posinset',n);n++;k.get(j%e).appendChild(l[j].getDomRef().parentNode);}this.$().children(".sapUshellEasyScanLayoutInner").empty().append(k);if(t&&t.iWidth){this.headerMargin(t);}};
E.prototype.headerMargin=function(t){var e=0,h=0;var w=t.iWidth;var r,j,k,s=0,l,v=0;var n=g();var o=C.getPixelPerRem();var p=(window.innerWidth*1.0)/o;if(q(".sapFDynamicPageContent").length>0){w=window.innerWidth;}for(var i=0;i<n.length;i++){if(!n[i+1]){r=n[i];break;}if(n[i].minWidth<=w&&n[i+1].minWidth>w){r=n[i];break;}}l=this.getColumnWidth(r.styleClass);k=(r.columnCount*l+(r.columnCount-1)*1);if(D.system.desktop){s=q('.sapFDynamicPageScrollBar').css('width');if(typeof s==="string"||s instanceof String){v=s.length>0?parseInt(s.split("px")[0],10):0;}s=(v*1.0)/o;}j=(p-s-k)/2;q('.sapFDynamicPageTitle').css({"margin-left":j+"rem","margin-right":j+"rem","visibility":"visible"});q('.sapFDynamicPageHeader').css({"margin-left":j+"rem","margin-right":j+"rem","visibility":"visible"});if(D.system.desktop){p=q("body").width();if(q(".sapFDynamicPageContentFitContainer").length>0){e=q(".sapFDynamicPageContentFitContainer")[0].clientWidth;}if(p===e){var u=q('.sapFDynamicPageTitle').css('margin-left');var x=q('.sapFDynamicPageTitle').css('margin-right');if(typeof u==="string"||u instanceof String){u=u.length>0?parseInt(u.split("px")[0],10):0;}if(typeof x==="string"||x instanceof String){x=x.length>0?parseInt(x.split("px")[0],10):0;}s=q('.sapFDynamicPageScrollBar').css('width');if(typeof s==="string"||s instanceof String){v=s.length>0?parseInt(s.split("px")[0],10):0;}s=v;h=s/2;u=(u+h)/(o*1.0);x=(x+h)/(o*1.0);q('.sapFDynamicPageTitle').css({"margin-left":u+"rem","margin-right":x+"rem","visibility":"visible"});q('.sapFDynamicPageHeader').css({"margin-left":u+"rem","margin-right":x+"rem","visibility":"visible"});}}};
E.prototype.getColumnCount=function(){return this.columnCount;};
E.prototype.getVisibleLayoutItems=function(){var e=this.getContent();var h=e.filter(function(i){return i.getVisible();});return h;};
E.prototype.updateColumnClass=function(e){if(this.columnStyle===e){return;}this.removeStyleClass(this.columnStyle);this.addStyleClass(e);this.columnStyle=e;};
E.prototype.afterDragAndDropHandler=function(e){var A=this.removeAllAggregation("content",true);var v=[];var V=0;e.forEach(function(h,j){var k=h.children[0].getAttribute("id");var o=sap.ui.getCore().byId(k);v.push(o);q(h).attr('aria-posinset',j+1);});for(var i=0;i<A.length;i++){if(A[i].getVisible()){this.addAggregation("content",v[V],true);V++;}else{this.addAggregation("content",A[i],true);}}this.fireAfterDragEnds({positionChanges:this.layoutDragAndDrop.positionChanges});this.refreshColumnCount(this.getColumnCount(),this.getContent());};
E.prototype.setActive=function(s){if(s){this.removeStyleClass("ovpOverlay");}else{this.addStyleClass("ovpOverlay");}};
E.prototype.getActive=function(){return!this.hasStyleClass("ovpOverlay");};
E.prototype.onAfterRendering=function(){if(!this.getDragAndDropRootSelector()){this.setDragAndDropRootSelector("#"+this.getId());}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();}if(this.getDragAndDropEnabled()){this.layoutDragAndDrop=c.buildReplaceItemsInstance({afterReplaceElements:this.afterDragAndDropHandler.bind(this),rootSelector:this.getDragAndDropRootSelector(),layout:this});}if(this.keyboardNavigation){this.keyboardNavigation.destroy();}var s=this.layoutDragAndDrop?this.layoutDragAndDrop.getSwapItemsFunction():null;this.keyboardNavigation=new K(this,s);this.fireAfterRendering();};
E.prototype.exit=function(){if(this.mediaQueryList){this.mediaQueryList.forEach(function(e){e.removeListener(e.bindedListener);});delete this.mediaQueryList;}if(this.resizeHandlerId){R.deregister(this.resizeHandlerId);}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();delete this.layoutDragAndDrop;}};
return E;});
sap.ui.predefine('sap/ovp/ui/OVPNumericContent',["sap/m/NumericContent"],function(N){"use strict";return N.extend("sap.ovp.ui.OVPNumericContent",{renderer:{_renderScaleAndIndicator:function(r,c,i,a,w,t,b){if(i||a){var s=c.getState();var C=c.getValueColor();r.write("<div");r.addClass("sapMNCIndScale");r.addClass(c.aCustomStyleClasses.join(' '));r.addClass(w);r.addClass(s);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapMNCIndicator");r.addClass(t);r.addClass(s);r.addClass(C);r.writeClasses();r.write("/>");if(a){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapMNCScale");r.addClass(s);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(b);r.write("</div>");}r.write("</div>");}}}})});
sap.ui.predefine('sap/ovp/ui/ObjectStreamRenderer',["jquery.sap.global","sap/ui/core/Icon"],function(q,I){"use strict";var O={};
O.render=function(r,c){if(!c.getVisible()){return;}r.write("<div");r.writeControlData(c);r.writeAccessibilityState(undefined,{role:"dialog"});r.writeAccessibilityState(c,{label:c.getTitle()});r.addClass("sapOvpObjectStream");r.writeClasses();r.write(">");r.write("<div");r.writeClasses();r.write(">");var t=c.getTitle();if(t){r.renderControl(t);}r.write("</div>");r.write('<div tabindex="0" ');r.addClass("sapOvpObjectStreamClose");r.writeAccessibilityState(undefined,{role:"button"});r.writeAccessibilityState(c,{label:"close"});r.writeClasses();r.write(">");r.renderControl(c._closeIcon);r.write("</div>");r.write('<div id="'+c.getId()+'-cont" class="sapOvpObjectStreamCont"');r.write(">");r.write('<div id="'+c.getId()+'-scroll"');r.writeAccessibilityState(undefined,{role:"list"});r.addClass("sapOvpObjectStreamScroll");r.writeClasses();r.write(">");var C=c.getContent();var p=c.getPlaceHolder();C.forEach(function(a,i){r.write("<div class='sapOvpObjectStreamItem' ");if(i==0){r.write("tabindex='0' ");}else{r.write("tabindex='-1' ");}r.writeAccessibilityState(undefined,{role:"listitem"});r.write("aria-label = ' '");if(p){r.write("aria-setsize = "+(C.length+1)+" aria-posinset = "+(i+1));}else{r.write("aria-setsize = "+(C.length)+" aria-posinset = "+(i+1));}r.write(">");r.renderControl(a);r.write("</div>");});if(p){r.write("<div class='sapOvpObjectStreamItem' ");if(!C.length){r.write("tabindex='0'");}else{r.write("tabindex='-1'");}r.writeAccessibilityState(undefined,{role:"listitem"});r.write("aria-setsize = "+(C.length+1)+" aria-posinset = "+(C.length+1));r.write(">");r.renderControl(p);r.write("</div>");}r.write("</div>");r.write('<div id="'+c.getId()+'-leftedge" class="sapOvpOSEdgeLeft">');r.renderControl(new I({src:"sap-icon://slim-arrow-left",useIconTooltip:false}));r.write('</div>');r.write('<div id="'+c.getId()+'-rightedge" class="sapOvpOSEdgeRight">');r.renderControl(new I({src:"sap-icon://slim-arrow-right",useIconTooltip:false}));r.write('</div>');r.write("</div>");r.write("</div>");};
O.renderFooterContent=function(r,c){};
return O;},true);
sap.ui.predefine('sap/ovp/ui/SmartphoneHeaderToggle',["jquery.sap.global"],function(q){"use strict";return{threshold:10,headerVisible:true,startY:undefined,app:undefined,jqView:undefined,startHandler:function(e){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return;}this.startY=e.touches[0].pageY;},resizeHandler:function(){if(!this.headerVisible){this.animateHeader.call(this,this.headerVisible);}},animateHeader:function(s){var j=this.jqView.find('.ovpApplication > .sapUiFixFlexFixed > .sapMVBox');var a=this.jqView.find('.ovpApplication > .sapUiFixFlexFlexible');var b=a.children();var t;if(s){t="translateY(0px)";j.add(a).css({"transform":t,"-webkit-transform":t});a.one('transitionend',function(e){if(this.headerVisible){b.css({bottom:"0px"});}}.bind(this));}else{var h=this.getView().byId('ovpMain').getHeader();if(h){var c=h.$().height();b.css({bottom:"-"+c+"px"});t="translateY(-"+c+"px)";a.add(j).css({"transform":t,"-webkit-transform":t});}}},moveHandler:function(e){var m=e.touches[0].pageY;if(typeof this.startY==="undefined"){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return;}this.startY=m;}if(Math.abs(this.startY-m)<this.threshold){return;}if(this.startY>m&&this.headerVisible){this.headerVisible=false;this.startY=m;this.animateHeader.call(this,this.headerVisible);}if(this.startY<m&&!this.headerVisible){this.headerVisible=true;this.startY=m;this.animateHeader.call(this,this.headerVisible);}},endHandler:function(){this.startY=undefined;return;},enable:function(a){this.app=a;this.view=this.app.getView();this.jqView=this.view.$();this.jqView.on('touchstart.headerHiding',this.startHandler.bind(this));this.jqView.on('touchmove.headerHiding',this.moveHandler.bind(this));this.jqView.on('touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding',this.endHandler.bind(this));q(window).on("resize.headerHiding",this.resizeHandler.bind(this));},disable:function(){this.jqView.off('touchstart.headerHiding touchmove.headerHiding touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding');q(window).off("resize.headerHiding");}};},true);
sap.ui.predefine('sap/ovp/ui/UIActions',["jquery.sap.global","sap/ui/base/Object"],function(q,B){"use strict";return B.extend("sap.ovp.ui.UIActions",{constructor:function(c){if(!c||!c.rootSelector||!c.containerSelector||!c.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.");}this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=false;this.dragMoveCallback=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.swapTargetElement=null;this.endX=null;this.endY=null;this.isTouch=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.keyUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.preventClickFlag=false;this.preventClickTimeoutId=null;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragStartCallback=null;this.dragEndCallback=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.beforeDragCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollEdge=100;this.resizeStartCallback=null;this.resizeMoveCallback=null;this.resizeEndCallback=null;this.isResize=null;this.isResizeX=null;this.isResizeY=null;this.resizeHandleDistance=null;this.layoutDetails=null;this.init=function(c){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.resizeHandleDistance=16;this.isResize=false;this.isResizeX=false;this.isResizeY=false;this.noop=function(){};this.isTouch=c.isTouch?!!c.isTouch:false;this.container=document.querySelector(c.containerSelector);this.scrollContainerSelector=c.scrollContainerSelector||c.containerSelector;this.switchModeDelay=c.switchModeDelay||1500;this.moveTolerance=c.moveTolerance===0?0:c.moveTolerance||1000;this.draggableSelector=c.draggableSelector;this.mode='normal';this.debug=c.debug||false;this.root=document.querySelector(c.rootSelector);this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.lockMode=false;this.placeHolderClass=c.placeHolderClass||"";this.cloneClass=c.cloneClass||"";this.wrapper=c.wrapperSelector?document.querySelector(c.wrapperSelector):this.container.parentNode;this.clickCallback=typeof c.clickCallback==='function'?c.clickCallback:this.noop;this.beforeDragCallback=typeof c.beforeDragCallback==='function'?c.beforeDragCallback:this.noop;this.doubleTapCallback=typeof c.doubleTapCallback==='function'?c.doubleTapCallback:this.noop;this.dragEndCallback=typeof c.dragEndCallback==='function'?c.dragEndCallback:this.noop;this.endCallback=typeof c.endCallback==='function'?c.endCallback:this.noop;this.dragStartCallback=typeof c.dragStartCallback==='function'?c.dragStartCallback:this.noop;this.dragMoveCallback=typeof c.dragMoveCallback==='function'?c.dragMoveCallback:this.noop;this.doubleTapDelay=c.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent='scroll';this.touchStartEvent='touchstart';this.touchMoveEvent='touchmove';this.touchEndEvent='touchend';this.mouseDownEvent='mousedown';this.mouseMoveEvent='mousemove';this.mouseUpEvent='mouseup';this.keyUpEvent='keyup';this.contextMenuEvent='contextmenu';this.touchCancelEvent='touchcancel';this.clickEvent='click';this.layoutDetails=c.layout?c.layout.dashboardLayoutUtil:null;this.resizeStartCallback=typeof c.resizeStartCallback==='function'?c.resizeStartCallback:this.noop;this.resizeMoveCallback=typeof c.resizeMoveCallback==='function'?c.resizeMoveCallback:this.noop;this.resizeEndCallback=typeof c.resizeEndCallback==='function'?c.resizeEndCallback:this.noop;if(this.wrapper){q(this.wrapper).css({"position":"relative","top":0,"left":0,"right":0,"bottom":0,"-webkit-transform":"translateZ(0)","transform":"translateZ(0)"});}};this.forEach=function(s,a){return Array.prototype.forEach.call(s,a);};this.indexOf=function(s,i){return Array.prototype.indexOf.call(s,i);};this.insertBefore=function(s,i,r){var a,b,d;d=Array.prototype.splice;a=this.indexOf(s,i);b=this.indexOf(s,r);d.call(s,b-(a<b?1:0),0,d.call(s,a,1)[0]);};this.logToConsole=function(){window.console.log.apply(console,arguments);};this.getDraggableElement=function(a){var e;this.draggable=q(this.draggableSelector,this.container);while(typeof e==='undefined'&&a!==this.root){if(this.indexOf(this.draggable,a)>=0){e=a;}a=a.parentNode;}return e;};this.captureStart=function(e){var a;if(e.type==='touchstart'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousedown'){a=e;if(e.which!==1){return;}}if(a){this.element=this.getDraggableElement(a.target);this.startX=a.pageX;this.startY=a.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.element){var $=q(this.element);var b=$.offset().left;var d=$.offset().top;var f=$.height();var g=$.width();if(this.layoutDetails){var r=(b+g-this.startX)<this.resizeHandleDistance;var h=(d+f-this.startY)<this.resizeHandleDistance;if(r||h){if(r&&h){this.isResizeX=false;this.isResizeY=false;}else if(!r&&h){this.isResizeX=false;this.isResizeY=true;}else if(r&&!h){this.isResizeX=true;this.isResizeY=false;}this.isResize=true;}}else{var x=b+g-this.startX;var y=d+f-this.startY;if(x<this.resizeHandleDistance&&y<this.resizeHandleDistance){this.isResize=true;}}}if(this.lastTapTime&&this.lastElement&&this.element&&(this.lastElement===this.element)&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2;}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element;}this.log('captureStart('+this.startX+', '+this.startY+')');}};this.startHandler=function(e){this.log('startHandler');this.captureStart(e);if(this.element){this.beforeDragCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode='double-tap';return;}if(e.type==="touchstart"){this.timer=setTimeout(function(){if(this.isResize){this.log("mode switched to resize");this.mode="resize";this.resizeStartCallback(e,this.element);}else{this.log('mode switched to drag');this.mode='drag';this.createClone();this.dragStartCallback(e,this.element);}}.bind(this),this.switchModeDelay);}}}}.bind(this);this.captureMove=function(e){var a;if(e.type==='touchmove'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousemove'){a=e;}if(a){this.moveX=a.pageX;this.moveY=a.pageY;this.log('captureMove('+this.moveX+', '+this.moveY+')');}};this.moveHandler=function(e){this.log('moveHandler');this.captureMove(e);switch(this.mode){case'normal':if((Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance)){if(e.type==="touchmove"){this.log('-> normal');clearTimeout(this.timer);delete this.timer;}else if(this.element){if(this.isResize){this.log("mode switched to resize");this.mode="resize";}else{this.log('mode switched to drag');this.mode='drag';this.createClone();}}}break;case'drag':e.preventDefault();this.log('-> drag');this.mode='drag-and-scroll';window.addEventListener(this.mouseUpEvent,this.endHandler,true);window.addEventListener(this.keyUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);if(e.type==="mousemove"){this.dragStartCallback(e,this.element);}break;case'drag-and-scroll':e.stopPropagation();e.preventDefault();this.log('-> drag-and-scroll');this.translateClone();this.dragMoveCallback({evt:e,clone:this.clone,element:this.element,draggable:this.draggable,moveX:this.moveX,moveY:this.moveY});break;case"resize":e.preventDefault();this.log('-> resize');this.mode='resize-and-scroll';window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.scrollContainer=document.querySelector(this.scrollContainerSelector);if(e.type==="mousemove"){this.resizeStartCallback(e,this.element);}break;case"resize-and-scroll":e.stopPropagation();e.preventDefault();this.log('-> resize-and-scroll');this.resizeMoveCallback({evt:e,element:this.element,draggable:this.draggable,moveX:this.moveX,moveY:this.moveY});break;default:break;}}.bind(this);this.captureEnd=function(e){var a;if((e.type==='touchend'||e.type==='touchcancel')&&(e.changedTouches.length===1)){a=e.changedTouches[0];}else if(e.type==='mouseup'){a=e;}if(a){this.endX=a.pageX;this.endY=a.pageY;this.log('captureEnd('+this.endX+', '+this.endY+')');}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault();}}.bind(this);this.clickHandler=function(e){var v=document.getElementsByClassName('viz-controls-chartTooltip');var a=v&&v[0]&&v[0].id;var b=sap.ui.getCore().byId(a);if(b){var p=b&&b.aDelegates[0]&&b.aDelegates[0].oDelegate;if(p){p.close();}}if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId);}this.clickCallback();}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false;}.bind(this),100);};this.endHandler=function(e){this.log('endHandler');if((e.type==this.keyUpEvent&&e.which==q.sap.KeyCodes.ESCAPE)||e.type==this.mouseUpEvent||e.type==this.touchEndEvent){this.captureEnd(e);switch(this.mode){case'normal':this.log('-> normal');break;case'drag':this.log('-> drag');this.dragEndCallback(e,this.element,this.clone);this.preventClick();break;case'drag-and-scroll':this.log('-> drag-and-scroll');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.dragEndCallback(e,this.element,this.clone);this.preventClick();e.stopPropagation();e.preventDefault();break;case'double-tap':this.log('-> double-tap');this.doubleTapCallback(e,this.element);break;case"resize":this.log("-> resize");this.isResize=false;this.resizeEndCallback(e,this.element);this.preventClick();break;case"resize-and-scroll":this.log("-> resize-and-scroll");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.isResize=false;this.resizeEndCallback(e,this.element);this.preventClick();e.stopPropagation();e.preventDefault();break;default:break;}if(this.element){this.endCallback(e,this.element);}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.swapTargetElement=null;this.element=null;this.mode='normal';}}.bind(this);this.defaultDragStartHandler=function(e){e.preventDefault();};this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(function(){this.lockMode=false;}.bind(this),500);}.bind(this);this.createClone=function(){var s,r;if(this.clone){this.removeClone();}r=this.element.getBoundingClientRect();this.clone=this.element.cloneNode(true);var a=this.element.querySelectorAll('canvas');if(a.length){var b=this.clone.querySelectorAll('canvas');for(var i=0;i<a.length;i++){b[i].getContext('2d').drawImage(a[i],0,0);}}this.clone.className+=(' '+this.cloneClass);if(!this.layoutDetails){this.element.className+=(' '+'easyScanLayoutItemWrapper-placeHolder');}else{this.element.className+=(' '+'dashboardLayoutItemWrapper-placeHolder');}s=this.clone.style;s.position='absolute';s.display='block';s.top=(r.top-this.root.getBoundingClientRect().top)+'px';s.left=(r.left-this.root.getBoundingClientRect().left)+'px';s.width=r.width+'px';s.zIndex='100';s.webkitTransition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.mozTransition='-moz-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.msTransition='-ms-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.transition='transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.webkitTransform='translate3d(0px, 0px, 0px) ';s.mozTransform='translate3d(0px, 0px, 0px) ';s.msTransform='translate3d(0px, 0px, 0px) ';s.transform='translate3d(0px, 0px, 0px) ';this.root.appendChild(this.clone);this.log('createClone');};this.removeClone=function(){if(this.element!==null&&typeof(this.element)!=="undefined"){this.element.className=this.element.className.split(' '+this.placeHolderClass).join('');}if(this.clone!==null){this.clone.parentElement.removeChild(this.clone);this.clone=null;this.log("removeClone");}};this.translateClone=function(){var d,a;d=this.moveX-this.startX;a=this.moveY-this.startY;if(this.clone&&d&&a){this.clone.style.webkitTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.mozTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.msTransform='translate('+d+'px, '+a+'px)';this.clone.style.transform='translate3d('+d+'px, '+a+'px, 0px)';this.log('translateClone ('+d+', '+a+')');}};this.enable=function(){this.log('enable');this.root.addEventListener(this.touchStartEvent,this.startHandler,false);this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.touchEndEvent,this.endHandler,false);this.root.addEventListener(this.touchCancelEvent,this.endHandler,false);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseDownEvent,this.startHandler,false);this.root.addEventListener(this.mouseUpEvent,this.endHandler,false);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.disable=function(){this.log('disable');this.root.removeEventListener(this.touchStartEvent,this.startHandler,false);this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.touchEndEvent,this.endHandler,false);this.root.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseUpEvent,this.endHandler,false);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.init(c);this.getMove=function(){return{x:this.moveX,y:this.moveY};};}});});
/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.predefine('sap/ovp/cards/PayLoadUtils',['jquery.sap.global','sap/ovp/cards/rta/SettingsDialogConstants'],function(q,S){"use strict";
function g(i,j,k,E){return i+"_sap.ovp.cards."+j+"."+k+"."+E;}
function c(V){return{"type":"XTIT","maxLength":40,"value":{"":V}};}
function a(i,I,j){var k=i+"["+I+"]";if(j){k+="/"+j;}return k;}
function s(j,M){var k=M._getCardsModel();for(var i=0;i<k.length;i++){if(k[i].id===j){return true;}}return false;}
function b(i,j,k){var E={"propertyPath":i,"operation":j};if(k){E["propertyValue"]=k;}return E;}
function f(j){delete j.id;delete j.dashboardLayout;delete j.settings.baseUrl;delete j.settings.cloneCard;delete j.settings.newCard;delete j["customer.settings"];delete j["vendor.settings"];if(j.settings["staticContent"]){for(var i=0;i<j.settings["staticContent"].length;i++){delete j.settings["staticContent"][i].id;}}}
function d(i,O,N){if(N==="customer.settings"&&O){P.aEntityPropertyChange.push(b("vendor.settings","UPSERT",O.settings));i["vendor.settings"]=O.settings;}}
function e(N,i,O,j){if(O){if(N==="customer.settings"){O[j]={operation:"DELETE"};}}else{if(N==="customer.settings"){P.aEntityPropertyChange.push(b(i,"UPSERT",{operation:"DELETE"}));}else{P.aEntityPropertyChange.push(b(i,"DELETE"));}}}
function h(i){P.aEntityPropertyChange.push(b("customer.settings","UPSERT",i["customer.settings"]));}
function l(i,j,k,V,O){var I=g(P.sApplicationId,P.sCardId,i,k),E=j+"/"+k;if(!P.oText){P.oText={};}P.oText[I]=c(V);if(O){O[k]="{{"+I+"}}";}else{P.aEntityPropertyChange.push(b(E,"UPSERT","{{"+I+"}}"));}}
function m(N,j,T,O){var k=this._oCardManifestSettings,E=this._oOriginalCardManifestSettings;for(var i=0;i<T.length;i++){if((!E[T[i]]&&k[T[i]])||(E[T[i]]&&k[T[i]]&&(E[T[i]]!=k[T[i]]))){if(O){l(N,N,T[i],k[T[i]],j[N]);}else{l(N,N,T[i],k[T[i]]);}j.settings[T[i]]=k[T[i]];}else if(!k[T[i]]&&E[T[i]]){if(O){e(N,N+"/"+T[i],j[N],T[i]);}else{e(N,N+"/"+T[i]);}delete j.settings[T[i]];}}}
function n(i,j,V,O){var k=i+"/"+j;if(O){O[j]=V;}else{P.aEntityPropertyChange.push(b(k,"UPSERT",V));}}
function o(N,j,k,O){var E=this._oCardManifestSettings,F=this._oOriginalCardManifestSettings;for(var i=0;i<k.length;i++){if((!F[k[i]]&&E[k[i]])||(F[k[i]]&&E[k[i]]&&(F[k[i]]!=E[k[i]]))){if(O){n(N,k[i],E[k[i]],j[N]);}else{n(N,k[i],E[k[i]]);}j.settings[k[i]]=E[k[i]];}else if(!E[k[i]]&&F[k[i]]){if(O){e(N,N+"/"+k[i],j[N],k[i]);}else{e(N,N+"/"+k[i]);}delete j.settings[k[i]];}}}
function p(N,i){var j=S.cardSettings["settings"],T=S.cardSettings["text"];if(N==="customer.settings"){if(i["customer.settings"]){m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);}else{i["customer.settings"]={};m.bind(this)(N,i,T,true);o.bind(this)(N,i,j,true);h(i);}}else{m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);}}
function r(N,k,E,T,F,O){var G=this._oCardManifestSettings[F];for(var i=0;i<G.length;i++){for(var j=0;j<T.length;j++){if(G[i][T[j]]){var H=a(N+"/"+F,i),I=N+"."+F+"."+i;if(O){l(I,H,T[j],G[i][T[j]],k[N][F][i]);}else{l(I,H,T[j],G[i][T[j]],E[i]);}}}}if(!O){n(N,F,E);}}
function t(j,T){var O=S.cardSettingsArrayLevel[T]["onlyTabLevelProps"],F=false;for(var i=0;O&&i<O.length;i++){if(O[i]===j){F=true;break;}}return F;}
function u(N,j,T,k,E,O){var F=this._oCardManifestSettings,i;for(i=0;i<T.length;i++){if(F[T[i]]&&!t(T[i],E)){if(O){l(N,N,T[i],F[T[i]],j[N]);}else{l(N,N,T[i],F[T[i]]);}j.settings[T[i]]=F[T[i]];}}for(i=0;i<k.length;i++){if(F[k[i]]&&!t(k[i],E)){if(O){n(N,k[i],F[k[i]],j[N]);}else{n(N,k[i],F[k[i]]);}j.settings[k[i]]=F[k[i]];}}if(O){e(N,N+"/"+E,j[N],E);}else{e(N,N+"/"+E);}delete j.settings[E];}
function v(N,j,k,T,E,F,O){var i;for(i=0;i<T.length;i++){if(j[N][T[i]]){if(O){e(N,N+"/"+T[i],j[N],T[i]);}else{e(N,N+"/"+T[i]);}delete j.settings[T[i]];}}for(i=0;i<E.length;i++){if(j[N][E[i]]){if(O){e(N,N+"/"+E[i],j[N],E[i]);}else{e(N,N+"/"+E[i]);}delete j.settings[E[i]];}}r.bind(this)(N,j,k,T,F,O);}
function w(j,T){return q.map(q.extend(true,{},j),function(k){var E=S.cardSettingsArrayLevel[T]["text"],i,F=S.cardSettingsArrayLevel[T]["settings"],G={};for(i=0;i<E.length;i++){if(k[E[i]]){G[E[i]]=k[E[i]];}}for(i=0;i<F.length;i++){if(k[F[i]]){G[F[i]]=k[F[i]];}}return G;});}
function x(N,i,j,k,T,O){var E=S.cardSettingsArrayLevel[T]["text"],F=S.cardSettingsArrayLevel[T]["settings"],G=w(j,T);if(j&&k){i.settings[T]=w(j,T);if(N==="customer.settings"){i[N][T]=w(j,T);}r.bind(this)(N,i,G,E,T,O);}else if(!j&&k){u.bind(this)(N,i,E,F,T,O);}else if(j&&!k){i.settings[T]=w(j,T);if(N==="customer.settings"){i[N][T]=w(j,T);}v.bind(this)(N,i,G,E,F,T,O);}}
function y(N,i,O){var j=this._oCardManifestSettings["staticContent"],k=this._oOriginalCardManifestSettings["staticContent"],T=this._oCardManifestSettings["tabs"],E=this._oOriginalCardManifestSettings["tabs"];if(j||k){x.bind(this)(N,i,j,k,"staticContent",O);}else if(T||E){x.bind(this)(N,i,T,E,"tabs",O);}}
function z(N,i){var j=S.cardSettingsForComplex["settings"],T=S.cardSettingsForComplex["text"];if(N==="customer.settings"){if(i["customer.settings"]){m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);y.bind(this)(N,i,false);}else{i["customer.settings"]={};m.bind(this)(N,i,T,true);o.bind(this)(N,i,j,true);y.bind(this)(N,i,true);h(i);}}else{m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);y.bind(this)(N,i,false);}}
function A(N,i){var j=this._oCardManifestSettings["staticContent"],O=this._oOriginalCardManifestSettings["staticContent"],T=this._oCardManifestSettings["tabs"],k=this._oOriginalCardManifestSettings["tabs"];if(j||O||T||k){z.bind(this)(N,i);}else{p.bind(this)(N,i);}}
function B(){var k=this._oCardManifestSettings["staticContent"],T=S.cardSettingsArrayLevel["staticContent"]["text"],i,j,E=S.cardSettingsArrayLevel["staticContent"]["settings"],F=this._oCardManifestSettings,G=S.cardSettingsForStaticLinkListCard,H={"template":"sap.ovp.cards.linklist","settings":{"staticContent":[]}};for(j=0;j<G.length;j++){if(F[G[j]]){H.settings[G[j]]=F[G[j]];}}for(j=0;j<k.length;j++){H.settings["staticContent"].push({});for(i=0;i<T.length;i++){if(k[j][T[i]]){H.settings["staticContent"][j][T[i]]=k[j][T[i]];}}for(i=0;i<E.length;i++){if(k[j][E[i]]){H.settings["staticContent"][j][E[i]]=k[j][E[i]];}}}return H;}
function C(E,F,G){var T,i,j,k,H,I=G.settings["staticContent"],J=G.settings["tabs"];var K=S.cardSettingsWithText;for(i=0;i<K.length;i++){var L;if(typeof K[i]=="string"){if(G.settings[K[i]]){if(!T){T={};}L=g(E,F,"settings",K[i]);T[L]=c(G.settings[K[i]]);G.settings[K[i]]="{{"+L+"}}";}}else if(typeof K[i]=="object"){if(K[i].hasOwnProperty("staticContent")){if(I){for(j=0;j<I.length;j++){for(k=0;k<K[i]["staticContent"].length;k++){H=K[i]["staticContent"][k];if(I[j][H]){if(!T){T={};}L=g(E,F,"settings.staticContent."+j,H);T[L]=c(I[j][H]);G.settings["staticContent"][j][H]="{{"+L+"}}";}}}}}else if(K[i].hasOwnProperty("tabs")){if(J){for(j=0;j<J.length;j++){for(k=0;k<K[i]["tabs"].length;k++){H=K[i]["tabs"][k];if(J[j][H]){if(!T){T={};}L=g(E,F,"settings.tabs."+j,H);T[L]=c(J[j][H]);G.settings["tabs"][j][H]="{{"+L+"}}";}}}}}}}return T;}
function D(i,T,F,O,V){var j={};j['appDescriptorChange']={'parameters':i};if(T){j['appDescriptorChange']['texts']=T;}if(O){j['flexibilityChange']={"newAppDescriptor":F,"oldAppDescriptor":O};}else{j['flexibilityChange']=F;}if(V){j['viewSwitchChange']=V;}return j;}
var P={sApplicationId:"",sCardId:"",aEntityPropertyChange:[],oText:undefined,getPayLoadForEditCard:function(i){var j=i.oAppDescriptor.id,k={"cardId":j},T,E,F=q.extend(true,{},i.oAppDescriptor),O=q.extend(true,{},i.oAppDescriptor),N,V;N=(j.lastIndexOf("customer.",0)===0)?"settings":"customer.settings";P.sApplicationId=i.sApplicationId;P.sCardId=j;P.aEntityPropertyChange=[];P.oText=undefined;d(F,i.oOriginalAppDescriptor,N);A.bind(this)(N,F);T=q.extend(true,{},P.oText);E=P.aEntityPropertyChange;if(E.length===1){k["entityPropertyChange"]=E[0];}else{k["entityPropertyChange"]=E;}if(this._oCardManifestSettings["tabs"]){var G=this._oCardManifestSettings.defaultViewSelected,H=this._oOriginalCardManifestSettings.selectedKey;H=(H&&H>0)?H:1;if(G&&G>0&&G!==H){V={cardId:j,selectedKey:G,oldKey:H};}F.settings.selectedKey=G;}return D(k,T,F,O,V);},getPayLoadForCloneCard:function(j){return new Promise(function(k,E){var F={card:{}},T,G={},H=j.getComponentInstance().getComponentData(),M=H.mainComponent,I=M._getApplicationId(),J=q.extend(true,{},M._getCardFromManifest(H.cardId));var K="customer."+J.id,i=1;while(s(K+"_"+i,M)){i++;}K=K+"_"+i;f(J);G=q.extend(true,{},J);G.id=K;G.settings.title=G.settings.title+" "+i;J.settings.title=J.settings.title+" "+i;if(J.settings.defaultSpan&&J.settings.defaultSpan.showOnlyHeader){J.settings.defaultSpan.rows=12;}T=C(I,K,J);F.card[K]=J;k(D(F,T,G));});},getPayLoadForNewStaticLinkListCard:function(j){var k={card:{}},T,F={},M=j.oMainComponent,E=M._getApplicationId(),G=B.bind(this)();var H="customer.newStaticLinkListCard",i=1;while(s(H+"_"+i,M)){i++;}H=H+"_"+i;f(G);F=q.extend(true,{},G);F.id=H;T=C(E,H,G);k.card[H]=G;return D(k,T,F);}};return P;},true);
sap.ui.predefine('sap/ovp/cards/PersonalizationUtils',['jquery.sap.global','sap/ovp/cards/CommonUtils'],function(q,C){"use strict";
function a(o,g){g.every(function(h){if(h.id===o.cardId){h.selectedKey=o.selectedKey;return false;}return true;});return g;}
function b(o,g){g.every(function(h){if(h.id===o.cardId){h.visibility=o.visibility;return false;}return true;});return g;}
function c(o,g,v){var M=C.getApp(),s=M._getCardId(o.id);g.every(function(h){if(h.id===s){h.visibility=v;return false;}return true;});return g;}
function d(o,g){var i=[];var v,t;v=g.filter(function(h){return h.visibility;});g.forEach(function(h,I){if(!h.visibility){i.push({card:h,index:I});}});if(!v[o.oldPosition]||!v[o.position]){return g;}t=v[o.oldPosition];v[o.oldPosition]=v[o.position];v[o.position]=t;i.forEach(function(I){v.splice(I.index,0,I.card);});g=v;return g;}
function e(o,g){g.every(function(h){if(h.id===o.cardId){Object.keys(o.dashboardLayout).forEach(function(k){if(!h.dashboardLayout[k]){h.dashboardLayout[k]={};}if(o.dashboardLayout[k].rowSpan){h.dashboardLayout[k].rowSpan=o.dashboardLayout[k].rowSpan;}if(o.dashboardLayout[k].colSpan){h.dashboardLayout[k].colSpan=o.dashboardLayout[k].colSpan;}if(o.dashboardLayout[k].maxColSpan){h.dashboardLayout[k].maxColSpan=o.dashboardLayout[k].maxColSpan;}if(o.dashboardLayout[k].noOfItems){h.dashboardLayout[k].noOfItems=o.dashboardLayout[k].noOfItems;}if(o.dashboardLayout[k].hasOwnProperty('autoSpan')){h.dashboardLayout[k].autoSpan=o.dashboardLayout[k].autoSpan;}if(o.dashboardLayout[k].row){h.dashboardLayout[k].row=o.dashboardLayout[k].row;}if(o.dashboardLayout[k].column){h.dashboardLayout[k].col=o.dashboardLayout[k].column;}if(o.dashboardLayout[k].hasOwnProperty('showOnlyHeader')){h.dashboardLayout[k].showOnlyHeader=o.dashboardLayout[k].showOnlyHeader;}});return false;}return true;});return g;}
function m(g,D){if(!Array.isArray(D)||!g){return g;}var M=[];g.forEach(function(o){var h={};Object.keys(o).forEach(function(k){h[k]=o[k];});M.push(h);});D.forEach(function(o){switch(o.getChangeType()){case"viewSwitch":M=a(o.getContent(),M);break;case"visibility":M=b(o.getContent(),M);break;case"hideCardContainer":M=c(o.getContent(),M,false);break;case"unhideCardContainer":M=c(o.getContent(),M,true);break;case"position":M=d(o.getContent(),M);break;case"dragOrResize":M=e(o.getContent(),M);break;default:break;}});return M;}
function f(M,D){var g=M.filter(function(o){var h=false;D.forEach(function(i){if(o.id===i.id){h=true;return;}});return!h;});return D.concat(g);}
var p={mergeChanges:m,addMissingCardsFromManifest:f};return p;},true);
sap.ui.predefine('sap/ovp/changeHandler/HideCardContainer',["jquery.sap.global"],function(q){"use strict";var H={"changeHandler":{},"layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};
H.changeHandler.applyChange=function(c,C,p){var m=p.modifier,M=p.appComponent.getRootControl(),o=M.getController(),u=o.getUIModel(),l=o.getLayout(),s=c.getContent().id,a=m.byId(s);c.setRevertData(s);m.setVisible(a,false);if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();if(L.aCards){L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:false}]);}o.appendIncomingDeltaChange(c);}l.rerender();return true;};
H.changeHandler.revertChange=function(c,C,p){var m=p.modifier,M=p.appComponent.getRootControl(),o=M.getController(),u=o.getUIModel(),l=o.getLayout(),s=c.getRevertData(),a=m.byId(s);m.setVisible(a,true);c.resetRevertData();if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:true}]);}l.rerender();return true;};
H.changeHandler.completeChangeContent=function(c,s,p){c.setContent(s.removedElement);};
return H;},true);
sap.ui.predefine('sap/ovp/changeHandler/UnhideCardContainer',["jquery.sap.global"],function(q,J){"use strict";var U={"changeHandler":{},"layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};
U.changeHandler.applyChange=function(c,C,p){var m=p.modifier,M=p.appComponent.getRootControl(),o=M.getController(),u=o.getUIModel(),l=o.getLayout(),s=c.getContent().id,a=m.byId(s);c.setRevertData(s);m.setVisible(a,true);if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();if(L.aCards){L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:true}]);}o.appendIncomingDeltaChange(c);}var b=M.byId(s);if(!b.getComponentInstance()&&o.bFinishedCardsCreationProcess){var d=o._getCardFromManifest(o._getCardId(s));o.recreateRTAClonedCard(d);}l.rerender();return true;};
U.changeHandler.revertChange=function(c,C,p){var m=p.modifier,M=p.appComponent.getRootControl(),o=M.getController(),u=o.getUIModel(),l=o.getLayout(),s=c.getRevertData(),a=m.byId(s);m.setVisible(a,false);c.resetRevertData();if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:false}]);}l.rerender();return true;};
U.changeHandler.completeChangeContent=function(c,s,p){c.setContent({"id":s.revealedElementId});};
return U;},true);
sap.ui.predefine('sap/ovp/changeHandler/UnhideControl',["jquery.sap.global"],function(q,J){"use strict";var U={"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};return U;},true);
sap.ui.predefine('sap/ovp/library',["jquery.sap.global","sap/ui/Device","sap/ui/core/Core"],function(q,D,C){var t=sap.ui.getCore().initLibrary({name:"sap.ovp",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.generic.app","sap.m","sap.f","sap.ui.comp","sap.ui.rta"],types:[],interfaces:[],controls:[],elements:[],version:"1.56.5",extensions:{flChangeHandlers:{"sap.ovp.ui.EasyScanLayout":"sap/ovp/flexibility/EasyScanLayout","sap.ovp.ui.DashboardLayout":"sap/ovp/flexibility/DashboardLayout"}}});if(D.browser.firefox){q.sap.log.warning("Loading library 'sap.viz' and 'sap.suite.ui.microchart' to avoid issues with Firefox sync XHR support");sap.ui.getCore().loadLibrary("sap.viz");sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");}return t;});
sap.ui.predefine('sap/ovp/ui/ComponentContainerDesigntimeMetadata',["jquery.sap.global","sap/ovp/cards/CommonUtils","sap/ovp/cards/SettingsUtils","sap/ui/dt/plugin/ElementMover","sap/ui/dt/OverlayRegistry",'sap/ui/dt/OverlayUtil','sap/ui/rta/plugin/Plugin','sap/ui/rta/util/BindingsExtractor','sap/ui/dt/MetadataPropagationUtil','sap/ui/rta/Utils'],function(q,C,S,E,O,a,P,B,M,U){"use strict";var A=C.getApp();var r=A&&A._getLibraryResourceBundle();r=r||sap.ui.getCore().getLibraryResourceBundle("sap.ovp");var e=new E(),d,_=function(t){var f=t.getAggregationOverlays();var p=f.filter(function(o){return o.isTargetZone();});if(p.length>0){return p[0];}else{return null;}},b=function(t){var o=e.getMovedOverlay();if(!o){return false;}var R=false;if(!(t.getElement()===o.getElement())){var T=_(t);if(T){R=true;}else if(a.isInTargetZoneAggregation(t)){R=true;}}if(R){o.setSelected(true);setTimeout(function(){o.focus();},0);}return R;};var c=E.prototype.checkTargetZone;
E.prototype.checkTargetZone=function(o,f,g){var m=f?f:this.getMovedOverlay();var t=c.apply(this,arguments);if(!t){return false;}var h=m.getElement();var T=o.getParent();var i=m.getRelevantContainer();var j=T.getElement();var k=o.getDesignTimeMetadata();var v=M.getRelevantContainerForPropagation(k.getData(),h);v=v?v:j;if(!i||!v||!P.prototype.hasStableId(T)||i!==v){return false;}if(m.getParent().getElement()!==j){var l=B.getBindings(h,h.getModel());if(Object.keys(l).length>0&&h.getBindingContext()&&j.getBindingContext()){var s=U.getEntityTypeByPath(h.getModel(),h.getBindingContext().getPath());var n=U.getEntityTypeByPath(j.getModel(),j.getBindingContext().getPath());if(!(s===n)){return false;}}}return true;};
return{name:{singular:r.getText("Card"),plural:r.getText("Cards")},actions:{remove:{name:r.getText("OVP_KEYUSER_MENU_HIDE_CARD"),changeType:"hideCardContainer",changeOnRelevantContainer:true},reveal:{changeType:"unhideCardContainer",changeOnRelevantContainer:true,getLabel:function(o){var s=this._getCardId(o.getId()),f=this._getCardFromManifest(s);if(f){var g=f.settings;if(g.title){return g.title;}else if(g.category){return(g.category);}else if(g.subTitle){return g.subTitle;}return f.cardId;}else{q.sap.log.error("Card id "+s+" is not present in the manifest");return"";}}.bind(A)},settings:function(){return{"Cut":{icon:"sap-icon://scissors",name:r.getText("OVP_KEYUSER_MENU_CUT_CARD"),isEnabled:function(s){d=this.getDesignTime();return this.getSelectedOverlays().length===1;},changeOnRelevantContainer:true,handler:function(s,g){var o=O.getOverlay(s),f=e.getMovedOverlay();if(f){f.removeStyleClass("sapUiDtOverlayCutted");e.setMovedOverlay(null);e.deactivateAllTargetZones(d);}e.setMovedOverlay(o);o.addStyleClass("sapUiDtOverlayCutted");e.activateAllValidTargetZones(d);return Promise.resolve([]).then(function(){return[];});}},"Paste":{icon:"sap-icon://paste",name:r.getText("OVP_KEYUSER_MENU_PASTE_CARD"),isEnabled:function(s){d=this.getDesignTime();var o=O.getOverlay(s),t=_(o);return(t)||(a.isInTargetZoneAggregation(o));},changeOnRelevantContainer:true,handler:function(s,g){var o=O.getOverlay(s),f=e.getMovedOverlay();if(f){var m=f.getElement(),t=o.getElement(),h=a.getParentInformation(f),T=a.getParentInformation(o),i=s.getComponentInstance().getComponentData().mainComponent,j=i.getLayout(),u=i.getUIModel(),p={},k={},l=[];if(u.getProperty('/containerLayout')==='resizable'){var L=j.getDashboardLayoutModel(),n=i._getCardId(m.getId()),v=i._getCardId(s.getId()),w=L.getCardById(n),x=L.getCardById(v),y=L.getColCount(),z='C'+y,D=[];p.cardId=n;p.dashboardLayout={};p.dashboardLayout[z]={row:x.dashboardLayout.row,oldRow:w.dashboardLayout.row,column:x.dashboardLayout.column,oldColumn:w.dashboardLayout.column};if(x.dashboardLayout.column+w.dashboardLayout.colSpan>y+1){p.dashboardLayout[z].colSpan=x.dashboardLayout.colSpan;p.dashboardLayout[z].oldColSpan=w.dashboardLayout.colSpan;p.dashboardLayout[z].rowSpan=w.dashboardLayout.rowSpan;p.dashboardLayout[z].oldRowSpan=w.dashboardLayout.rowSpan;}l.push({selectorControl:s.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{changeType:"dragOrResize",content:p}});l.push({selectorControl:s.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"dragAndDropUI",content:p}});L._arrangeCards(w,{row:x.dashboardLayout.row,column:x.dashboardLayout.column},'drag',D);L._removeSpaceBeforeCard(D);D.forEach(function(F){var G={};G.dashboardLayout={};G.cardId=F.content.cardId;G.dashboardLayout[z]=F.content.dashboardLayout;l.push({selectorControl:s.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{changeType:"dragOrResize",content:G}});});}else{var V=T.parent.getContent().filter(function(F){return F.getVisible();});p={cardId:i._getCardId(m.getId()),position:V.indexOf(t),oldPosition:V.indexOf(m)};l.push({selectorControl:s.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{changeType:"position",content:p}});k={cardId:i._getCardId(m.getId()),position:T.index,oldPosition:h.index};l.push({selectorControl:s.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"dragAndDropUI",content:k}});}}b(o);if(f){f.removeStyleClass("sapUiDtOverlayCutted");e.setMovedOverlay(null);e.deactivateAllTargetZones(d);return Promise.resolve(l).then(function(F){return F;});}}},"EditCard":{icon:"sap-icon://edit",name:r.getText("OVP_KEYUSER_MENU_EDIT_CARD"),isEnabled:function(s){return true;},changeOnRelevantContainer:true,handler:S.fnEditCardHandler},"CloneCard":{icon:"sap-icon://value-help",name:r.getText("OVP_KEYUSER_MENU_CLONE_CARD"),isEnabled:function(s){return true;},handler:S.fnCloneCardHandler},"AddStaticLinkListCard":{icon:"sap-icon://form",name:r.getText("OVP_KEYUSER_MENU_CREATE_LINK_LIST_CARD"),isEnabled:function(s){return true;},handler:S.fnAddStaticLinkListCardHandler}};}}};},true);
sap.ui.predefine('sap/ovp/ui/CustomData',['jquery.sap.global','sap/ui/core/CustomData','sap/ushell/library'],function(q,C,l){"use strict";
var C=C.extend("sap.ovp.ui.CustomData");
C.prototype._checkWriteToDom=function(r){var k=this.getKey().toLowerCase(),i=sap.ui.getCore().getConfiguration().getAccessibility();if(!i){return;}if(!this.getWriteToDom()){return null;}var v=this.getValue();if(typeof v!="string"){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the value is not a string.");return null;}if(!(sap.ui.core.ID.isValid(k))||(k.indexOf(":")!=-1)){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (must be a valid sap.ui.core.ID without any colon).");return null;}if(k==q.sap._FASTNAVIGATIONKEY){v=/^\s*(x|true)\s*$/i.test(v)?"true":"false";}else if(k.indexOf("sap-ui")==0){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (may not start with 'sap-ui').");return null;}return{key:k,value:v};};
return C;});
sap.ui.predefine('sap/ovp/ui/OVPWrapper',["sap/ui/core/Control"],function(C){"use strict";return C.extend("sap.ovp.ui.OVPWrapper",{metadata:{library:"sap.ovp",designTime:true,aggregations:{DynamicPage:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"DynamicPage"},init:function(){},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("ovpWrapper");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("DynamicPage"));r.write("</div>");}});});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2014 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ovp/ui/ObjectStream',["jquery.sap.global","sap/ui/Device","sap/ui/core/Control","sap/ui/core/Icon","sap/m/Dialog"],function(q,D,C,I,a){"use strict";var _=null;var K=function(o){this.init(o);};
K.prototype.init=function(o){this.objectStream=o;this.keyCodes=q.sap.KeyCodes;this.jqElement=o.$();this.jqElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));this.jqElement.on("focus.keyboardNavigation",".sapOvpObjectStreamItem",this.ObjectStreamFocusAccessabilityHandler.bind(this));};
K.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");}delete this.jqElement;delete this.objectStream;};
K.prototype._swapItemsFocus=function(e,j,b){e.preventDefault();j.attr("tabindex","-1");b.attr("tabindex","0").focus();};
K.prototype.ObjectStreamFocusAccessabilityHandler=function(){var f=document.activeElement;f=q(f);if(f){var l=f.find("[aria-label]");var i,b="";for(i=0;i<l.length;i++){if(l[i].getAttribute("role")=="heading"){b+=l[i].id+" ";}}if(b.length){f.attr("aria-labelledby",b);}if(f.hasClass('sapOvpCardHeader')){f.closest('.sapOvpObjectStreamItem').removeAttr("aria-labelledby");}}};
K.prototype.tabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){return;}if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamItem:sapTabbable").focus();return;}var b=j.closest(".sapOvpObjectStreamItem");if(!b.length){return;}var c=b.find(":sapTabbable");if(c.eq(c.length-1).is(j)){e.preventDefault();this.jqElement.find("a.sapOvpObjectStreamHeader").focus();}};
K.prototype.shiftTabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamClose").focus();}if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.jqElement.find('a.sapOvpObjectStreamHeader').focus();}if(j.hasClass("sapOvpObjectStreamHeader")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamItem:sapTabbable *:sapTabbable").last().focus();return;}};
K.prototype.enterHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.objectStream.getParent().close();if(_){_.focus();}return;}if(j.hasClass("sapOvpObjectStreamItem")&&!j.next().length){j.children().click();return;}};
K.prototype.f6Handler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamClose")){this.jqElement.find('.sapOvpObjectStreamItem').attr("tabindex","-1").first().attr("tabindex","0").focus();}else{this.jqElement.find('.sapOvpObjectStreamClose').focus();}};
K.prototype.f7Handler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){j.find(':sapTabbable').first().focus();}else{j.closest('.sapOvpObjectStreamItem').focus();}e.preventDefault();};
K.prototype.leftRightHandler=function(e,i){var n=i?"next":"prev";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return false;}var b=j[n]();if(!b.length){return;}this._swapItemsFocus(e,j,b);};
K.prototype.homeEndHandler=function(e,i){var n=i?"first":"last";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return false;}e.preventDefault();var b=this.jqElement.find(".sapOvpObjectStreamItem")[n]();this._swapItemsFocus(e,j,b);};
K.prototype.pageUpDownHandler=function(e,i){var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return;}if(!j[n]().length){return;}var b=false;var c=j;var w=q(window).width();while(!b){var d=c[n]();if(!d.length){b=c;break;}if(!i&&d.offset().left>w){b=d;break;}if(i&&(d.offset().left+d.outerHeight())<=0){b=d;break;}c=d;}this._swapItemsFocus(e,j,b);};
K.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.TAB:(e.shiftKey)?this.shiftTabButtonHandler(e):this.tabButtonHandler(e);break;case this.keyCodes.ENTER:case this.keyCodes.SPACE:this.enterHandler(e);break;case this.keyCodes.F6:this.f6Handler(e);break;case this.keyCodes.F7:this.f7Handler(e);break;case this.keyCodes.ARROW_UP:case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_DOWN:case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.pageUpDownHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.pageUpDownHandler(e,false);break;}};
var O=C.extend("sap.ovp.ui.ObjectStream",{metadata:{library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true},placeHolder:{type:"sap.ui.core.Control",multiple:false},title:{type:"sap.ui.core.Control",multiple:false}}}});
O.prototype.init=function(){var t=this;this._closeIcon=new I({src:"sap-icon://decline",tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("close")});this._closeIcon.addEventDelegate({onclick:function(){t.getParent().close();}});};
O.prototype._startScroll=function(d){this._direction=d;var b=this.wrapper.scrollWidth-this.wrapper.offsetWidth-Math.abs(this.wrapper.scrollLeft);var l;if(d=="left"){l=(this.rtl&&!this.scrollReverse)?b:this.wrapper.scrollLeft;if(l<=0){return;}this.jqRightEdge.css("opacity",1);}else{l=(this.rtl&&!this.scrollReverse)?Math.abs(this.wrapper.scrollLeft):b;if(l<=0){return;}this.jqLeftEdge.css("opacity",1);}var c=l*3;var t=(d=="left")?l:~l+1;q(this.container).one("transitionend",function(){this._mouseLeave({data:this});}.bind(this));this.container.style.transition='transform '+c+'ms linear';this.container.style.transform='translate('+t+'px, 0px) scale(1) translateZ(0px) ';};
O.prototype._mouseLeave=function(e){var c=window.getComputedStyle(e.data.container).transform;e.data.container.style.transform=c;e.data.container.style.transition='';this.rtl=sap.ui.getCore().getConfiguration().getRTL();var t;var b=c.split(",");if(c.substr(0,8)=="matrix3d"){t=parseInt(b[12],10);}else if(c.substr(0,6)=="matrix"){t=parseInt(b[4],10);}if(isNaN(t)){return;}e.data.container.style.transform="none";if(D.browser.msie){t=this.rtl?~t:t;}e.data.wrapper.scrollLeft+=~t+(e.data._direction=="left"?-5:5);e.data._checkEdgesVisibility();};
var s;
O.prototype.debounceScrollHandler=function(){window.clearTimeout(s);s=window.setTimeout(this._checkEdgesVisibility.bind(this),150);};
O.prototype._initScrollVariables=function(){var j=this.$();this.container=j.find(".sapOvpObjectStreamScroll").get(0);this.rtl=sap.ui.getCore().getConfiguration().getRTL();this.wrapper=j.find(".sapOvpObjectStreamCont").get(0);this.scrollReverse=this.scrollReverse||this.wrapper.scrollLeft>0;this.shouldShowScrollButton=(!D.system.phone&&!D.system.tablet)||D.system.combi;this.jqRightEdge=j.find(".sapOvpOSEdgeRight");this.jqLeftEdge=j.find(".sapOvpOSEdgeLeft");if(this.shouldShowScrollButton){this.jqRightEdge.add(this.jqLeftEdge).on("mouseenter.objectStream",this,this._mouseEnter).on("mouseleave.objectStream",this,this._mouseLeave);q(this.wrapper).on("scroll.objectStream",this.debounceScrollHandler.bind(this));}else{this.jqLeftEdge.css("display","none");this.jqRightEdge.css("display","none");}this._checkEdgesVisibility();};
O.prototype._afterOpen=function(){if(D.os.ios&&this.$().length){this.$().on("touchmove.scrollFix",function(e){e.stopPropagation();});}var o=this.$().find('a.sapOvpObjectStreamHeader');o.removeAttr('aria-describedby');o.removeAttr('href');var l=o.attr('id');o.parent('div').attr('aria-labelledby',l);o.focus();if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new K(this);this._initScrollVariables();this.jqBackground=q("<div id='objectStreamBackgroundId' class='objectStreamNoBackground'></div>");q.sap.byId("sap-ui-static").prepend(this.jqBackground);this.jqBackground.on('click.closePopup',function(){this._oPopup.close();}.bind(this));q(".sapUshellEasyScanLayout").addClass("bluredLayout");var c=this.$().find('.sapOvpObjectStreamItem');for(var i=0;i<c.length;i++){var f=q(c[i]).find('.sapOvpActionFooter');if(f.find('button').length==0){f.attr('tabindex','-1');}}};
O.prototype._beforeClose=function(){if(D.os.ios&&this.$().length){this.$().off(".scrollFix");}this.keyboardNavigation.destroy();this.jqBackground.remove();this.jqLeftEdge.add(this.jqRightEdge).add(this.wrapper).off(".objectStream");q(".sapUshellEasyScanLayout").removeClass("bluredLayout");this._oPopup=undefined;};
O.prototype._mouseEnter=function(e){var b='right';if((e.target==e.data.jqRightEdge.get(0))||(e.currentTarget==e.data.jqRightEdge.get(0))){b=sap.ui.getCore().getConfiguration().getRTL()?'left':'right';}if((e.target==e.data.jqLeftEdge.get(0))||(e.currentTarget==e.data.jqLeftEdge.get(0))){b=sap.ui.getCore().getConfiguration().getRTL()?'right':'left';}e.data._startScroll(b);};
O.prototype._checkEdgesVisibility=function(){var b=this.wrapper.scrollLeft;var l=this.wrapper.scrollWidth-this.wrapper.offsetWidth-this.wrapper.scrollLeft;var c=(b==0)?0:1;var r=(l==0)?0:1;if(sap.ui.getCore().getConfiguration().getRTL()&&this.scrollReverse){this.jqLeftEdge.css("opacity",r);this.jqRightEdge.css("opacity",c);this.jqRightEdge.css("z-index",(c===0)?0:1);}else{this.jqLeftEdge.css("opacity",c);this.jqRightEdge.css("opacity",r);this.jqRightEdge.css("z-index",(r===0)?0:1);}};
O.prototype._createPopup=function(){this._oPopup=new a({showHeader:false,afterOpen:this._afterOpen.bind(this),beforeClose:this._beforeClose.bind(this),content:[this],stretch:D.system.phone}).removeStyleClass("sapUiPopupWithPadding").addStyleClass("sapOvpStackedCardPopup");this._oPopup.oPopup.setModal(false);};
O.prototype.open=function(c,b){if(!this._oPopup){this._createPopup();}this._cardWidth=c;_=b;this.setCardsSize(this._cardWidth);this._oPopup.open();};
O.prototype.onBeforeRendering=function(){var c=this.getBinding("content");var p=this.getPlaceHolder();if(c&&c.getLength()<=20){this.setPlaceHolder(null);if(p){p.destroy();}}};
O.prototype.onAfterRendering=function(){if(!this._oPopup||!this._oPopup.isOpen()||!this.getContent().length){return;}setTimeout(function(){this._initScrollVariables();}.bind(this));};
O.prototype.exit=function(){if(this._oPopup){this._oPopup.destroy();}this._closeIcon.destroy();if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}};
O.prototype.setCardsSize=function(c){var r=parseInt(window.getComputedStyle(document.documentElement).fontSize,10);var b=D.system.phone?document.body.clientHeight/r-4.5:28.75;var d=this.getContent();d.map(function(o){o.setWidth(c+"px");o.setHeight(b+"rem");});var p=this.getPlaceHolder();if(p){p.setWidth(c+"px");p.setHeight(b+"rem");}};
O.prototype.updateContent=function(r){var b=this.mBindingInfos["content"],B=b.binding,c=B.getContexts(b.startIndex,b.length);if(r==="change"){var f=b.factory,i=0,d=this.getContent(),e=q.proxy(function(o){var g=this.getId()+"-"+q.sap.uid(),h=f(g,o);h.setBindingContext(o,b.model);this.addContent(h);},this);for(i=0;i<c.length;++i){if(i<d.length){d[i].setBindingContext(c[i],b.model);}else{e(c[i]);}}if(d.length>c.length){for(;i<d.length;++i){d[i].destroy();}d.length=c.length;}}};
return O;});
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ovp/cards/loading/State',function(){"use strict";return{ERROR:"Error",LOADING:"Loading"};},true);
sap.ui.require.preload({
	"sap/ovp/app/CardContainer.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><ovp:EasyScanLayout id="ovpLayout" dragAndDropRootSelector=".ovpApplication" afterDragEnds="layoutChanged" dragAndDropEnabled="{path:\'ui&gt;\',formatter:\'.isDragAndDropEnabled\'}"><ovp:content><template:repeat list="{ui&gt;/cards}" var="card"><core:ComponentContainer id="{card&gt;id}"><core:customData><ovp:CustomData key="role" value="listitem" writeToDom="true"/></core:customData></core:ComponentContainer></template:repeat></ovp:content><ovp:customData><ovp:CustomData key="role" value="region" writeToDom="true"/><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;Cards}" writeToDom="true"/></ovp:customData></ovp:EasyScanLayout></core:FragmentDefinition>',
	"sap/ovp/app/DashboardCardContainer.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><ovp:DashboardLayout id="ovpLayout" dragAndDropRootSelector=".ovpApplication" afterDragEnds="layoutChanged" dragAndDropEnabled="{path:\'ui&gt;\',formatter:\'.isDragAndDropEnabled\'}"><ovp:content><template:repeat list="{ui&gt;/cards}" var="card"><core:ComponentContainer id="{card&gt;id}"/></template:repeat></ovp:content></ovp:DashboardLayout></core:FragmentDefinition>',
	"sap/ovp/app/Error.view.xml":'<mvc:View xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"><MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_PAGE}" description="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_CONTENT}" showHeader="false"/></mvc:View>',
	"sap/ovp/app/Main.view.xml":'<mvc:View controllerName="sap.ovp.app.Main" xmlns="sap.m" xmlns:variants="sap.ui.comp.smartvariants" xmlns:core="sap.ui.core" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:mvc="sap.ui.core.mvc" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build" xmlns:f="sap.f"><MessagePage id="ovpErrorPage" icon="sap-icon://message-error" text="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_HEADER}" description="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_CONTENT}" showHeader="false" visible="false"/><ovp:OVPWrapper id="ovpWrapper"><f:DynamicPage id="ovpMain" class="ovpApplication" preserveHeaderStateOnScroll="false" headerExpanded="false" build:metadata="#pattern:OVP"><template:if test="{= !${ui&gt;/globalFilterEntityType} &amp;&amp; !${ui&gt;/description} ? false : true}"><f:title><f:DynamicPageTitle areaShrinkRatio="0:1.6:1.6"><f:heading><HBox class="ovpDescription"><Title text="{ui&gt;/description}" visible="{= ${ui&gt;/globalFilterEntityType} ? (!!${ui&gt;/description} &amp;&amp; ${ui&gt;/smartVariantRequired} === false) : ${ui&gt;/description} ? true : false}"/><template:if test="{= ${ui&gt;/smartVariantRequired} === true || !${ui&gt;/description}}"><variants:SmartVariantManagement id="ovpPageVariant" persistencyKey="ovpGlobalFilter" visible="{= ${ui&gt;/globalFilterEntityType} ? true : false}" showShare="true"/></template:if></HBox></f:heading><f:actions><ToolbarSpacer/><core:ExtensionPoint name="SmartFilterBarGlobalActionExtension"/><OverflowToolbarButton id="sapOvpShareButton" type="Transparent" icon="sap-icon://action" visible="{= (${ui&gt;/globalFilterEntityType} &amp;&amp; ${ui&gt;/smartVariantRequired})}" press="onShareButtonPress" tooltip="{ovplibResourceBundle&gt;shareBtn}"><layoutData><OverflowToolbarLayoutData closeOverflowOnInteraction="false"/></layoutData></OverflowToolbarButton></f:actions><f:snappedContent><Text id="ovpFilterText"/></f:snappedContent></f:DynamicPageTitle></f:title></template:if><template:if test="{ui&gt;/globalFilterEntityType}"><f:header><f:DynamicPageHeader pinnable="true" build:metadata="#pattern:Header;prop:objectTitle:Title:\\{i18n&gt;title\\};prop:objectSubtitile:Description:\\{i18n&gt;description\\};prop:objectImageURI:ImageSource:\\{manifest&gt;sap.ui/icons/icon\\}"><f:content><template:if test="{= ${ui&gt;/smartVariantRequired} === true || !${ui&gt;/description}}"><template:then><core:Fragment fragmentName="sap.ovp.app.SmartFilterBarWithVariant" type="XML"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.app.SmarFilterBarWithoutVariant" type="XML"/></template:else></template:if></f:content></f:DynamicPageHeader></f:header></template:if><f:content><core:Fragment fragmentName="{ui&gt;/cardContainerFragment}" type="XML"/></f:content></f:DynamicPage></ovp:OVPWrapper></mvc:View>',
	"sap/ovp/app/SharePage.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar"><ActionSheet id="template::ShareSheet" placement="VerticalPreferedBottom"><buttons><Button id="ShareEmailButton" icon="sap-icon://email" press="shareEmailPressed" text="{ovplibResourceBundle&gt;Email_Text}"/><footerbar:AddBookmarkButton id="BookmarkButton" title="{ui&gt;/tileInfo/tileTitle}" tileIcon="sap-icon://bookmark" customUrl="{ui&gt;/tileInfo/tileCustomURL}"/><Button id="shareJamButton" icon="sap-icon://share-2" press="shareJamPressed" text="{ovplibResourceBundle&gt;share_jam}" class="sapMFlexBox" visible="{ui&gt;/jamVisible}"/></buttons></ActionSheet></core:FragmentDefinition>',
	"sap/ovp/app/SmarFilterBarWithoutVariant.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><smartFilterBar:SmartFilterBar id="ovpGlobalFilter" entitySet="{ui&gt;/globalFilterEntitySet}" entityType="{ui&gt;/globalFilterEntityType}" filterBarExpanded="false" assignedFiltersChanged="onAssignedFiltersChanged" useToolbar="false" showMessages="false" liveMode="{ui&gt;/enableLiveFilter}" enableBasicSearch="{ui&gt;/showBasicSearch}" considerAnalyticalParameters="{ui&gt;/considerAnalyticalParameters}" useDateRangeType="{ui&gt;/useDateRangeType}"><template:if test="{meta&gt;}"><smartFilterBar:controlConfiguration><template:with path="meta&gt;com.sap.vocabularies.UI.v1.SelectionFields" var="selectionField"><template:repeat list="{selectionField&gt;}"><smartFilterBar:ControlConfiguration key="{= (${selectionField&gt;PropertyPath}).replace(\'/\', \'.\') }" groupId="_BASIC"/></template:repeat></template:with><template:if test="{= ${ui&gt;globalFilterEntitySet}}"><template:then><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntitySet}"/></template:then><template:elseif test="{= ${ui&gt;globalFilterEntityType}}"><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntityTypeNQ}"/><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntityType}"/></template:elseif></template:if></smartFilterBar:controlConfiguration></template:if><smartFilterBar:customData><core:CustomData key="dateFormatSettings" value="\\{&quot;UTC&quot;:true,&quot;style&quot;:&quot;medium&quot;\\}"/></smartFilterBar:customData></smartFilterBar:SmartFilterBar></core:FragmentDefinition>',
	"sap/ovp/app/SmartFilterBarWithVariant.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><smartFilterBar:SmartFilterBar id="ovpGlobalFilter" entitySet="{ui&gt;/globalFilterEntitySet}" entityType="{ui&gt;/globalFilterEntityType}" persistencyKey="ovpGlobalFilter" filterBarExpanded="true" showMessages="false" beforeVariantSave="onBeforeSFBVariantSave" afterVariantLoad="onAfterSFBVariantLoad" assignedFiltersChanged="onAssignedFiltersChanged" useToolbar="false" smartVariant="ovpPageVariant" useDateRangeType="{ui&gt;/useDateRangeType}" liveMode="{ui&gt;/enableLiveFilter}" enableBasicSearch="{ui&gt;/showBasicSearch}" considerAnalyticalParameters="{ui&gt;/considerAnalyticalParameters}"><template:if test="{meta&gt;}"><smartFilterBar:controlConfiguration><template:with path="meta&gt;com.sap.vocabularies.UI.v1.SelectionFields" var="selectionField"><template:repeat list="{selectionField&gt;}"><smartFilterBar:ControlConfiguration key="{= (${selectionField&gt;PropertyPath}).replace(\'/\', \'.\') }" groupId="_BASIC"/></template:repeat></template:with><template:if test="{= ${ui&gt;globalFilterEntitySet}}"><template:then><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntitySet}"/></template:then><template:elseif test="{= ${ui&gt;globalFilterEntityType}}"><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntityTypeNQ}"/><core:ExtensionPoint name="SmartFilterBarControlConfigurationExtension|{ui&gt;globalFilterEntityType}"/></template:elseif></template:if></smartFilterBar:controlConfiguration></template:if><smartFilterBar:customData><core:CustomData key="dateFormatSettings" value="\\{&quot;UTC&quot;:true,&quot;style&quot;:&quot;medium&quot;\\}"/></smartFilterBar:customData></smartFilterBar:SmartFilterBar></core:FragmentDefinition>',
	"sap/ovp/app/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.ovp.app","type":"application","i18n":"../messagebundle.properties","applicationVersion":{"version":"1.56.5"},"title":"{{TITLE}}","description":"{{DESCRIPTION}}","tags":{"keywords":["{{TITLE}}"]},"ach":"CA-UI5-ST-OVP","offline":false,"resources":"resources.json"},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","services":{"ShellUIService":{"factoryName":"sap.ushell.ui5service.ShellUIService"}},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.ui.comp":{"minVersion":"1.30.1"},"sap.ui.generic.app":{"minVersion":"1.30.1"},"sap.ui.layout":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.rta":{"minVersion":"1.30.1"},"sap.f":{"minVersion":"1.41.0"}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../messagebundle.properties"}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ovp/cards/charts/analytical/analyticalChart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:suite="sap.suite.ui.commons" xmlns:viz="sap.viz.ui5.controls" xmlns:dataSet="sap.viz.ui5.data" xmlns:feed="sap.viz.ui5.controls.common.feeds" xmlns:ovp="sap.ovp.ui" xmlns:charts="sap.ovp.cards.charts"><VBox class="ovpChartTitleVBox cardType" id="vbLayout"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;analyticalCardType}" writeToDom="true"/></customData><template:with path="ovpCardProperties&gt;/chartAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="chart"><template:with path="ovpCardProperties&gt;/selectionAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="selVar"><template:with path="ovpCardProperties&gt;/presentationAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="preVar"><template:if test="{chart&gt;}"><HBox class="ovpChartTitleHBox"><items><VBox class="ovpChartTitleText"><Text id="ovpCT" class="ovpChartTitle" maxLines="1" text="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><template:if test="{chart&gt;Title}"><ovp:CustomData key="aria-label" value="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/></template:if></customData></Text></VBox><VBox class="ovpChartTitleScaleText"><Text id="ovpUoMTitle" class="ovpChartTitle" maxLines="1"/></VBox></items></HBox><template:if test="{path:\'chart&gt;DimensionAttributes\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.dimensionAttrCheck\'}"><template:if test="{path:\'chart&gt;MeasureAttributes\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.measureAttrCheck\'}"><template:if test="{chart&gt;ChartType}"><template:if test="{preVar&gt;MaxItems}"><template:then><charts:OVPVizDataHandler chartType="{path:\'chart&gt;ChartType\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}" entitySet="{path:\'entitySet&gt;\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getEntitySet\'}" data="{parts:[{path:\'entitySet&gt;\'},{path:\'selVar&gt;\'},{path:\'preVar&gt;\'},{path:\'chart&gt;DimensionAttributes\'},{path:\'chart&gt;MeasureAttributes\'},{path:\'chart&gt;ChartType\'}],formatter:\'sap.ovp.cards.charts.VizAnnotationManager.formatItems\'}" aggregateData="{parts:[{path:\'entitySet&gt;\'},{path:\'selVar&gt;\'},{path:\'preVar&gt;\'},{path:\'chart&gt;undefined\'},{path:\'chart&gt;MeasureAttributes\'},{path:\'chart&gt;ChartType\'}],formatter:\'sap.ovp.cards.charts.VizAnnotationManager.formatItems\'}"><charts:data><core:Element/></charts:data><charts:aggregateData><core:Element/></charts:aggregateData><charts:content width="100%"><viz:VizFrame id="analyticalChart" class="ovpViz" uiConfig="{applicationSet:\'fiori\'}" vizType="{parts:[{path:\'chart&gt;ChartType\'},{path:\'chart&gt;DimensionAttributes\'}],formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}" width="100%"><viz:customData><template:if test="{chart&gt;Title}"><ovp:CustomData key="aria-label" value="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/></template:if></viz:customData><viz:dataset><dataSet:FlattenedDataset data="{analyticalmodel&gt;/}"/></viz:dataset></viz:VizFrame></charts:content></charts:OVPVizDataHandler></template:then><template:else><charts:OVPVizDataHandler chartType="{path:\'chart&gt;ChartType\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}" entitySet="{path:\'entitySet&gt;\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getEntitySet\'}" data="{parts:[{path:\'entitySet&gt;\'},{path:\'selVar&gt;\'},{path:\'preVar&gt;\'},{path:\'chart&gt;DimensionAttributes\'},{path:\'chart&gt;MeasureAttributes\'},{path:\'chart&gt;ChartType\'}],formatter:\'sap.ovp.cards.charts.VizAnnotationManager.formatItems\'}"><charts:data><core:Element/></charts:data><charts:aggregateData><core:Element/></charts:aggregateData><charts:content width="100%"><viz:VizFrame id="analyticalChart" class="ovpViz" uiConfig="{applicationSet:\'fiori\'}" vizType="{parts:[{path:\'chart&gt;ChartType\'},{path:\'chart&gt;DimensionAttributes\'}],formatter:\'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}" width="100%"><viz:customData><template:if test="{chart&gt;Title}"><ovp:CustomData key="aria-label" value="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/></template:if></viz:customData><viz:dataset><dataSet:FlattenedDataset data="{analyticalmodel&gt;/}"/></viz:dataset></viz:VizFrame></charts:content></charts:OVPVizDataHandler></template:else></template:if></template:if></template:if></template:if></template:if></template:with></template:with></template:with></VBox><template:with path="ovpCardProperties&gt;/chartAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="chart"><template:if test="{chart&gt;}"><template:if test="{chart&gt;ChartType}"><template:if test="{path:\'chart&gt;ChartType\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.checkBubbleChart\'}"><Text id="bubbleText" class="ovpChartFooter"/></template:if></template:if></template:if></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/charts/generic/noData.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns="sap.m"><FlexBox alignItems="Center" justifyContent="SpaceAround" class="noDataSection"><Text maxLines="1" text="{ovplibResourceBundle&gt;noData}"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;noData}" writeToDom="true"/><ovp:CustomData key="tabindex" value="0" writeToDom="true"/></customData></Text></FlexBox></core:FragmentDefinition>',
	"sap/ovp/cards/charts/smart/chart/analyticalChart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:suite="sap.suite.ui.commons" xmlns:viz="sap.viz.ui5.controls" xmlns:dataSet="sap.viz.ui5.data" xmlns:feed="sap.viz.ui5.controls.common.feeds" xmlns:ovp="sap.ovp.ui" xmlns:charts="sap.ovp.cards.charts" xmlns:smart="sap.ui.comp.smartchart" xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><VBox class="ovpSmartChartTitleVBox" id="vbLayout"><items><template:with path="ovpCardProperties&gt;/chartAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="chart"><template:with path="ovpCardProperties&gt;/selectionAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="selVar"><template:with path="ovpCardProperties&gt;/presentationAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="preVar"><template:if test="{chart&gt;}"><HBox class="ovpChartTitleHBox"><items><VBox class="ovpChartTitleText"><Text id="ovpCT1" class="ovpChartTitle" maxLines="1" text="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><template:if test="{chart&gt;Title}"><ovp:CustomData key="aria-label" value="{path:\'chart&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/></template:if></customData></Text></VBox><VBox class="ovpChartTitleScaleText"><Text id="ovpUoMTitle" class="ovpChartTitle" maxLines="1"/></VBox></items></HBox><template:if test="{path:\'chart&gt;DimensionAttributes\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.dimensionAttrCheck\'}"><template:if test="{path:\'chart&gt;MeasureAttributes\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.measureAttrCheck\'}"><template:if test="{chart&gt;ChartType}"><smart:SmartChart id="analyticalChart2" class="ovpSmartChart" width="100%" showDrillBreadcrumbs="false" useVariantManagement="false" height="400px" showDetailsButton="false" showDrillButtons="false" showChartTypeSelectionButton="false" showZoomButtons="false" showLegendButton="false" showFullScreenButton="false" showSemanticNavigationButton="false" useChartPersonalisation="false" useListForChartTypeSelection="false" enableAutoBinding="true" beforeRebindChart="beforeRebindSmartChart" chartBindingPath="{parts:[{path:\'entitySet&gt;\'},{path:\'selVar&gt;\'},{path:\'preVar&gt;\'},{path:\'chart&gt;DimensionAttributes\'},{path:\'chart&gt;MeasureAttributes\'},{path:\'chart&gt;ChartType\'}],formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.formatItems\'}" customData:presentationVariantQualifier="{path:\'ovpCardProperties&gt;/presentationAnnotationPath\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.getAnnotationQualifier\'}" entitySet="{path:\'entitySet&gt;\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.getEntitySet\'}" customData:chartQualifier="{path:\'ovpCardProperties&gt;/chartAnnotationPath\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.getAnnotationQualifier\'}"/></template:if></template:if></template:if></template:if></template:with></template:with></template:with></items></VBox><template:with path="ovpCardProperties&gt;/chartAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="chart"><template:if test="{chart&gt;}"><template:if test="{chart&gt;ChartType}"><template:if test="{path:\'chart&gt;ChartType\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.checkBubbleChart\'}"><Text id="bubbleText" class="ovpChartFooter"/></template:if></template:if></template:if></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/error/Error.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MessagePage id="sapOvpErrorCard" icon="sap-icon://message-error" text="{ovpCardProperties&gt;/errorStatusText}" description="" class="{= ${ovpCardProperties&gt;/oldTemplate} === \'sap.ovp.cards.stack\' ? \'stackContentOfError\' : \'contentOfError\' }" showHeader="false"/></core:FragmentDefinition>',
	"sap/ovp/cards/generic/Action.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{=  ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAction\' ||                            ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation\'||                            ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldWithUrl\'}"><Button text="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onActionPress" type="Transparent"><layoutData><OverflowToolbarLayoutData moveToOverflow="true" stayInOverflow="false"/></layoutData><customData><core:CustomData key="type" value="{dataField&gt;RecordType}"/><template:if test="{= ${dataField&gt;SemanticObject}}"><core:CustomData key="semanticObject" value="{path:\'dataField&gt;SemanticObject\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if><template:if test="{= ${dataField&gt;Url}}"><core:CustomData key="url" value="{path:\'dataField&gt;Url\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if><template:if test="{= ${dataField&gt;Action}}"><core:CustomData key="action" value="{path:\'dataField&gt;Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if><core:CustomData key="label" value="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></customData></Button></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/generic/ActionsFooter.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:with path="ovpCardProperties&gt;/identificationAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="identification"><template:if test="{path:\'identification&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.hasActions\'}"><OverflowToolbar id="ovpActionFooter" class="sapOvpActionFooter"><customData><ovp:CustomData key="tabindex" value="0" writeToDom="true"/><ovp:CustomData key="role" value="toolbar" writeToDom="true"/></customData><ToolbarSpacer/><template:repeat list="{path:\'identification&gt;\',filters:[{path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\',operator:\'EndsWith\',value1:\'High\'},{path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\',operator:\'EndsWith\',value1:\'Medium\'}],sorter:[{path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\'}]}" var="dataField"><core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/></template:repeat><template:repeat list="{path:\'identification&gt;\',filters:[{path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\',operator:\'EndsWith\',value1:\'Low\'}]}" var="dataField"><core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/></template:repeat><template:repeat list="{path:\'identification&gt;\'}" var="dataField"><template:if test="{=  !${dataField&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} }"><core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/></template:if></template:repeat></OverflowToolbar></template:if></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/generic/Card.view.xml":'<mvc:View controllerName="{ovpCardProperties&gt;/controllerName}" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><VBox class="sapOvpCardOverlaySideContainer sapOvpCardRightOverlayCursor"/><FlexBox width="100%" justifyContent="End" class="sapOvpNewBadgeWrapper" visible="{= ${ovpCardProperties&gt;/cloneCard} ? true : false}"><HBox class="sapOvpNewBadge"><Text text="Copy" class="sapOvpNewBadgeText"/></HBox></FlexBox><FlexBox width="100%" justifyContent="End" class="sapOvpNewBadgeWrapper" visible="{= ${ovpCardProperties&gt;/newCard} ? true : false}"><HBox class="sapOvpNewBadge"><Text text="New" class="sapOvpNewBadgeText"/></HBox></FlexBox><template:if test="{= ${ovpCardProperties&gt;/contentPosition} === \'Right\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.generic.ContentRight" type="XML"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.generic.ContentMiddle" type="XML"/></template:else></template:if><template:if test="{device&gt;/support/touch}"><template:then><core:HTML content="&lt;div&gt;&lt;/div&gt;"/></template:then><template:else><core:HTML content="&lt;div;&gt;&lt;/div&gt;"/></template:else></template:if><HBox class="sapOvpCardOverlayContainer sapOvpCardBottomOverlayCursor"/></mvc:View>',
	"sap/ovp/cards/generic/ContactDetails.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><QuickView placement="Auto"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetailsQuickViewGroup" type="XML"/></QuickView></core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContactDetailsQuickViewGroup.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><QuickViewPage header="{ovplibResourceBundle&gt;CONTACT_INFO}" icon="{= ${contact&gt;photo} ? ${path: \'contact&gt;photo\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : \'sap-icon://person-placeholder\'}" title="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" description="{path:\'contact&gt;role\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><QuickViewGroup><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_JOB_TITLE}" type="text" value="{path:\'contact&gt;title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" visible="{= !!${contact&gt;title}}" build:metadata="#pattern:ContactList;prop:value:JobTitle"/><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_DEPARTMENT}" type="text" value="{path:\'contact&gt;org\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" visible="{= !!${contact&gt;org}}" build:metadata="#pattern:ContactList;prop:value:Department"/><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_EMAIL}" type="email" value="{path:\'contact&gt;email/[${type/EnumMember}.indexOf(\\\'ContactInformationType/work\\\')&gt;=0]/address\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" visible="{= !!${path: \'contact&gt;email/[${type/EnumMember}.indexOf(\\\'ContactInformationType/work\\\')&gt;=0]/address\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} }" build:metadata="#pattern:ContactList;prop:value:Email:{contact&gt;email/0/address};set:contact&gt;email/0/type/EnumMember:work"/><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_PHONE}" type="phone" value="{= ${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/work\\\')&gt;=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }" visible="{= !!${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/work\\\')&gt;=0]/uri\'} }" build:metadata="#pattern:ContactList;prop:value:Phone:{contact&gt;tel/0/uri};set:contact&gt;tel/0/type/EnumMember:work"/><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_MOBILE}" type="{= (${device&gt;/system/phone} || ${device&gt;/system/tablet})  ? \'mobile\'  : \'phone\' }" value="{= ${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/cell\\\')&gt;=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }" visible="{= !!${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/cell\\\')&gt;=0]/uri\'} }" build:metadata="#pattern:ContactList;prop:value:Mobile:{contact&gt;tel/1/uri};set:contact&gt;tel/1/type/EnumMember:cell"/><QuickViewGroupElement label="{ovplibResourceBundle&gt;CONTACT_FAX}" type="text" value="{= ${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/fax\\\')&gt;=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }" visible="{= !!${path: \'contact&gt;tel/[${type/EnumMember}.indexOf(\\\'PhoneType/fax\\\')&gt;=0]/uri\'} }" build:metadata="#pattern:ContactList;prop:value:Fax:{contact&gt;tel/2/uri};set:contact&gt;tel/2/type/EnumMember:fax"/></QuickViewGroup></QuickViewPage></core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContentMiddle.fragment.xml":'<core:FragmentDefinition controllerName="sap.ovp.cards.generic.Card" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><ovp:Card id="ovpCardControl"><VBox class="sapOvpBaseCard"><template:if test="{ovpCardProperties&gt;/headerFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/headerFragment}" type="XML"/></template:if><ovp:CardContentContainer id="ovpCardContentContainer" class="{= ${ovpCardProperties&gt;/cardLayout/containerLayout} === \'resizable\' &amp;&amp; ${ovpCardProperties&gt;/cardLayout/showOnlyHeader} === true ? \'sapOvpWrapper sapOvpContentHidden\' :  \'sapOvpWrapper\'}"><template:if test="{= ${ovpCardProperties&gt;/state} !== \'Loading\' || !${ovpCardProperties&gt;/reason} || ${ovpCardProperties&gt;/state} === \'undefined\'}"><template:if test="{ovpCardProperties&gt;/tabs}"><Toolbar id="toolbar" class="sapOvpDropDown {= ${ovpCardProperties&gt;/densityStyle} === \'compact\' ? \'sapUiSizeCompact dropDrownCompact\' : \'sapUiSizeCozy sapOvpDropDownPadding dropDrownCozy\' }"><Select id="ovp_card_dropdown" selectedKey="1" change="changeSelection"><template:repeat list="{ovpCardProperties&gt;/tabs}" var="tab"><core:Item id="{parts:[{path:\'ovpCardProperties&gt;/tabs\'},{path:\'tab&gt;\'}],formatter:\'sap.ovp.cards.CommonUtils.createKeyForCB\'}" key="{parts:[{path:\'ovpCardProperties&gt;/tabs\'},{path:\'tab&gt;\'}],formatter:\'sap.ovp.cards.CommonUtils.createKeyForCB\'}" text="{tab&gt;value}"/></template:repeat></Select></Toolbar></template:if><template:if test="{ovpCardProperties&gt;/contentFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/contentFragment}" type="XML"/></template:if></template:if></ovp:CardContentContainer><template:if test="{= ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.quickview.Quickview\' || ${ovpCardProperties&gt;/layoutDetail} !== \'resizable\' || ${ovpCardProperties&gt;/state} === \'Loading\' || ${ovpCardProperties&gt;/reason}}"><template:if test="{ovpCardProperties&gt;/footerFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/footerFragment}" type="XML"/></template:if></template:if></VBox></ovp:Card></core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContentRight.fragment.xml":'<core:FragmentDefinition controllerName="sap.ovp.cards.generic.Card" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><ovp:Card id="ovpCardControl" class="cardType"><ovp:customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;stackCardType}" writeToDom="true"/></ovp:customData><HBox class="sapOvpBaseCard sapOvpCardRightContent"><FlexBox class="sapOvpCardContentRightHeader"><core:Fragment fragmentName="sap.ovp.cards.generic.Header" type="XML"/><layoutData><FlexItemData growFactor="1" baseSize="1rem"/></layoutData></FlexBox><ovp:CardContentContainer id="ovpCardContentContainer"><template:if test="{ovpCardProperties&gt;/contentFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/contentFragment}" type="XML"/></template:if></ovp:CardContentContainer></HBox></ovp:Card></core:FragmentDefinition>',
	"sap/ovp/cards/generic/CountFooter.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"><Text id="ovpCountFooter" class="sapOvpCardFooter"><customData><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData></Text></core:FragmentDefinition>',
	"sap/ovp/cards/generic/CountHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"><FlexBox class="sapOvpHeaderCountMainDiv"><Text id="ovpCountHeader" class="sapOvpHeaderCounter" maxLines="1"><customData><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData></Text></FlexBox></core:FragmentDefinition>',
	"sap/ovp/cards/generic/Header.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><VBox id="ovpCardHeader" class="{= ${ovpCardProperties&gt;/category} || ${ovpCardProperties&gt;/title} || ${ovpCardProperties&gt;/subTitle} ? \'sapOvpCardHeader\' : \'sapOvpCardHeader sapOvpCardHideHeader\' } {= ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.stack.Stack\' ? \'sapOvpStackCardHeader\' :  \'sapOvpCardHeaderBorder\'}" build:metadata="#pattern:GenericCard;isAbstract;prop::EntitySet:\\{ovpCardProperties&gt;/entitySet\\}"><customData><ovp:CustomData key="tabindex" value="0" writeToDom="true"/><ovp:CustomData key="role" value="button" writeToDom="true"/></customData><template:if test="{= ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.quickview.Quickview\'}"><template:then><template:with path="entityType&gt;com.sap.vocabularies.UI.v1.HeaderInfo" var="header"><Text id="ovpQuickviewCardHeader" text="{= ${ovpCardProperties&gt;/title} + \': \' + ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" class="sapOvpCardTitle tabindex-1" build:metadata="#pattern:GenericCard;prop:text:Title"><customData><ovp:CustomData key="aria-label" value="{= ${ovpCardProperties&gt;/title} + \': \' + ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData></Text></template:with></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.generic.Title" type="XML"/></template:else></template:if><template:if test="{= ${ovpCardProperties&gt;/contentFragment} !== \'sap.ovp.cards.quickview.Quickview\'}"><core:Fragment fragmentName="sap.ovp.cards.generic.SubTitle" type="XML"/></template:if><template:if test="{ovpCardProperties&gt;/headerExtensionFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/headerExtensionFragment}" type="XML"/></template:if><template:if test="{= ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.stack.Stack\'}"><FlexBox class="sapOvpCardViewAllContainer"><Text id="ViewAll" text="{ovplibResourceBundle&gt;View_All_Stack_Card}" class="sapOvpCardViewAll cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;View_All_Stack_Card}" writeToDom="true"/></customData></Text></FlexBox></template:if></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/generic/KPIHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:with path="ovpCardProperties&gt;/dataPointAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="dataPoint"><template:with path="ovpCardProperties&gt;/selectionAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="selVar"><template:with path="ovpCardProperties&gt;/presentationAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="preVar"><template:if test="{dataPoint&gt;}"><VBox id="kpiHeader" class="sapOVPKpiHeaderVbox tabindex-1"><template:if test="{dataPoint&gt;Value/Path}"><FlexBox items="{parts:[{path:\'entitySet&gt;\'},{path:\'dataPoint&gt;\'},{path:\'selVar&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}" id="kpiHBoxNumeric" class="numericContentHbox sapOvpKPIHeaderAggregateNumber"><items><HBox class="innerNumericContentHbox sapOvpKpiContent" alignItems="End" justifyContent="SpaceBetween"><ovp:OVPNumericContent id="kpiNumberValue" size="M" truncateValueTo="5" icon="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formThePathForTrendIcon\'}" value="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formThePathForAggregateNumber\'}" formatterValue="true" valueColor="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatKPIHeaderState\'}" state="Loaded" class="sapOvpKPIHeaderNumberValueStyle" press="press" withMargin="false"><ovp:customData><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="class" value="kpiHeaderClass" writeToDom="true"/></ovp:customData></ovp:OVPNumericContent><template:if test="{= ${path:\'dataPoint&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'} !== \'\'}"><FlexBox class="TargetDeviationFlexbox"><VBox class="KpiTargetContainer"><Text id="ovpKpiTarget" text="{ovplibResourceBundle&gt;KPI_Target_Text}" class="KpiTargetText tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;KPI_Target_Text}" writeToDom="true"/></customData></Text><Text id="ovpTargetValue" text="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formPathForTargetValue\'}" class="sapOvpKPIHeaderTrendPercentStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formPathForTargetValue\'}" writeToDom="true"/></customData><layoutData><FlexItemData growFactor="1"/></layoutData></Text></VBox><VBox class="KpiDeviationContainer"><Text id="ovpKPIDeviation" text="{ovplibResourceBundle&gt;KPI_Deviation_Text}" class="KpiDeviationText tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;KPI_Deviation_Text}" writeToDom="true"/></customData></Text><Text id="kpiNumberPercentage" text="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'}" class="sapOvpKPIHeaderTrendPercentStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'}" writeToDom="true"/></customData><layoutData><FlexItemData growFactor="1"/></layoutData></Text></VBox></FlexBox></template:if></HBox></items></FlexBox></template:if><template:if test="{dataPoint&gt;Value/Path}"><FlexBox class="UOMFlexbox"><template:if test="{ovpCardProperties&gt;/valueSelectionInfo}"><Text id="ovpValueSelectionInfo" maxLines="1" text="{ovpCardProperties&gt;/valueSelectionInfo}" class="sapOvpKPIHeaderUnitOfMeasureStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{ovpCardProperties&gt;/valueSelectionInfo}" writeToDom="true"/></customData></Text></template:if></FlexBox></template:if><template:if test="{= (${ovpCardProperties&gt;/showSortingInHeader} === true) &amp;&amp; ${path:\'preVar&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isPresentationVarientPresent\'} === true}"><FlexBox alignItems="Start" justifyContent="SpaceBetween" class="KpiPreVarFlex" visible="{ovpCardProperties&gt;/showSortingInHeader}"><Text id="headerGroupByText" maxLines="1" text="{path:\'preVar&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.listGroupBy\'}" class="sapOvpKPIHeaderDimensionStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{path:\'preVar&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.listGroupBy\'}" writeToDom="true"/></customData></Text></FlexBox></template:if><template:if test="{= (${ovpCardProperties&gt;/showFilterInHeader} === true) &amp;&amp; {parts:[{path:\'selectionVar&gt;\'}, {path:\'selVar&gt;\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'} !== \'\'}"><template:if test="{= !${ovpCardProperties&gt;/ignoreSelectionVariant} === true}"><template:then><FlexBox alignItems="Start" justifyContent="flex-start" class="KpiSelVarFlex" visible="{ovpCardProperties&gt;/showFilterInHeader}"><template:repeat list="{path:\'selVar&gt;SelectOptions\'}" var="selectionVar"><Text id="{path:\'selectionVar&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formTheIdForFilter\'}" text="{parts:[{path:\'selectionVar&gt;\'},{path:\'selVar&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'}" class="sapOvpKPIHeaderFilterStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{parts:[{path:\'selectionVar&gt;\'},{path:\'selVar&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'}" writeToDom="true"/></customData></Text></template:repeat></FlexBox></template:then><template:else><FlexBox alignItems="Start" justifyContent="flex-start" class="KpiSelVarFlex" visible="{ovpCardProperties&gt;/showFilterInHeader}"><template:repeat list="{path:\'ovpCardProperties&gt;/idForExternalFilters\'}" var="selectionVar"><Text id="{path:\'selectionVar&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formTheIdForFilterNotFromSelVar\'}" text="{parts:[{path:\'selectionVar&gt;\'},{path:\'ovpCardProperties&gt;/filters\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar\'}" class="sapOvpKPIHeaderFilterStyle tabindex-1 cardHeaderText"><customData><ovp:CustomData key="aria-label" value="{parts:[{path:\'selectionVar&gt;\'},{path:\'ovpCardProperties&gt;/filters\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar\'}" writeToDom="true"/></customData></Text></template:repeat></FlexBox></template:else></template:if></template:if></VBox></template:if></template:with></template:with></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/generic/SubTitle.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{= ${ovpCardProperties&gt;/state} !== \'Loading\'}"><template:if test="{ovpCardProperties&gt;/dynamicSubtitleAnnotationPath}"><template:then><template:with path="ovpCardProperties&gt;/dynamicSubtitleAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="headerInfo"><template:if test="{headerInfo&gt;Description}"><HBox><FlexBox items="{parts:[{path:\'entitySet&gt;\'},{path:\'headerInfo&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}" class="sapOvpCardSubtitleContainer ovpHeaderContainer"><Text id="ovpDescriptionValue" maxLines="2" text="{path:\'headerInfo&gt;Description/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" class="sapOvpCardSubtitle tabindex-1" build:metadata="#pattern:GenericCard;prop:text:subTitle"><customData><ovp:CustomData key="aria-label" value="{path:\'headerInfo&gt;Description/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="aria-level" value="4" writeToDom="true"/></customData></Text></FlexBox></HBox></template:if></template:with></template:then><template:else><template:if test="{ovpCardProperties&gt;/subTitle}"><template:then><FlexBox class="sapOvpCardSubtitleContainer ovpHeaderContainer"><Text id="SubTitle-Text" maxLines="2" text="{ovpCardProperties&gt;/subTitle}" class="sapOvpCardSubtitle tabindex-1 {= ${ovpCardProperties&gt;/subTitle} === \'\' ? \'sapOvpCardEmptySubtitle\' : \'\'}" build:metadata="#pattern:GenericCard;prop:text:subTitle"><customData><ovp:CustomData key="aria-label" value="{ovpCardProperties&gt;/subTitle}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="aria-level" value="4" writeToDom="true"/></customData></Text></FlexBox></template:then><template:else><template:if test="{ovpCardProperties&gt;/dataPointAnnotationPath}"><template:then><template:with path="ovpCardProperties&gt;/dataPointAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="dataPoint"><template:with path="ovpCardProperties&gt;/selectionAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="selVar"><template:if test="{dataPoint&gt;Description}"><HBox><FlexBox items="{parts:[{path:\'entitySet&gt;\'},{path:\'dataPoint&gt;\'},{path:\'selVar&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}" class="sapOvpCardSubtitleContainer ovpHeaderContainer"><Text id="ovpDescriptionValue" maxLines="2" text="{path:\'dataPoint&gt;Description\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" class="sapOvpCardSubtitle tabindex-1" build:metadata="#pattern:GenericCard;prop:text:subTitle"><customData><ovp:CustomData key="aria-label" value="{path:\'dataPoint&gt;Description\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="aria-level" value="4" writeToDom="true"/></customData></Text></FlexBox></HBox></template:if></template:with></template:with></template:then><template:else><FlexBox class="sapOvpCardSubtitleContainer ovpHeaderContainer sapOvpCardEmptySubtitle"/></template:else></template:if></template:else></template:if></template:else></template:if></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/generic/Title.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{ovpCardProperties&gt;/title} || {ovpCardProperties&gt;/dataPointAnnotationPath}"><HBox><template:if test="{ovpCardProperties&gt;/title}"><template:then><FlexBox class="ovpHeaderContainer sapOvpCardHeaderTitleWidth"><Text id="ovpHeaderTitle" maxLines="3" text="{ovpCardProperties&gt;/title}" class="sapOvpCardTitle tabindex-1" build:metadata="#pattern:GenericCard;prop:text:Title"><customData><ovp:CustomData key="aria-label" value="{ovpCardProperties&gt;/title}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="aria-level" value="3" writeToDom="true"/></customData></Text></FlexBox></template:then><template:else><template:if test="{= ${ovpCardProperties&gt;/state} !== \'Loading\' &amp;&amp; ${ovpCardProperties&gt;/dataPointAnnotationPath}}"><template:then><template:with path="ovpCardProperties&gt;/dataPointAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="dataPoint"><template:if test="{dataPoint&gt;Title}"><FlexBox items="{parts:[{path:\'entitySet&gt;\'},{path:\'dataPoint&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}" class="ovpHeaderContainer sapOvpCardHeaderTitleWidth"><Text id="ovpHeaderTitleFromKPI" maxLines="3" text="{path:\'dataPoint&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" class="sapOvpCardTitle tabindex-1" build:metadata="#pattern:GenericCard;prop:text:Title"><customData><ovp:CustomData key="aria-label" value="{path:\'dataPoint&gt;Title\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/><ovp:CustomData key="aria-level" value="3" writeToDom="true"/></customData></Text></FlexBox></template:if></template:with></template:then></template:if></template:else></template:if><template:if test="{= ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.list.List\' || ${ovpCardProperties&gt;/contentFragment} === \'sap.ovp.cards.table.Table\'}"><template:if test="{ovpCardProperties&gt;/countHeaderFragment}"><core:Fragment fragmentName="{ovpCardProperties&gt;/countHeaderFragment}" type="XML"/></template:if></template:if></HBox></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/image/Image.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{ovpCardProperties&gt;/imageUrl}"><HBox class="ovpImageContainer"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;imageCard}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData><Image press="onImagePress" src="{path:\'ovpCardProperties&gt;/imageUrl\',formatter:\'sap.ovp.cards.AnnotationHelper.formatUrl\'}" densityAware="true" width="100%" build:metadata="#pattern:GenericCard&gt;Image;prop:src:ImageSource"><customData><ovp:CustomData key="draggable" value="false" writeToDom="true"/><ovp:CustomData key="ondragstart" value="return false;" writeToDom="true"/></customData></Image></HBox></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/LinkList.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m"><template:if test="{ovpCardProperties&gt;/staticContent}"><template:then><template:if test="{= ${ovpCardProperties&gt;/listFlavor} === \'standard\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStaticDataStandard" type="XML"/></template:then><template:elseif test="{= ${ovpCardProperties&gt;/listFlavor} === \'carousel\'}"><core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStaticDataCarousel" type="XML"/></template:elseif></template:if></template:then><template:else><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/headerAnnotationPath" var="header"><template:if test="{= ${ovpCardProperties&gt;/listFlavor} === \'standard\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStandard" type="XML"/></template:then><template:elseif test="{= ${ovpCardProperties&gt;/listFlavor} === \'carousel\'}"><core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListCarousel" type="XML"/></template:elseif></template:if></template:with></template:else></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListCarousel.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m"><Carousel id="pictureCarousel" loop="true" class="sapOvpCardLinkListCarousel cardType" arrowsPlacement="PageIndicator" pages="{parts:[{path:\'entitySet&gt;\'},{path:\'ovpCardProperties&gt;/annotationPath\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatItems\'}"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;linkListCarouselType}" writeToDom="true"/></customData><pages><VBox class="sapMCrslItemTableCell"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/identificationAnnotationPath" var="identification"><template:if test="{= ${header&gt;Title/Value} || ${header&gt;Description/Value}}"><VBox class="{= ${header&gt;Title/Value} || ${header&gt;Description/Value} ? \'sapOvpCarouselContentHeader\' : \'sapOvpCarouselContentHeader sapOvpCarouselHideContentHeader\' }"><template:if test="{path:\'identification&gt;0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><Link class="sapOvpCardLinkListTitle " press="onLinkNavigationSingleTarget" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><ovp:CustomData key="aria-label" value="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:then><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><Link class="sapOvpCardLinkListTitle" press="onLinkListActionPress" app:dataAction="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><ovp:CustomData key="aria-label" value="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><Link class="sapOvpCardLinkListTitle" target="_blank" href="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatString\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><ovp:CustomData key="aria-label" value="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link class="sapOvpCardLinkListTitle" press="onLinkPopover" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><customData><ovp:CustomData key="aria-label" value="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:if></template:with></template:elseif><template:else><Text class="sapOvpCardLinkListTitle" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:else></template:if><Text class="sapOvpCardLinkListSubTitle" text="{path:\'header&gt;Description/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></VBox></template:if><template:if test="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><template:then><template:if test="{path:\'identification&gt;0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkNavigationSingleTarget" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" alt="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></HBox></template:then><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkListActionPress" app:dataAction="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" alt="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></HBox></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkListItemPress" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" alt="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></HBox></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkPopover" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" alt="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></HBox></template:if></template:with></template:elseif><template:else><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="ovpLinkLinstCarouselImg" densityAware="true" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" alt="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></HBox></template:else></template:if></template:then><template:else><template:if test="{path:\'identification&gt;0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><core:Icon width="100%" size="128px" press="onLinkNavigationSingleTarget" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></template:then><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><core:Icon width="100%" size="128px" press="onLinkListActionPress" app:dataAction="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><core:Icon width="100%" size="128px" press="onLinkListItemPress" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><core:Icon width="100%" size="128px" press="onLinkPopover" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></template:if></template:with></template:elseif><template:else><core:Icon width="100%" size="128px" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></template:else></template:if></template:else></template:if></template:with></VBox></pages><customData><ovp:CustomData key="aria-live" value="assertive" writeToDom="true"/></customData></Carousel></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListNavigationTargets.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Popover title="{ovplibResourceBundle&gt;RELATED_APPS}" placement="Auto"><HBox class="sapOvpLinkListStandardHBox"><List showSeparators="None" class="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\' }"><CustomListItem/></List></HBox></Popover></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStandard.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m"><HBox id="ovpListRow" class="sapOvpLinkListStandardHBox cardType"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;linkListType}" writeToDom="true"/></customData><List id="ovpLinkList" class="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\'}" showSeparators="None" items="{parts:[{path:\'entitySet&gt;\'},{path:\'header&gt;\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatItems\'}"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/identificationAnnotationPath" var="identification"><CustomListItem id="ovpCLI" type="Active" press="{= ${path: \'identification&gt;0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkNavigationSingleTarget\'    : ${path: \'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkListActionPress\'    : ${path: \'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkListLineItemUrl\'    : ${path: \'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'    : \'\'}" app:dataAction="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><HBox class="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCozyTitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCozyTitleImage\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${header&gt;TypeImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCozyTitleIcon\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCozyTitleSubtitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCozyTitleImageSubtitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${header&gt;TypeImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCozyTitleIconSubtitle\'                     : ${ovpCardProperties&gt;/densityStyle} === \'compact\' &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCompactTitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCompactTitleImage\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${header&gt;TypeImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; !${header&gt;Description/Value}) ? \'sapOvpCompactTitleIcon\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCompactTitleSubtitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${header&gt;ImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCompactTitleImageSubtitle\'                     : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${header&gt;TypeImageUrl} &amp;&amp; (${header&gt;Title/Value} &amp;&amp; ${header&gt;Description/Value}) ? \'sapOvpCompactTitleIconSubtitle\'                     : \'ovpDefaultClass\'}                         {= ${path: \'identification&gt;0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'                         : ${path: \'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'                         : ${path: \'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'                         : ${path: \'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'linkListHasPopover\'                         : \'\'} "><template:if test="{= ${header&gt;ImageUrl} || ${header&gt;TypeImageUrl}}"><template:then><VBox class="sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemImageCozy\' : \'sapOvpLinkListItemImageCompact\' }"><template:if test="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"><template:then><template:if test="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\'}"><template:then><FlexBox height="40px"><Image id="linkListImage" alt="no picture" densityAware="true" width="40px" height="40px" class="sapUiSmallMarginEnd" backgroundPosition="center center" mode="Background" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></FlexBox></template:then><template:else><FlexBox height="40px"><Image id="linkListImage" alt="no picture" densityAware="true" width="36px" height="36px" class="sapUiSmallMarginEnd" backgroundPosition="center center" mode="Background" src="{path:\'header&gt;ImageUrl\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></FlexBox></template:else></template:if></template:then><template:else><FlexBox height="40px"><core:Icon id="linkListIcon" size="24px" class="sapOvpLinkListImageCenter" src="{path:\'header&gt;TypeImageUrl\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/></FlexBox></template:else></template:if></VBox></template:then></template:if><VBox class="sapOvpLinkListItem"><template:if test="{path:\'identification&gt;0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><template:if test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link id="linkListTitleLabel" press="onLinkPopover" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if></template:with></template:then><template:else><Label id="linkListTitleLabel" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:else></template:if></template:then><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:if test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link id="linkListTitleLabel" press="onLinkPopover" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if></template:with></template:then><template:else><Label id="linkListTitleLabel" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" app:dataAction="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Action\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:else></template:if></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.UI.v1.LineItem/0/Url\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:if test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:then><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link id="linkListTitleLabel" press="onLinkPopover" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if></template:with></template:then><template:else><Label id="linkListTitleLabel" target="_blank" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:else></template:if></template:elseif><template:elseif test="{path:\'entityType&gt;com.sap.vocabularies.Communication.v1.Contact\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}"><template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path="ovpCardProperties&gt;/communicationPath" var="contact"><template:if test="{contact&gt;}"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link id="linkListTitleLabel" press="onLinkPopover" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:if></template:with></template:elseif><template:else><Label id="linkListTitleLabel" class="{= ${header&gt;Description/Value} || !${header&gt;Description/Value} &amp;&amp; !${header&gt;ImageUrl} &amp;&amp; !${header&gt;TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}" text="{path:\'header&gt;Title/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:else></template:if><template:if test="{header&gt;Description/Value}"><template:then><Label id="linkListSubTitleLabel" class="sapOvpCardLinkListSubTitle" text="{path:\'header&gt;Description/Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}"/></template:then></template:if></VBox></HBox></CustomListItem></template:with></List></HBox></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStaticDataCarousel.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m"><VBox><Carousel id="pictureCarousel" loop="true" class="sapOvpCardLinkListCarousel cardType" arrowsPlacement="PageIndicator"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;linkListCarouselType}" writeToDom="true"/></customData><pages><template:repeat list="{ovpCardProperties&gt;/staticContent}" var="contentRow"><VBox class="sapMCrslItemTableCell"><template:if test="{= ${contentRow&gt;title} || ${contentRow&gt;subTitle}}"><VBox class="{= ${contentRow&gt;title} || ${contentRow&gt;subTitle} ? \'sapOvpCarouselContentHeader\' : \'sapOvpCarouselContentHeader sapOvpCarouselHideContentHeader\' }"><template:if test="{contentRow&gt;dataAction}"><template:then><Link id="linkListTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListTitle" text="{contentRow&gt;title}" press="onLinkListActionPressLocalData" app:dataAction="{contentRow&gt;dataAction}"><customData><ovp:CustomData key="aria-label" value="{contentRow&gt;title}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:then><template:else><Link id="linkListTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListTitle" text="{contentRow&gt;title}" press="onLinkListItemPressLocalData" app:targetUri="{contentRow&gt;targetUri}" app:openInNewWindow="{contentRow&gt;openInNewWindow}"><customData><ovp:CustomData key="aria-label" value="{contentRow&gt;title}" writeToDom="true"/><ovp:CustomData key="role" value="link" writeToDom="true"/></customData></Link></template:else></template:if><Text id="linkListSubTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListSubTitle" text="{contentRow&gt;subTitle}"><customData><ovp:CustomData key="aria-label" value="{contentRow&gt;subTitle}" writeToDom="true"/><ovp:CustomData key="role" value="text" writeToDom="true"/></customData></Text></VBox></template:if><template:if test="{contentRow&gt;dataAction}"><template:then><template:if test="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}"><template:then><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="linkListImage--{contentRow&gt;id}" alt="{contentRow&gt;imageAltText}" tooltip="{contentRow&gt;toolTip}" press="onLinkListActionPressLocalData" app:dataAction="{contentRow&gt;dataAction}" densityAware="true" src="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"/></HBox></template:then><template:else><core:Icon id="linkListIcon--{contentRow&gt;id}" size="128px" src="{contentRow&gt;imageUri}" tooltip="{contentRow&gt;toolTip}" useIconTooltip="false" press="onLinkListActionPressLocalData" app:dataAction="{contentRow&gt;dataAction}"/></template:else></template:if></template:then><template:else><template:if test="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}"><template:then><HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center"><Image id="linkListImage--{contentRow&gt;id}" alt="{contentRow&gt;imageAltText}" tooltip="{contentRow&gt;toolTip}" app:targetUri="{contentRow&gt;targetUri}" app:openInNewWindow="{contentRow&gt;openInNewWindow}" densityAware="true" press="onLinkListItemPressLocalData" src="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"/></HBox></template:then><template:else><core:Icon id="linkListIcon--{contentRow&gt;id}" size="128px" src="{contentRow&gt;imageUri}" tooltip="{contentRow&gt;toolTip}" useIconTooltip="false" press="onLinkListItemPressLocalData" app:targetUri="{contentRow&gt;targetUri}" app:openInNewWindow="{contentRow&gt;openInNewWindow}"/></template:else></template:if></template:else></template:if></VBox></template:repeat></pages><customData><ovp:CustomData key="aria-live" value="assertive" writeToDom="true"/></customData></Carousel></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStaticDataStandard.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:smartlink="sap.ui.comp.navpopover" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m"><HBox id="ovpListRow" class="sapOvpLinkListStandardHBox"><List id="ovpLinkList" class="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\' } cardType" showSeparators="None"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;linkListType}" writeToDom="true"/></customData><items><template:repeat list="{ovpCardProperties&gt;/staticContent}" var="contentRow"><CustomListItem id="{contentRow&gt;id}" type="Active" press="{= ${contentRow&gt;semanticObject} &amp;&amp; ${contentRow&gt;action} ? \'onLinkListSemanticObjectPressLocalData\' : ${contentRow&gt;dataAction} ? \'onLinkListActionPressLocalData\' : ${contentRow&gt;semanticObject} &amp;&amp; !${contentRow&gt;action} ? \'\' : \'onLinkListItemPressLocalData\'}" app:targetUri="{= ${contentRow&gt;targetUri} ? ${contentRow&gt;targetUri} : \'\'}" app:openInNewWindow="{=${contentRow&gt;openInNewWindow} ? ${contentRow&gt;openInNewWindow} :\'\' }" app:dataAction="{= ${contentRow&gt;dataAction} ? ${contentRow&gt;dataAction} : \'\'}" app:contentRowIndex="{path:\'contentRow&gt;\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.contentRowIndex\'}"><HBox class="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' &amp;&amp; !${path: \'contentRow&gt;imageUri\'} &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCozyTitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCozyTitleImage\' : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCozyTitleIcon\' : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; !${path: \'contentRow&gt;imageUri\'} &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCozyTitleSubtitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCozyTitleImageSubtitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCozyTitleIconSubtitle\' : ${ovpCardProperties&gt;/densityStyle} === \'compact\' &amp;&amp; !${path: \'contentRow&gt;imageUri\'} &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCompactTitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCompactTitleImage\' : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow&gt;title} &amp;&amp; !${contentRow&gt;subTitle}) ? \'sapOvpCompactTitleIcon\' : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; !${path: \'contentRow&gt;imageUri\'} &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCompactTitleSubtitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCompactTitleImageSubtitle\' : ( ${ovpCardProperties&gt;/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow&gt;imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow&gt;title} &amp;&amp; ${contentRow&gt;subTitle}) ? \'sapOvpCompactTitleIconSubtitle\' : \'ovpDefaultClass\'}"><template:if test="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}"><template:then><VBox class="sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemImageCozy\' : \'sapOvpLinkListItemImageCompact\' }"><template:if test="{= ${ovpCardProperties&gt;/densityStyle} === \'cozy\'}"><template:then><FlexBox height="40px"><Image id="linkListImage--{contentRow&gt;id}" class="sapUiSmallMarginEnd" alt="{contentRow&gt;imageAltText}" tooltip="{contentRow&gt;toolTip}" densityAware="true" width="40px" height="40px" backgroundPosition="center center" mode="Background" src="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"/></FlexBox></template:then><template:else><FlexBox height="40px"><Image id="linkListImage--{contentRow&gt;id}" class="sapUiSmallMarginEnd" alt="{contentRow&gt;imageAltText}" tooltip="{contentRow&gt;toolTip}" densityAware="true" width="36px" height="36px" backgroundPosition="center center" mode="Background" src="{path:\'contentRow&gt;imageUri\',formatter:\'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"/></FlexBox></template:else></template:if></VBox></template:then><template:elseif test="{contentRow&gt;imageUri}"><VBox class="sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }"><FlexBox height="40px"><core:Icon id="linkListIcon--{contentRow&gt;id}" class="sapOvpLinkListImageCenter" tooltip="{contentRow&gt;toolTip}" useIconTooltip="false" size="22px" src="{contentRow&gt;imageUri}"/></FlexBox></VBox></template:elseif></template:if><template:if test="{contentRow&gt;dataAction}"><template:then><VBox class="sapOvpLinkListItem"><Label id="linkListTitleLabel--{contentRow&gt;id}" text="{contentRow&gt;title}" class="{= ${contentRow&gt;subTitle} || !${contentRow&gt;subTitle} &amp;&amp; !${contentRow&gt;imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/><Label id="linkListSubTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListSubTitle" text="{contentRow&gt;subTitle}"/></VBox></template:then><template:elseif test="{= ${contentRow&gt;semanticObject} &amp;&amp; ${contentRow&gt;action} }"><VBox class="sapOvpLinkListItem"><Label id="linkListTitleLabel--{contentRow&gt;id}" text="{contentRow&gt;title}" class="{= ${contentRow&gt;subTitle} || !${contentRow&gt;subTitle} &amp;&amp; !${contentRow&gt;imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/><Label id="linkListSubTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListSubTitle" text="{contentRow&gt;subTitle}"/></VBox></template:elseif><template:else><VBox class="sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemCozy\' : \'sapOvpLinkListItemCompact\' }"><Label id="linkListTitleLabel--{contentRow&gt;id}" text="{contentRow&gt;title}" class="{= ${contentRow&gt;subTitle} || !${contentRow&gt;subTitle} &amp;&amp; !${contentRow&gt;imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/><Label id="linkListSubTitleLabel--{contentRow&gt;id}" class="sapOvpCardLinkListSubTitle" text="{contentRow&gt;subTitle}"/></VBox></template:else></template:if></HBox></CustomListItem></template:repeat></items></List></HBox></core:FragmentDefinition>',
	"sap/ovp/cards/list/CondensedBarList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build" xmlns:sfi="sap.ui.comp.smartfield" xmlns:navpopover="sap.ui.comp.navpopover" xmlns:micro="sap.suite.ui.microchart"><items><CustomListItem id="listItem" type="Active" press="onListItemPress" class="sapOvpBarList sapOvpBarCondensedList" build:metadata="#pattern:GenericCard&gt;CondensedBarList;set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties&gt;/listFlavor:bar"><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}"><template:then><navpopover:SmartLink class="sapOvpBarListDataField sapOvpOverflowEllipsisDataField sapOvpBarListTitle" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}"/></template:then><template:else><Text id="DataField" class="sapOvpBarListDataField sapOvpOverflowEllipsisDataField sapOvpBarListTitle" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;CondensedBarList;prop::ItemFirstAttribute:\\{lineItem&gt;/0/Value\\};"/></template:else></template:if><HBox class="sapOvpBarListHBox sapOvpBarStandardList"><micro:ComparisonMicroChart id="BarChartDataPoint" class="sapOvpBarListComparisonMicroChartAlignment" width="100%" shrinkable="true" colorPalette="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart\'}" minValue="{minMaxModel&gt;/minValue}" maxValue="{minMaxModel&gt;/maxValue}"><micro:data><micro:ComparisonMicroChartData displayValue=" " value="{= \'{path: \\\'\' + ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getFirstDataPointValue\'} + \'\\\', formatter: \\\'.returnBarChartValue\\\'}\' }" color="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor\'}"/></micro:data></micro:ComparisonMicroChart><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit\'}}"><template:then><ObjectNumber id="DataPoint1" class="sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpBarListObjectNumberPercentage" textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"/></template:then><template:else><ObjectNumber id="DataPoint1" class="sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpObjectNumber" textAlign="End" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}"/></template:else></template:if></template:if><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstContactAnnotation\'} === true}"><template:then><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField"><template:if test="{= ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:then><template:if test="{= ${dataField&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox class="textAlignRight"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onContactDetailsLinkPress"/></VBox></template:with></template:then></template:if></template:then></template:if></template:repeat></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 1}"><ObjectNumber id="DataPoint2" class="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?                                             \'sapOvpBarListObjectNumber sapOvpBarListSubDataField\' : \'sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber" textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" build:metadata="#pattern:GenericCard&gt;CondensedBarList;prop::ItemSecondNumberAttribute:\\{lineItem&gt;/2/Target@@Value\\};prop::ItemSecondAttributeToleranceRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemSecondAttributeDeviationRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/></template:if></template:else></template:if></HBox></CustomListItem></items></core:FragmentDefinition>',
	"sap/ovp/cards/list/ExtendedBarList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build" xmlns:sfi="sap.ui.comp.smartfield" xmlns:navpopover="sap.ui.comp.navpopover" xmlns:micro="sap.suite.ui.microchart"><items><CustomListItem id="listItem" type="Active" press="onListItemPress" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties&gt;/listType:extended;set:ovpCardProperties&gt;/listFlavor:bar"><HBox class="sapOvpBarListHBox sapOvpExtendedBarListHBox"><VBox class="sapOvpBarListVBoxLeft"><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}"><template:then><navpopover:SmartLink class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}"/></template:then><template:else><Text id="DataField1" class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;prop::ItemFirstAttribute:\\{lineItem&gt;/0/Value\\};"/></template:else></template:if><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField\'}"><template:then><navpopover:SmartLink class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'lineItem&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField\'}"/></template:then><template:else><Text id="DataField2" class="sapOvpBarListDataField sapOvpBarListSubDataField sapOvpExtendedBarListBlock sapOvpOverflowEllipsisDataField" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;prop::ItemSecondAttribute:\\{lineItem&gt;/1/Value\\};"/></template:else></template:if><layoutData><FlexItemData growFactor="1"/></layoutData><micro:ComparisonMicroChart id="BarChartDataPoint" class="sapOvpBarListComparisonMicroChartAlignment" width="100%" height="1rem" colorPalette="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart\'}" minValue="{minMaxModel&gt;/minValue}" maxValue="{minMaxModel&gt;/maxValue}"><micro:data><micro:ComparisonMicroChartData displayValue=" " value="{= \'{path: \\\'\' + ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getFirstDataPointValue\'} + \'\\\', formatter: \\\'.returnBarChartValue\\\'}\' }" color="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor\'}"/></micro:data></micro:ComparisonMicroChart></VBox><VBox class="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0 ? \'sapOvpBarListVBoxRight\' : \'sapOvpListEmptyField\'}"><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstContactAnnotation\'} === true}"><template:then><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField"><template:if test="{= ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:then><template:if test="{= ${dataField&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox class="textAlignRight" width="100%"><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" textAlign="Right" press="onContactDetailsLinkPress"/></VBox></template:with></template:then></template:if></template:then></template:if></template:repeat></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 1}"><ObjectNumber id="DataPoint2" class="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?                                             \'sapOvpBarListObjectNumber\' : \'sapOvpBarListObjectNumber sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber" textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;prop::ItemThirdAttribute:\\{lineItem&gt;/3/Target@@Value\\};prop::ItemThirdAttributeToleranceRangeLowValue:\\{lineItem&gt;/3/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemThirdAttributeDeviationRangeLowValue:\\{lineItem&gt;/3/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/></template:if></template:else></template:if><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 2}"><ObjectNumber id="DataPoint3" class="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?                                             \'sapOvpBarListObjectNumber\' : \'sapOvpBarListObjectNumber sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber" textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatThirdDataPointState\'}" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;prop::ItemFourthAttribute:\\{lineItem&gt;/4/Target@@Value\\}"/></template:if><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit\'}}"><template:then><ObjectNumber id="BarChartValue" class="sapOvpBarListObjectNumber sapOvpBarListObjectNumberPercentage sapOvpObjectNumber" textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;ExtendedBarList;prop::ItemProgressBarValue:\\{lineItem&gt;/2/Target@@Value\\}"/></template:then><template:else><ObjectNumber id="BarChartStateValue" class="sapOvpBarListObjectNumber valueStateText " textAlign="End" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}"/></template:else></template:if></VBox></HBox></CustomListItem></items></core:FragmentDefinition>',
	"sap/ovp/cards/list/List.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{= ${ovpCardProperties&gt;/imageSupported} &amp;&amp; ${ovpCardProperties&gt;/listType} === \'condensed\' }"><template:then><core:Fragment fragmentName="sap.ovp.cards.list.StandardListImage" type="XML"/></template:then><template:else><List id="ovpList" items="{parts:[{path:\'entitySet&gt;\'},{path:\'ovpCardProperties&gt;/annotationPath\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatItems\'}" class="cardType"><template:with path="ovpCardProperties&gt;/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="lineItem"><template:if test="{= ${ovpCardProperties&gt;/listType} === \'extended\'}"><template:then><template:if test="{= ${ovpCardProperties&gt;/listFlavor} === \'bar\'}"><template:then><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;barChartCard}" writeToDom="true"/></customData><core:Fragment fragmentName="sap.ovp.cards.list.ExtendedBarList" type="XML"/></template:then><template:else><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;listCard}" writeToDom="true"/></customData><core:Fragment fragmentName="sap.ovp.cards.list.ObjectList" type="XML"/></template:else></template:if></template:then><template:else><template:if test="{= ${ovpCardProperties&gt;/listFlavor} === \'bar\'}"><template:then><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;barChartCard}" writeToDom="true"/></customData><core:Fragment fragmentName="sap.ovp.cards.list.CondensedBarList" type="XML"/></template:then><template:else><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;listCard}" writeToDom="true"/></customData><core:Fragment fragmentName="sap.ovp.cards.list.StandardList" type="XML"/></template:else></template:if></template:else></template:if></template:with></List></template:else></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/list/ObjectList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build"><items><ObjectListItem id="listItem" class="sapOvpObjectListItem sapOvpListFragment" title="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}" numberState="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0 ? ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }" type="Active" press="onListItemPress" build:metadata="#pattern:GenericCard&gt;ObjectList;prop::ItemTitle:\\{lineItem&gt;/0/Value\\};prop::ItemNumber:\\{lineItem&gt;/3/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem&gt;/3/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem&gt;/3/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties&gt;/listType:extended"><attributes><ObjectAttribute id="listItem2Row1Column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;ObjectList;prop::ItemFirstAttribute:\\{lineItem&gt;/1/Value\\};"/><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 1}"><template:then><ObjectAttribute id="listItem3row1column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;ObjectList;prop::ItemSecondAttribute:\\{lineItem&gt;/2/Value\\};"/></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:then><ObjectAttribute id="listItem3row1column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/fourthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/></template:then><template:else><ObjectAttribute id="listItem3row1column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/fifthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/></template:else></template:if></template:else></template:if></attributes><firstStatus><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 1}"><template:then><ObjectStatus id="listItem2row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}" build:metadata="#pattern:GenericCard&gt;ObjectList;prop::ItemFirstStatus:\\{lineItem&gt;/4/Target@@Value\\};prop::ItemFirstStatusToleranceRangeLowValue:\\{lineItem&gt;/4/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemFirstStatusDeviationRangeLowValue:\\{lineItem&gt;/4/Target@@CriticalityCalculation/DeviationRangeLowValue\\};"/></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:then><ObjectStatus id="listItem2row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" state="None"/></template:then><template:else><ObjectStatus id="listItem2row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/fourthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" state="None"/></template:else></template:if></template:else></template:if></firstStatus><secondStatus><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 2}"><template:then><ObjectStatus id="listItem3row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatThirdDataPointState\'}" build:metadata="#pattern:GenericCard&gt;ObjectList;prop::ItemSecondStatus:\\{lineItem&gt;/5/Target@@Value\\};prop::ItemSecondStatusToleranceRangeLowValue:\\{lineItem&gt;/5/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemSecondStatusDeviationRangeLowValue:\\{lineItem&gt;/5/Target@@CriticalityCalculation/DeviationRangeLowValue\\};"/></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 1}"><template:then><ObjectStatus id="listItem3row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/fourthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" state="None"/></template:then><template:else><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:then><ObjectStatus id="listItem3row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/fifthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" state="None"/></template:then><template:else><ObjectStatus id="listItem3row2column" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/sixthDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" state="None"/></template:else></template:if></template:else></template:if></template:else></template:if></secondStatus></ObjectListItem></items></core:FragmentDefinition>',
	"sap/ovp/cards/list/StandardList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build"><items><StandardListItem id="listItem" class="sapOvpStandardListItem" title="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" description="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" info="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}" infoState="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0 ? ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }" type="Active" press="onListItemPress" build:metadata="#pattern:GenericCard&gt;StandardList;prop::ItemTitle:\\{lineItem&gt;/0/Value\\};prop::ItemDescription:\\{lineItem&gt;/1/Value\\};prop::ItemInfo:\\{lineItem&gt;/2/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem"/></items></core:FragmentDefinition>',
	"sap/ovp/cards/list/StandardListImage.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:build="sap.build"><List id="ovpList" items="{parts:[{path:\'entitySet&gt;\'},{path:\'ovpCardProperties&gt;/annotationPath\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatItems\'}"><template:with path="ovpCardProperties&gt;/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="lineItem"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;imageListCardType}" writeToDom="true"/></customData><items><StandardListItem id="listItem" class="sapOvpStandardListItem sapOvpStandardListItemImagesIcons" icon="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatImageUrl\'}" iconInset="false" title="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" description="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" info="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}" infoState="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0 ? ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }" type="Active" press="onListItemPress" build:metadata="#pattern:GenericCard&gt;StandardList;prop::ItemTitle:\\{lineItem&gt;/0/Value\\};prop::ItemDescription:\\{lineItem&gt;/1/Value\\};prop::ItemInfo:\\{lineItem&gt;/2/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem&gt;/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem"/></items></template:with></List></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingBar.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui3.5/extension/sap.ui.core.template/1" controllerName="sap.m.sample.Table.Table" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc"><VBox class="colorVBox" height="3.91875rem"><HBox><FlexBox class="sapOvpLoadingBar1" height="1rem" width="200px"/><FlexBox class="sapOvpLoadingBar2" height="1rem" width="0px"/></HBox></VBox><VBox class="colorVBox" height="3.91875rem"><HBox><FlexBox class="sapOvpLoadingBar1" height="1rem" width="150px"/><FlexBox class="sapOvpLoadingBar2" height="1rem" width="50px"/></HBox></VBox><VBox class="colorVBox" height="3.91875rem"><HBox><FlexBox class="sapOvpLoadingBar1" height="1rem" width="100px"/><FlexBox class="sapOvpLoadingBar2" height="1rem" width="100px"/></HBox></VBox><VBox class="colorVBox" height="6.11875rem"><HBox><FlexBox class="sapOvpLoadingBar1" height="1rem" width="50px"/><FlexBox class="sapOvpLoadingBar2" height="1rem" width="150px"/></HBox></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.stack\'}"><template:then><template:if test="{= ${ovpCardProperties&gt;/state} !== \'Error\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingStack" type="XML"/><core:HTML id="sapOvpLoadingCanvas" content="&lt;canvas class=&quot;sapOvpLoadingCardsCanvas&quot;/&gt;"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.loading.StackLoadingError" type="XML"/></template:else></template:if></template:then><template:else><template:if test="{= ${ovpCardProperties&gt;/state} !== \'Error\'}"><template:then><VBox class="sapOvpLoadingHeaderVBox" height="9rem"><core:HTML content="&lt;svg width=&quot;100%&quot; height=&quot;148px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;&lt;polygon points=&quot;0 0, 0 100,7 100, 7 15,70 15, 70 25,7 25, 7 65,90 65, 90 75,7 75, 7 80,90 80, 90 90,7 90, 7 100,100 100,100 0&quot; style=&quot;fill: white;&quot;&gt;&lt;/polygon&gt;&lt;/svg&gt;"/></VBox><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.table\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingTable" type="XML"/></template:then></template:if><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.list\'}"><template:then><template:if test="{= ${ovpCardProperties&gt;/listFlavor} === \'bar\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingListExtended" type="XML"/></template:else></template:if></template:then></template:if><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.linklist\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML"/></template:then></template:if><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.analytical\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML"/></template:then></template:if><VBox class="sapOvpLoadingHeaderVBox" height="3.125rem"><core:HTML content="&lt;svg width=&quot;100%&quot; height=&quot;50px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;&lt;polygon points=&quot;0 0,0 100,7 100,7 40,80 40,80 65,7 65,7 100,100 100,100 0&quot; style=&quot;fill: white;&quot;&gt;&lt;/polygon&gt;&lt;/svg&gt;"/></VBox><core:HTML id="sapOvpLoadingCanvas" content="&lt;canvas class=&quot;sapOvpLoadingCardsCanvas&quot;/&gt;"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.loading.LoadingError" type="XML"/></template:else></template:if></template:else></template:if></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingError.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_HEADER}" description="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_CONTENT}" class="contentOfError" size="9rem" showHeader="false"/></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingFooter.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"><VBox id="ovpCardLoadingFooter"><Text id="ovpLoadingFooter" width="100%" busy="false" class="sapOvpCardFooter"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;errorCard}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData></Text></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><HBox class="sapOvpLoadingListHBox"><HBox class="sapOvpLoadingListHBoxContent"><FlexBox calss="sapOvpLoadingListContent1"/><FlexBox calss="sapOvpLoadingListContent2"/></HBox><FlexBox alignItems="Start" direction="Column"><items><Text text="1" width="90px" class="sapOvpLoadingTable"/><Text text="2" width="150px" class="sapOvpLoadingTable"/></items></FlexBox><FlexBox alignItems="Start" direction="Column"><items><Text text="1" width="90px" class="sapOvpLoadingTable"/><Text text="2" width="150px" class="sapOvpLoadingTable"/></items></FlexBox><FlexBox alignItems="Start" direction="Column"><items><Text text="1" width="90px" class="sapOvpLoadingTable"/><Text text="2" width="150px" class="sapOvpLoadingTable"/></items></FlexBox><FlexBox alignItems="Start" direction="Column"><items><Text text="1" width="90px" class="sapOvpLoadingTable"/><Text text="2" width="150px" class="sapOvpLoadingTable"/></items></FlexBox></HBox></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingListExtended.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><items><CustomListItem><VBox class="sapOvpLoadingListVBox" height="3.575rem"><FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"/><FlexBox class="sapOvpLoadingListContentFlex" height="1rem"/></VBox><VBox class="sapOvpLoadingListVBox" height="3.575rem"><FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"/><FlexBox class="sapOvpLoadingListContentFlex" height="1rem"/></VBox><VBox class="sapOvpLoadingListVBox" height="3.575rem"><FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"/><FlexBox class="sapOvpLoadingListContentFlex" height="1rem"/></VBox><VBox class="sapOvpLoadingListVBox" height="3.575rem"><FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"/><FlexBox class="sapOvpLoadingListContentFlex" height="1rem"/></VBox><VBox class="sapOvpLoadingListVBox" height="3.575rem"><FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"/><FlexBox class="sapOvpLoadingListContentFlex" height="1rem"/></VBox></CustomListItem></items></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingStack.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><HBox class="sapOvpLoadingStackHBox" width="100%"><VBox class="sapOvpLoadingStackVBoxLeft"><core:HTML content="               &lt;svg width=&quot;100%&quot; height=&quot;176px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;               &lt;polygon points=&quot;0 0, 0 100,7 100,7 10, 70 10,70 20, 7 20,7 33, 90 33,90 43, 7 43,7 48, 90 48,90 58, 7 58,7 80, 90 80,90 90, 7 90,7 100, 100 100, 100 0&quot; style=&quot;fill: white;&quot;&gt;               &lt;/polygon&gt;               &lt;/svg&gt;"/></VBox><VBox class="sapOvpLoadingStackVBoxRight"/></HBox></core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingTable.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui3.5/extension/sap.ui.core.template/1" controllerName="sap.m.sample.Table.Table" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc"><VBox><HBox class="sapOvpLoadingTableVBox" height="3.575rem" justifyContent="SpaceBetween"><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpTableRight" height="1rem" width="30%"/></HBox><HBox class="sapOvpLoadingTableVBox" height="3.575rem" justifyContent="SpaceBetween"><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpTableRight" height="1rem" width="30%"/></HBox><HBox class="sapOvpLoadingTableVBox" height="3.575rem" justifyContent="SpaceBetween"><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpTableRight" height="1rem" width="30%"/></HBox><HBox class="sapOvpLoadingTableVBox" height="3.575rem" justifyContent="SpaceBetween"><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpTableRight" height="1rem" width="30%"/></HBox><HBox class="sapOvpLoadingTableVBox" height="3.575rem" justifyContent="SpaceBetween"><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"/><FlexBox class="sapOvpTableRight" height="1rem" width="30%"/></HBox></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/loading/StackLoadingError.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_HEADER}" description="{ovplibResourceBundle&gt;LOAD_DATA_ERROR_CONTENT}" class="stackContentOfError" size="6.5rem" showHeader="false"/></core:FragmentDefinition>',
	"sap/ovp/cards/map/Analytical/AnalyticalMap.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:lib="sap.ovp.cards.map.Analytical.AnalyticalMap" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m" xmlns:vbm="sap.ui.vbm" xmlns:ovp="sap.ovp.ui"><template:with path="ovpCardProperties&gt;/dynamicSubtitleAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="header"><template:with path="ovpCardProperties&gt;/dataPointAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="datapoint"><template:if test="{entitySet&gt;name}"><vbm:AnalyticMap id="vbi" width="100%" height="25rem" regions="{= ${entitySet&gt;name} ? \'{/\' + ${entitySet&gt;name} + \'}\' : \'\' }" disableZoom="true" disablePan="true" class="cardType"><vbm:regions><vbm:Region code="{path:\'datapoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.analyticRegions\'}" labelText="{= ${header&gt;Title/Value} ? ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }" click="regionClick"/></vbm:regions><vbm:customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;mapCardType}" writeToDom="true"/></vbm:customData></vbm:AnalyticMap></template:if></template:with></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/map/GeographicalMap.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:lib="sap.ovp.cards.map.GeographicalMap" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m" xmlns:vbm="sap.ui.vbm" xmlns:ovp="sap.ovp.ui"><template:with path="entityType&gt;com.sap.vocabularies.UI.v1.HeaderInfo" var="header"><template:with path="ovpCardProperties&gt;/geoLocationAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="geoLocation"><template:with path="ovpCardProperties&gt;/dataPointAnnotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="dataPoint"><template:if test="{entitySet&gt;name}"><vbm:GeoMap id="oVBI" width="100%" height="25rem" disableZoom="true" disablePan="true" class="cardType"><vbm:Spots id="Spots" items="{= ${entitySet&gt;name} ? \'{/\' + ${entitySet&gt;name} + \'}\' : \'\' }"><vbm:Spot id="Spot" click="onClickSpot" type="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.criticalityType\'}" labelType="{path:\'dataPoint&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.criticalityType\'}" position="{path:\'geoLocation&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatterGeo\'} " labelPos="1" labelText="{= ${header&gt;Title/Value} ? ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }"/></vbm:Spots><vbm:customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;mapCardType}" writeToDom="true"/></vbm:customData></vbm:GeoMap><ResponsivePopover class="quickViewResponsivePopover" id="quickViewPopover" contentWidth="20rem" placement="Auto" afterOpen="onAfterOpen"><customData><ovp:CustomData key="tabindex" value="0" writeToDom="true"/></customData><customHeader><Bar><contentMiddle><VBox width="20rem" class="mapPopoverHeader" id="popoverHeader" build:metadata="#pattern:GenericCard;isAbstract;prop::EntitySet:\\{ovpCardProperties&gt;/entitySet\\}"><customData><ovp:CustomData key="tabindex" value="0" writeToDom="true"/><ovp:CustomData key="role" value="button" writeToDom="true"/><ovp:CustomData key="aria-label" value="." writeToDom="true"/></customData><Label id="ovpQuickviewCardHeader" text="{= ${path: \'header&gt;TypeName\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} + \': \' + ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" tooltip="{= ${path: \'header&gt;TypeName\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} + \': \' + ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" class="sapOvpCardTitle tabindex-1 mapQuickViewHeaderText" build:metadata="#pattern:GenericCard;prop:text:Title"><customData><ovp:CustomData key="aria-label" value="{= ${ovpCardProperties&gt;/title} + \': \' + ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" writeToDom="true"/><ovp:CustomData key="role" value="heading" writeToDom="true"/></customData></Label></VBox></contentMiddle></Bar></customHeader><content><core:Fragment fragmentName="sap.ovp.cards.quickview.Quickview" type="XML"/><OverflowToolbar width="100%" class="mapQuickViewCardFooter"><core:Fragment fragmentName="sap.ovp.cards.generic.ActionsFooter" type="XML"/></OverflowToolbar></content></ResponsivePopover></template:if></template:with></template:with></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/quickview/Quickview.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><QuickViewCard id="quickViewCard" class="sapMPanelContent sapOvpCardContent cardType"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;quickViewCard}" writeToDom="true"/></customData><template:with path="entityType&gt;com.sap.vocabularies.UI.v1.HeaderInfo" var="header"><QuickViewPage pageId="quickViewPage" header="{= ${header&gt;TypeNamePlural} ? ${path: \'header&gt;TypeNamePlural\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }" icon="{= ${header&gt;ImageUrl} ? ${path: \'header&gt;ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : (${header&gt;TypeImageUrl} ? ${path: \'header&gt;TypeImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : \'\') }" title="{= ${header&gt;Title/Value} ? ${path: \'header&gt;Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }" description="{= ${header&gt;Description/Value} ? ${path: \'header&gt;Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }" build:metadata="#pattern:GenericCard&gt;StackCard;prop:icon:QuickviewImageUrl;prop:title:QuickviewTitle;prop:description:QuickviewDescription;set:entityType&gt;com.sap.vocabularies.UI.v1.Facets/0/com.sap.vocabularies.UI.v1.IsSummary:"><template:with path="ovpCardProperties&gt;/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="facets"><template:repeat list="{path:\'facets&gt;\'}" var="referenceFacet"><template:if test="{referenceFacet&gt;com.sap.vocabularies.UI.v1.IsSummary}"><template:with path="referenceFacet&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="target"><QuickViewGroup heading="{path:\'target&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" build:metadata="#pattern:GenericCard&gt;StackCard;staticProp:heading:QuickviewFormHeading;condition:\\{target&gt;AnnotationType:com.sap.vocabularies.UI.v1.FieldGroup\\}"><template:repeat list="{path:\'target&gt;Data\'}" var="dataField"><template:if test="{dataField&gt;Url}"><template:then><template:if test="{dataField&gt;Url/UrlRef}"><template:then><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" url="{path:\'dataField&gt;Url/UrlRef\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" type="link" build:metadata="#pattern:QuickViewGroupElement;staticProp:label:Label;prop:value:Value;prop:url:Url;staticProp::Type:\\{dataField&gt;Value@@sap:semantics\\}"/></template:then><template:else><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" url="{path:\'dataField&gt;Url\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" type="link" build:metadata="#pattern:QuickViewGroupElement;staticProp:label:Label;prop:value:Value;prop:url:Url;staticProp::Type:\\{dataField&gt;Value@@sap:semantics\\}"/></template:else></template:if></template:then><template:else><template:if test="{dataField&gt;Value}"><template:with path="dataField&gt;Value" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="fValue"><template:if test="{= ${fValue&gt;sap:semantics} === \'url\'}"><template:then><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" url="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" type="url"/></template:then><template:else><template:if test="{= ${fValue&gt;sap:semantics} === \'email\'}"><template:then><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" type="email"/></template:then><template:else><template:if test="{= ${fValue&gt;sap:semantics} === \'tel\'}"><template:then><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;Value\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" type="phone"/></template:then><template:else><QuickViewGroupElement label="{path:\'dataField&gt;Label\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" value="{path:\'dataField&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatField\'}"/></template:else></template:if></template:else></template:if></template:else></template:if></template:with></template:if></template:else></template:if></template:repeat></QuickViewGroup></template:with></template:if></template:repeat></template:with></QuickViewPage></template:with></QuickViewCard></core:FragmentDefinition>',
	"sap/ovp/cards/rta/AppSettingsDialog.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" controllerName="sap.ovp.cards.rta.AppSettingsDialog"><VBox class="sapOvpScrollContainer sapUiLargeMargin"><f:Form editable="true"><f:layout><f:ResponsiveGridLayout labelSpanXL="6" labelSpanL="6" labelSpanM="6" labelSpanS="6" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" singleContainerFullSize="false"/></f:layout><f:formContainers><f:FormContainer><f:formElements><f:FormElement label="{ovpResourceModel&gt;showGlobalFilter}"><f:fields><Switch state="{/showGlobalFilters}" type="Default" change="onChange"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_FILTER_ENTITY_TYPE}" visible="{/showGlobalFilters}"><f:fields><ComboBox items="{path:\'/allEntityTypes\'}" selectedKey="{/globalFilterEntityType}" forceSelection="false" change="onChange"><core:Item key="{name}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_LIVE_FILTER}" visible="{/showGlobalFilters}"><f:fields><Switch state="{/enableLiveFilter}" change="onChange" type="Default"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_SMART_VARIANT}" visible="{/showGlobalFilters}"><f:fields><Switch state="{/smartVariantRequired}" change="onChange" type="Default"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_CONTAINER_LAYOUT}"><f:fields><SegmentedButton selectedKey="{/containerLayout}" select="onChange"><items><SegmentedButtonItem key="fixed" text="fixed"/><SegmentedButtonItem key="resizable" text="resizable"/></items></SegmentedButton></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_DATE_RANGE_TYPE}" visible="{/showGlobalFilters}"><f:fields><Switch state="{/useDateRangeType}" change="onChange" type="Default"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LABEL_DATE_RELATIVE_FORMAT}"><f:fields><Switch state="{/showDateInRelativeFormat}" change="onChange" type="Default"/></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers></f:Form></VBox></mvc:View>',
	"sap/ovp/cards/rta/SelectIcons.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ovp.cards.rta.SelectIcons"><Toolbar><Title text="{ovpResourceModel&gt;OVP_KEYUSER_ICONS_DIALOG}({/NoOfIcons})" class="sapUiSmallMarginBegin"/><ToolbarSpacer/><SearchField placeholder="{ovpResourceModel&gt;OVP_KEYUSER_PLACEHOLDER_FOR_SEARCH}" width="40%" search="filterTable" class="{= ${tableRows&gt;/densityStyle} === \'compact\' ? \'sapUiSizeCompact\' : \'\'}"/></Toolbar><ScrollContainer id="iconsScrollContainer" class="sapOvpScrollContainer" width="100%" horizontal="false" vertical="true" focusable="true"><Table id="IconTable" inset="false" fixedLayout="false" items="{/Icons}" visible="{= ${/tableName} === \'IconTable\' ? true : false}"><columns><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_ICON}"/></Column><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_NAME}"/></Column></columns><items><ColumnListItem type="Active" press="onItemPress"><cells><core:Icon src="{Icon}"/><Text text="{Name}"/></cells></ColumnListItem></items></Table><Table id="ImageTable" inset="false" fixedLayout="false" items="{/Images}" visible="{= ${/tableName} === \'ImageTable\' ? true : false}"><columns><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_IMAGE}"/></Column><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_NAME}"/></Column></columns><items><ColumnListItem type="Active" press="onItemPress"><cells><Image src="{Image}" width="3rem" height="3rem"/><Text text="{Name}"/></cells></ColumnListItem></items></Table></ScrollContainer></mvc:View>',
	"sap/ovp/cards/rta/SelectLineItem.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ovp.cards.rta.SelectLineItem"><Toolbar><Title text="{ovpResourceModel&gt;OVP_KEYUSER_LINEITEM_ANNO}({/NoOfLineItem})" class="sapUiSmallMarginBegin"/><ToolbarSpacer/><SearchField placeholder="{ovpResourceModel&gt;OVP_KEYUSER_PLACEHOLDER_FOR_SEARCH}" width="40%" search="filterTable" class="{= ${tableRows&gt;/densityStyle} === \'compact\' ? \'sapUiSizeCompact\' : \'\'}"/></Toolbar><ScrollContainer id="lineItemScrollContainer" class="sapOvpScrollContainer" width="100%" horizontal="false" vertical="true" focusable="true"><Table id="LineItemTable" inset="false" fixedLayout="false" items="{/lineItem}"><columns><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_LINEITEM_QUAL}"/></Column><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_VISIBLE_FIELDS}"/></Column></columns><items><ColumnListItem type="Active" press="onItemPress"><cells><Text text="{Label}"/><Text text="{VisibleFields}"/></cells></ColumnListItem></items></Table></ScrollContainer></mvc:View>',
	"sap/ovp/cards/rta/SelectLinks.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ovp.cards.rta.SelectLinks"><Toolbar><Title text="{ovpResourceModel&gt;OVP_KEYUSER_APPLICATIONS_DIALOG}({/NoOfLinks})" class="sapUiSmallMarginBegin"/><ToolbarSpacer/><SearchField placeholder="{ovpResourceModel&gt;OVP_KEYUSER_PLACEHOLDER_FOR_SEARCH}" width="40%" search="filterTable" class="{= ${tableRows&gt;/densityStyle} === \'compact\' ? \'sapUiSizeCompact\' : \'\'}"/></Toolbar><ScrollContainer id="linksScrollContainer" class="sapOvpScrollContainer" width="100%" horizontal="false" vertical="true" focusable="true"><Table id="LinkTable" inset="false" fixedLayout="false" items="{/links}"><columns><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_APPLICATION_NAME}"/></Column><Column><Label text="{ovpResourceModel&gt;OVP_KEYUSER_TABLE_TITLE_TECHNICAL_NAME}"/></Column></columns><items><ColumnListItem type="Active" press="onItemPress"><cells><Text text="{name}"/><Text text="{value}"/></cells></ColumnListItem></items></Table></ScrollContainer></mvc:View>',
	"sap/ovp/cards/rta/SettingsDialog.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:l="sap.ui.layout" controllerName="sap.ovp.cards.rta.SettingsDialog"><OverflowToolbar width="100%" visible="{visibility&gt;/viewSwitchEnabled}" class="sapOvpSettingsDialogOverFlowToolbar sapUiSmallMarginTopBottom"><ToolbarSpacer/><Select enabled="{visibility&gt;/showViewSwitch}" items="{path:\'/aViews\'}" selectedKey="{/selectedKey}" change="selectViewSwitch"><core:Item key="{key}" text="{text}"/></Select><Button id="addView" text="{ovpResourceModel&gt;OVP_KEYUSER_ADD_VIEW_BUTTON}" press="addView" type="Transparent"/><Button id="deleteView" enabled="{visibility&gt;/showViewName}" type="Transparent" text="{ovpResourceModel&gt;OVP_KEYUSER_DELETE_VIEW_BUTTON}" press="deleteView"/><ToolbarSpacer/></OverflowToolbar><template:if test="{= ${deviceSystemProperties&gt;/phone}}"><template:then><Carousel><pages><l:VerticalLayout><core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogCardPreview" type="XML"/></l:VerticalLayout><l:VerticalLayout><core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogForm" type="XML"/></l:VerticalLayout></pages></Carousel></template:then><template:else><ScrollContainer id="SettingsDialogScrollContainerForForm" class="sapOvpScrollContainer" width="100%" horizontal="false" vertical="true" focusable="true"><FlexBox id="dialogContainer" direction="{deviceMediaProperties&gt;/deviceMedia}"><VBox id="dialogCardVBox"><core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogCardPreview" type="XML"/></VBox><VBox id="sapOvpSettingsForm"><core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogForm" type="XML"/></VBox></FlexBox></ScrollContainer></template:else></template:if></mvc:View>',
	"sap/ovp/cards/rta/SettingsDialogCardPreview.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><VBox class="sapUiSmallMarginTop sapUiSmallMarginBegin"><HBox id="dialogCardOverlay" class="dialogCardVBox dialogCardOverlay"><core:ComponentContainer id="dialogCard" busyIndicatorDelay="0" busy="true" visible="{visibility&gt;/cardPreview}"/><MessagePage id="dialogCardNoPreview" visible="{= !${visibility&gt;/cardPreview}}" icon="sap-icon://map-3" class="sapOvpSettingsDialogErrorPreviewWidth" showHeader="false" description=""/></HBox><HBox visible="{visibility&gt;/showViewSwitch}"><Button class="sapUiMediumMarginBottom" enabled="{/isViewResetEnabled}" press="resetView" text="{ovpResourceModel&gt;OVP_KEYUSER_RESET_VIEW_BUTTON}" type="Transparent"/></HBox></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/rta/SettingsDialogForm.fragment.xml":'<core:FragmentDefinition xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m"><f:Form editable="true"><f:layout><f:ResponsiveGridLayout labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" singleContainerFullSize="false"/></f:layout><f:formContainers><f:FormContainer id="sapOvpSettingsFormContainer"><f:formElements><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_TITLE}" visible="{visibility&gt;/title}"><f:fields><Input id="sapOvpSettingsTitle" value="{/title}" change="validateInputField" editable="true" required="true" valueState="{= ${/title} === \'\' ? \'Error\' : \'None\'}" valueStateText="{= ${/title} === \'\' ? ${ovpResourceModel&gt;OVP_KEYUSER_INPUT_ERROR_VALUE_STATE} : \'\'}"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_DYNAMIC_SUBTITLE_SWITCH}" visible="{visibility&gt;/dynamicSwitchSubTitle}"><f:fields><Switch id="sapOvpSettingsSwitchSubTitle" state="{visibility&gt;/dynamicSwitchStateSubTitle}" type="Default" change="updateCard"/></f:fields></f:FormElement><template:if test="{= ${ovpCardProperties&gt;/template} !== \'sap.ovp.cards.linklist\'}"><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_VIEW_NAME}" visible="{visibility&gt;/showViewName}"><f:fields><Input id="sapOvpSettingsViewName" value="{/viewName}" change="validateInputField" required="true" valueState="{= ${/viewName} === \'\' ? \'Error\' : \'None\'}" valueStateText="{= ${/viewName} === \'\' ? ${ovpResourceModel&gt;OVP_KEYUSER_INPUT_ERROR_VIEW_NAME} : \'\'}"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SET_DEFAULT}" visible="{visibility&gt;/showDefaultView}"><f:fields><Switch id="sapOvpDefaultViewSwitch" state="{/isDefaultView}" change="updateCard" type="Default"/></f:fields></f:FormElement></template:if><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SUBTITLE}" visible="{visibility&gt;/dynamicSubTitle}"><f:fields><ComboBox id="sapOvpSettingsDynamicSubTitle" width="100%" items="{path:\'/dynamicSubTitle\'}" selectedKey="{/dynamicSubtitleAnnotationPath}" forceSelection="false" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SUBTITLE}" visible="{visibility&gt;/subTitle}"><f:fields><Input id="sapOvpSettingsSubTitle" value="{/subTitle}" change="updateCard" editable="true"/></f:fields></f:FormElement><template:if test="{= ${ovpCardProperties&gt;/template} !== \'sap.ovp.cards.linklist\'}"><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_KPI_HEADER}" visible="{visibility&gt;/kpiHeader}"><f:fields><Switch id="sapOvpSettingsKPIHeaderSwitch" state="{/hasKPIHeader}" type="Default" change="updateCard"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_KPI_Value}" visible="{visibility&gt;/dataPoint}"><f:fields><ComboBox id="sapOvpSettingsDataPoint" width="100%" items="{path:\'/dataPoint\'}" selectedKey="{/dataPointAnnotationPath}" forceSelection="false" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_KPI_DESCRIPTION}" visible="{visibility&gt;/valueSelectionInfo}"><f:fields><Input id="sapOvpSettingsValueSelectionInfo" value="{/valueSelectionInfo}" change="updateCard" editable="true"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LIST_TYPE}" visible="{visibility&gt;/listType}"><f:fields><Switch id="sapOvpSettingsListType" state="{/isExtendedList}" change="updateCard" type="Default"/></f:fields></f:FormElement></template:if><f:FormElement label="{ovpCardProperties&gt;/listFlavorName}" visible="{visibility&gt;/listFlavor}"><f:fields><Switch id="sapOvpSettingsListFlavorForList" state="{/isBarList}" type="Default" change="updateCard"/></f:fields></f:FormElement><f:FormElement label="{ovpCardProperties&gt;/listFlavorName}" visible="{visibility&gt;/listFlavorForLinkList}"><f:fields><SegmentedButton id="sapOvpSettingsListFlavorForLinkList" select="updateCard" selectedKey="{/listFlavor}"><items><SegmentedButtonItem id="sapOvpSettingsListFlavorList" key="standard" text="{ovpResourceModel&gt;OVP_KEYUSER_LIST_TEXT_SEG_BUTTON}"/><SegmentedButtonItem id="sapOvpSettingsListFlavorCarousel" key="carousel" text="{ovpResourceModel&gt;OVP_KEYUSER_CAROUSEL_TEXT_SEG_BUTTON}"/></items></SegmentedButton></f:fields></f:FormElement><template:if test="{= ${ovpCardProperties&gt;/template} !== \'sap.ovp.cards.linklist\'}"><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SORTBY}" visible="{visibility&gt;/sortBy}"><f:fields><ComboBox id="sapOvpSettingsSortBy" width="100%" items="{path:\'/modelProperties\'}" selectedKey="{/sortBy}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SORTORDER}" visible="{visibility&gt;/sortOrder}"><f:fields><SegmentedButton id="sapOvpSettingsSortOrder" select="updateCard" selectedKey="{/sortOrder}"><items><SegmentedButtonItem id="sapOvpSettingsSortOrderDescending" key="descending" text="{ovpResourceModel&gt;OVP_KEYUSER_ORDER_DESC}"/><SegmentedButtonItem id="sapOvpSettingsSortOrderAscending" key="ascending" text="{ovpResourceModel&gt;OVP_KEYUSER_ORDER_ASC}"/></items></SegmentedButton></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SELECTION_PRESENTATION_VAR}" visible="{visibility&gt;/selectionPresentationVariant}"><f:fields><ComboBox id="sapOvpSettingsFilterAndPresentedBy" width="100%" items="{path:\'/selectionPresentationVariant\'}" selectedKey="{/selectionPresentationAnnotationPath}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SELECTION_VAR}" visible="{visibility&gt;/selectionVariant}"><f:fields><ComboBox id="sapOvpSettingsFilterBy" width="100%" items="{path:\'/selectionVariant\'}" selectedKey="{/selectionAnnotationPath}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_PRESENTATION_VAR}" visible="{visibility&gt;/presentationVariant}"><f:fields><ComboBox id="sapOvpSettingsPresentedBy" width="100%" items="{path:\'/presentationVariant\'}" selectedKey="{/presentationAnnotationPath}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LINEITEM_ANNO}" visible="{visibility&gt;/lineItem}"><f:fields><Input id="sapOvpSettingsLineItem" value="{path:\'/lineItemQualifier\'}" showValueHelp="true" editable="true" enabled="true" valueHelpOnly="true" valueHelpRequest="openLineItemValueHelpDialog"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_IDENTIFICATION_ANNO}" visible="{visibility&gt;/identification}"><f:fields><ComboBox id="sapOvpSettingsIdentification" width="100%" items="{path:\'/identification\'}" selectedKey="{/identificationAnnotationPath}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_TYPE_OF_CHART}" visible="{visibility&gt;/chart}"><f:fields><ComboBox id="sapOvpSettingsChart" width="100%" items="{path:\'/chart\'}" forceSelection="false" selectedKey="{/chartAnnotationPath}" change="updateCard"><core:Item key="{value}" text="{name}"/></ComboBox></f:fields></f:FormElement></template:if><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.linklist\' &amp;&amp; ${ovpCardProperties&gt;/staticContent}}"><f:FormElement><f:fields><Toolbar><content><ToolbarSpacer/><Button id="moveToTheTop" tooltip="Top" icon="sap-icon://collapse-group" press="onPressMoveToTheTop" enabled="{visibility&gt;/moveToTheTop}" type="Transparent"/><Button id="moveUp" tooltip="Up" icon="sap-icon://navigation-up-arrow" press="onPressMoveUp" enabled="{visibility&gt;/moveUp}" type="Transparent"/><Button id="moveDown" tooltip="Down" icon="sap-icon://navigation-down-arrow" press="onPressMoveDown" enabled="{visibility&gt;/moveDown}" type="Transparent"/><Button id="moveToTheBottom" tooltip="Bottom" icon="sap-icon://expand-group" press="onPressMoveToTheBottom" enabled="{visibility&gt;/moveToTheBottom}" type="Transparent"/><Button id="delete" tooltip="Delete" icon="sap-icon://delete" press="onPressDelete" enabled="{visibility&gt;/delete}" type="Transparent"/><Button id="add" tooltip="Add" icon="sap-icon://add" press="onPressAdd" type="Transparent"/></content></Toolbar></f:fields></f:FormElement><f:FormElement><f:fields><core:Fragment fragmentName="sap.ovp.cards.rta.StaticLinkListCardLineItemsPanel" type="XML"/></f:fields></f:FormElement></template:if><template:if test="{= ${ovpCardProperties&gt;/layoutDetail} === \'resizable\'}"><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_STOP_RESIZE}" visible="{visibility&gt;/stopResizing}"><f:fields><Switch id="sapOvpSettingsStopResize" state="{= !${/stopResizing}}" type="Default" change="onResizingChange"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_DEFAULT_NUMBER_OF_COLUMNS}" visible="{visibility&gt;/noOfColumns}"><f:fields><ComboBox id="sapOvpSettingsNumberOfColumns" width="100%" items="{path:\'/NoOfColumns\'}" forceSelection="false" selectedKey="{/defaultSpan/cols}" change="onNumberOfColumnsChanged"><core:Item key="{value}" text="{value}"/></ComboBox></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_DEFAULT_NUMBER_OF_ROWS}" visible="{visibility&gt;/noOfRows}"><f:fields><template:if test="{= ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.analytical\' ||                                         ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.smart.chart\' ||                                         ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.bubble\' ||                                         ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.donut\' ||                                         ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.charts.line\' ||                                         ${ovpCardProperties&gt;/template} === \'sap.ovp.cards.linklist\'}"><template:then><ComboBox id="sapOvpSettingsNumberOfRows" width="100%" items="{path:\'/NoOfRows\'}" forceSelection="false" selectedKey="{/defaultSpan/rows}" change="onNumberOfRowsChanged"><core:Item key="{value}" text="{name}"/></ComboBox></template:then><template:else><StepInput id="sapOvpSettingsNumberOfRows" value="{/defaultSpan/rows}" min="0" max="99" valueStateText="Number of Rows should be between 0 and 99" change="onNumberOfRowsChanged"/></template:else></template:if></f:fields></f:FormElement></template:if></f:formElements></f:FormContainer></f:formContainers></f:Form></core:FragmentDefinition>',
	"sap/ovp/cards/rta/StaticLinkListCardLineItemsPanel.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns="sap.m"><ScrollContainer id="scrollContainer" class="sapOvpScrollContainer" height="20rem" width="100%" horizontal="false" vertical="true" focusable="true"><List id="sapOvpStaticLinkListLineItem" class="sapOvpSettingsDialogCustomList" items="{/staticContent}" selectionChange="onSelectionChange" mode="SingleSelectLeft" includeItemInSelection="true"><items><CustomListItem type="Active"><HBox><VBox width="30%" visible="{= !${deviceSystemProperties&gt;/phone}}" alignItems="Center" justifyContent="Center"><HBox><Image class="sapUiSmallMargin" visible="{= !!${imageUri} &amp;&amp; ${path: \'imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true}" alt="{imageAltText}" tooltip="{toolTip}" densityAware="true" width="4rem" height="4rem" backgroundPosition="center center" mode="Background" src="{parts:[{path:\'/\'},{path:\'imageUri\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getImageUrl\'}"/><VBox visible="{= !!${imageUri} &amp;&amp; ${path: \'imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false}" class="sapUiSmallMargin sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }"><FlexBox height="3rem"><core:Icon class="sapOvpLinkListImageCenter" tooltip="{toolTip}" useIconTooltip="false" size="3rem" src="{imageUri}"/></FlexBox></VBox><VBox visible="{= !${imageUri}}" class="sapUiSmallMargin sapOvpLinkListItem {= ${ovpCardProperties&gt;/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }"><FlexBox height="3rem"><core:Icon class="sapOvpLinkListImageCenter" tooltip="{toolTip}" useIconTooltip="false" size="3rem" src="sap-icon://background"/></FlexBox></VBox></HBox><HBox visible="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"><Button class="sapOvpSettingsMiniMarginBeginEnd" tooltip="Change Visual" icon="sap-icon://edit" press="onChangeVisualPress" enabled="true" type="Transparent"/><Button class="sapOvpSettingsMiniMarginBeginEnd" tooltip="Remove Visual" icon="sap-icon://delete" press="onRemoveVisualPress" enabled="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'},{path:\'visibility&gt;/removeVisual\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}" type="Transparent"/></HBox></VBox><VBox><f:Form editable="true"><f:layout><f:ResponsiveGridLayout labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" singleContainerFullSize="false"/></f:layout><f:formContainers><f:FormContainer><f:formElements><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_TITLE_FOR_LINK}" visible="{visibility&gt;/lineItemTitle}"><f:fields><Input id="sapOvpSettingsLineItemTitle" value="{title}" change="validateInputField" required="true" valueState="{= ${title} === \'\' ? \'Error\' : \'None\'}" valueStateText="{= ${title} === \'\' ? ${ovpResourceModel&gt;OVP_KEYUSER_INPUT_ERROR_RECORD_TITLE} : \'\'}"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_SUBTITLE_FOR_LINK}" visible="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'},{path:\'visibility&gt;/lineItemSubTitle\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"><f:fields><Input id="sapOvpSettingsLineItemSubTitle" value="{subTitle}" change="updateCard"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LINK_TYPE}" visible="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"><f:fields><RadioButtonGroup columns="2" select="onLinkSourceChange" selectedIndex="{= ${parts:[{path:\'index\'}, {path:\'visibility&gt;/showMore\'}, {path:\'visibility&gt;/staticLink\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'} === true ? 1 : 0}"><buttons><RadioButton text="{ovpResourceModel&gt;OVP_KEYUSER_APPLICATION_TEXT_RAD_BUTTON}"/><RadioButton text="{ovpResourceModel&gt;OVP_KEYUSER_URL_TEXT_RAD_BUTTON}"/></buttons></RadioButtonGroup></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LINKS}" visible="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'},{path:\'visibility&gt;/staticLink\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"><f:fields><Input value="{targetUri}" change="onExternalUrlChange" required="true" valueState="{= ${path: \'targetUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isValidURL\'} === false ? \'Error\' : \'None\'}" valueStateText="{= ${path: \'targetUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isValidURL\'} === false ? ${ovpResourceModel&gt;OVP_KEYUSER_INPUT_ERROR_RECORD_URL} : \'\'}"/></f:fields></f:FormElement><f:FormElement label="{ovpResourceModel&gt;OVP_KEYUSER_LINKS}" visible="{parts:[{path:\'index\'},{path:\'visibility&gt;/showMore\'},{path:\'visibility&gt;/links\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"><f:fields><Input value="{parts:[{path:\'staticCardProperties&gt;/links\'},{path:\'semanticObject\'},{path:\'action\'}],formatter:\'sap.ovp.cards.linklist.AnnotationHelper.getApplicationName\'}" showValueHelp="true" editable="true" enabled="true" valueHelpOnly="true" required="true" valueHelpRequest="createValueHelpDialogForInternalUrl"/></f:fields></f:FormElement><f:FormElement><f:fields><FlexBox justifyContent="End"><Link text="{= !${parts:[{path:\'index\'}, {path:\'visibility&gt;/showMore\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'} ? ${ovpResourceModel&gt;OVP_KEYUSER_SHOW_MORE_LINK}: ${ovpResourceModel&gt;OVP_KEYUSER_SHOW_LESS_LINK}}" press="onShowMorePress"/></FlexBox></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers></f:Form></VBox></HBox></CustomListItem></items></List></ScrollContainer></core:FragmentDefinition>',
	"sap/ovp/cards/stack/Stack.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"><VBox id="stackContent" class="sapOvpStackCardContent" justifyContent="SpaceBetween"><customData><ovp:CustomData key="tabindex" value="0" writeToDom="true"/><ovp:CustomData key="role" value="button" writeToDom="true"/></customData><Label id="stackSize" class="sapOvpStackCardSize"><customData><ovp:CustomData key="role" value="" writeToDom="true"/></customData></Label><Text id="stackTotalSize" class="sapOvpStackCardTotalSize"/><core:Icon id="StackCardIcon" class="sapOvpStackCardIcon" src="sap-icon://dimension" useIconTooltip="false"/></VBox></core:FragmentDefinition>',
	"sap/ovp/cards/table/Table.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><Table id="ovpTable" class="ovpTableClass cardType" items="{parts:[{path:\'entitySet&gt;\'},{path:\'ovpCardProperties&gt;/annotationPath\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatItems\'}" build:metadata="#pattern:GenericCard&gt;Table;set:ovpCardProperties&gt;/annotationPath:com.sap.vocabularies.UI.v1.LineItem"><customData><ovp:CustomData key="aria-label" value="{ovplibResourceBundle&gt;tableCard}" writeToDom="true"/></customData><template:if test="{= ${ovpCardProperties&gt;/layoutDetail} === \'resizable\'}"><template:then><core:Fragment fragmentName="sap.ovp.cards.table.TableDashBoardLayout" type="XML"/></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.table.TableEasyScanLayout" type="XML"/></template:else></template:if></Table></core:FragmentDefinition>',
	"sap/ovp/cards/table/TableDashBoardLayout.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:navpopover="sap.ui.comp.navpopover" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:with path="ovpCardProperties&gt;/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="eachItem"><template:with path="eachItem&gt;" helper="sap.ovp.cards.AnnotationHelper.removeDuplicateDataField" var="lineItem"><columns><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField"><template:if test="{= ${dataField&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/High\'}"><template:then><template:if test="{= ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><Column styleClass="sapTableColumnHide" visible="false"><Text text="{path:\'dataField&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:then><template:elseif test="{= ${dataField&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'Left\' : \'Right\'}"><Text class="displayBlock {= ${path: \'dataField&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'textAlignLeft\' : \'textAlignRight\'}" text="{path:\'dataField&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField1"><template:if test="{= ${dataField1&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Medium\'}"><template:then><template:if test="{= ${dataField1&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><Column styleClass="sapTableColumnHide" visible="false"><Text text="{path:\'dataField1&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:then><template:elseif test="{= ${dataField1&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField1&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField1&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'Left\' : \'Right\'}"><Text class="displayBlock {= ${path: \'dataField1&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField1&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'textAlignLeft\' : \'textAlignRight\'}" text="{path:\'dataField1&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField2"><template:if test="{= ${dataField2&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Low\'}"><template:then><template:if test="{= ${dataField2&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><Column styleClass="sapTableColumnHide" visible="false"><Text text="{path:\'dataField2&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:then><template:elseif test="{= ${dataField2&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField2&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField2&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'Left\' : \'Right\'}"><Text class="displayBlock {= ${path: \'dataField2&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField2&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'textAlignLeft\' : \'textAlignRight\'}" text="{path:\'dataField2&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField3"><template:if test="{=  !${dataField3&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember}}"><template:then><template:if test="{= ${dataField3&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><Column styleClass="sapTableColumnHide" visible="false"><Text text="{path:\'dataField3&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:then><template:elseif test="{= ${dataField3&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField3&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField3&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'Left\' : \'Right\'}"><Text class="displayBlock {= ${path: \'dataField3&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField3&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0 ? \'textAlignLeft\' : \'textAlignRight\'}" text="{path:\'dataField3&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/></Column></template:elseif></template:if></template:then></template:if></template:repeat></columns><items><ColumnListItem id="tableItem" type="Active" press="onColumnListItemPress"><cells><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField4"><template:if test="{= ${dataField4&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/High\'}"><template:then><template:if test="{= ${dataField4&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField4&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"><template:then><navpopover:SmartLink class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }" text="{path:\'dataField4&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField4&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"/></template:then><template:else><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'dataField4&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/></template:else></template:if></template:then><template:elseif test="{= ${dataField4&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:if test="{= ${dataField4&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField4&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField4&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField4&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField4&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" class="textAlignLeft {= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onContactDetailsLinkPress"/></VBox></template:with></template:then><template:elseif test="{= ${path: \'dataField4&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties&gt;/enableLocaleCurrencyFormatting} === false}"><sfi:SmartField class="{= ${path: \'dataField4&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}" editable="false" uomEditable="false" enabled="true" clientSideMandatoryCheck="false" value="{path:\'dataField4&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"><sfi:controlProposal><sfi:ControlProposal><sfi:objectStatus><sfi:ObjectStatus criticality="{path:\'dataField4&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}" criticalityRepresentationType="WithoutIcon"/></sfi:objectStatus></sfi:ControlProposal></sfi:controlProposal></sfi:SmartField></template:elseif><template:else><ObjectNumber class="{= ${path: \'dataField4&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber" number="{parts:[{path:\'dataField4&gt;\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}" unit="{parts:[{path:\'dataField4&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'dataField4&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/></template:else></template:if></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField5"><template:if test="{= ${dataField5&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Medium\'}"><template:then><template:if test="{= ${dataField5&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField5&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"><template:then><navpopover:SmartLink class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }" text="{path:\'dataField5&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField5&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"/></template:then><template:else><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'dataField5&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/></template:else></template:if></template:then><template:elseif test="{= ${dataField5&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:if test="{= ${dataField5&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField5&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField5&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField5&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField5&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" class="textAlignLeft {= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onContactDetailsLinkPress"/></VBox></template:with></template:then><template:elseif test="{= ${path: \'dataField5&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties&gt;/enableLocaleCurrencyFormatting} === false}"><sfi:SmartField class="{= ${path: \'dataField5&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}" editable="false" uomEditable="false" enabled="true" clientSideMandatoryCheck="false" value="{path:\'dataField5&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"><sfi:controlProposal><sfi:ControlProposal><sfi:objectStatus><sfi:ObjectStatus criticality="{path:\'dataField5&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}" criticalityRepresentationType="WithoutIcon"/></sfi:objectStatus></sfi:ControlProposal></sfi:controlProposal></sfi:SmartField></template:elseif><template:else><ObjectNumber class="{= ${path: \'dataField5&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber" number="{parts:[{path:\'dataField5&gt;\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}" unit="{parts:[{path:\'dataField5&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'dataField5&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/></template:else></template:if></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField6"><template:if test="{= ${dataField6&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Low\'}"><template:then><template:if test="{= ${dataField6&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField6&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"><template:then><navpopover:SmartLink class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }" text="{path:\'dataField6&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField6&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"/></template:then><template:else><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'dataField6&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/></template:else></template:if></template:then><template:elseif test="{= ${dataField6&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:if test="{= ${dataField6&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField6&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField6&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField6&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField6&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" class="textAlignLeft {= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onContactDetailsLinkPress"/></VBox></template:with></template:then><template:elseif test="{= ${path: \'dataField6&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties&gt;/enableLocaleCurrencyFormatting} === false}"><sfi:SmartField class="{= ${path: \'dataField6&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}" editable="false" uomEditable="false" enabled="true" clientSideMandatoryCheck="false" value="{path:\'dataField6&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"><sfi:controlProposal><sfi:ControlProposal><sfi:objectStatus><sfi:ObjectStatus criticality="{path:\'dataField6&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}" criticalityRepresentationType="WithoutIcon"/></sfi:objectStatus></sfi:ControlProposal></sfi:controlProposal></sfi:SmartField></template:elseif><template:else><ObjectNumber class="{= ${path: \'dataField6&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber" number="{parts:[{path:\'dataField6&gt;\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}" unit="{parts:[{path:\'dataField6&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'dataField6&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/></template:else></template:if></template:elseif></template:if></template:then></template:if></template:repeat><template:repeat list="{path:\'lineItem&gt;\'}" var="dataField7"><template:if test="{=  !${dataField7&gt;com.sap.vocabularies.UI.v1.Importance/EnumMember} }"><template:then><template:if test="{= ${dataField7&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}"><template:then><template:if test="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField7&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"><template:then><navpopover:SmartLink class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }" text="{path:\'dataField7&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}" semanticObject="{parts:[{path:\'entitySet&gt;\'},{path:\'dataField7&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}"/></template:then><template:else><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'dataField7&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/></template:else></template:if></template:then><template:elseif test="{= ${dataField7&gt;RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}"><template:if test="{= ${dataField7&gt;Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') &gt;= 0}"><template:then><template:with path="dataField7&gt;Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact"><VBox><core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/><Link binding="{= ${ path: \'dataField7&gt;Target/AnnotationPath\'}.indexOf(\'/\') &gt; -1 ? \'{\' + ${path: \'dataField7&gt;Target/AnnotationPath\'}.slice(0, ${ path: \'dataField7&gt;Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}" class="textAlignLeft {= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{path:\'contact&gt;fn\',formatter:\'sap.ui.model.odata.AnnotationHelper.format\'}" press="onContactDetailsLinkPress"/></VBox></template:with></template:then><template:elseif test="{= ${path: \'dataField7&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties&gt;/enableLocaleCurrencyFormatting} === false}"><sfi:SmartField class="ovpSmartLink {= ${path: \'dataField7&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}" editable="false" uomEditable="false" enabled="true" clientSideMandatoryCheck="false" value="{path:\'dataField7&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"><sfi:controlProposal><sfi:ControlProposal><sfi:objectStatus><sfi:ObjectStatus criticality="{path:\'dataField7&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}" criticalityRepresentationType="WithoutIcon"/></sfi:objectStatus></sfi:ControlProposal></sfi:controlProposal></sfi:SmartField></template:elseif><template:else><ObjectNumber class="{= ${path: \'dataField7&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber" number="{parts:[{path:\'dataField7&gt;\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}" unit="{parts:[{path:\'dataField7&gt;\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'dataField7&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/></template:else></template:if></template:elseif></template:if></template:then></template:if></template:repeat></cells></ColumnListItem></items></template:with></template:with></core:FragmentDefinition>',
	"sap/ovp/cards/table/TableEasyScanLayout.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui" xmlns:sfi="sap.ui.comp.smartfield" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><template:if test="{= ${ovpCardProperties&gt;/disableTableCardFlexibility} === true}"><template:then><template:with path="ovpCardProperties&gt;/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="lineItem"><columns><Column><Text text="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getFirstDataFieldName\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::FirstColumnTitle:\\{lineItem&gt;/0/Label\\};"/></Column><Column><Text text="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getSecondDataFieldName\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::SecondColumnTitle:\\{lineItem&gt;/1/Label\\};"/></Column><Column hAlign="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'Center\' : \'Right\'}"><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:then><Text class="displayBlock {= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}" text="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getLabelForFirstDataPoint\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::ThirdColumnTitle:\\{lineItem&gt;/2/Target@@Title\\};"/></template:then><template:else><Text text="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.getThirdDataFieldName\'}"/></template:else></template:if></Column></columns><items><ColumnListItem id="tableItem" type="Active" press="onColumnListItemPress"><cells><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::FirstAttribute:\\{lineItem&gt;/0/Value\\}"/><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/secondDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::SecondAttribute:\\{lineItem&gt;/1/Value\\}"/><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} &gt; 0}"><template:then><template:if test="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticality\'} === true &amp;&amp; ${ovpCardProperties&gt;/enableLocaleCurrencyFormatting} === false}"><template:then><sfi:SmartField class="textAlignCenter" editable="false" uomEditable="false" enabled="true" clientSideMandatoryCheck="false" value="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"><sfi:controlProposal><sfi:ControlProposal><sfi:objectStatus><sfi:ObjectStatus criticality="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointStateForSmartField\'}" criticalityRepresentationType="WithoutIcon"/></sfi:objectStatus></sfi:ControlProposal></sfi:controlProposal></sfi:SmartField></template:then><template:else><ObjectNumber class="{= ${path: \'lineItem&gt;\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber" number="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'},{path:\'ovpConstants&gt;/dontIncludeUOM\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}" unit="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/firstDataPointIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatUnit\'}" state="{path:\'lineItem&gt;\',formatter:\'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}" build:metadata="#pattern:GenericCard&gt;Table;prop::Number:\\{lineItem&gt;/2/Target@@Value\\};prop::NumberToleranceRangeLowValue:\\{lineItem&gt;2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::NumberDeviationRangeLowValue:\\{lineItem&gt;2/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/></template:else></template:if></template:then><template:else><Text class="{= ${ovpCardProperties&gt;/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }" text="{parts:[{path:\'lineItem&gt;\'},{path:\'ovpConstants&gt;/thirdDataFieldIndex\'}],formatter:\'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/></template:else></template:if></cells></ColumnListItem></items></template:with></template:then><template:else><core:Fragment fragmentName="sap.ovp.cards.table.TableDashBoardLayout" type="XML"/></template:else></template:if></core:FragmentDefinition>',
	"sap/ovp/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ovp","type":"library","embeds":["app","cards/charts/analytical","cards/charts/generic","cards/charts/smart/chart","cards/custom","cards/error","cards/generic","cards/image","cards/linklist","cards/list","cards/loading","cards/map/Analytical","cards/map","cards/quickview","cards/stack","cards/table"],"applicationVersion":{"version":"1.56.5"},"title":"SAP library: sap.ovp","description":"SAP library: sap.ovp","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.56","libs":{"sap.ui.core":{"minVersion":"1.56.5"},"sap.ui.layout":{"minVersion":"1.56.5"},"sap.ui.generic.app":{"minVersion":"1.56.5"},"sap.m":{"minVersion":"1.56.5"},"sap.f":{"minVersion":"1.56.5"},"sap.ui.comp":{"minVersion":"1.56.5"},"sap.viz":{"minVersion":"1.56.5","lazy":true},"sap.suite.ui.microchart":{"minVersion":"1.56.5","lazy":true}}},"library":{"i18n":"messagebundle.properties","content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}'
},"sap/ovp/library-preload"
);
//# sourceMappingURL=library-preload.js.map